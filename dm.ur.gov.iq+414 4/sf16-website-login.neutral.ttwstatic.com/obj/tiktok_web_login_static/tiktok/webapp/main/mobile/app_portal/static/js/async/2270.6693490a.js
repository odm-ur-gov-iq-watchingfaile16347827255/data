"use strict";(self.webpackChunk_webapp_mobile_app_portal=self.webpackChunk_webapp_mobile_app_portal||[]).push([["2270"],{64275:function(e,t,i){i.d(t,{C:()=>el});var r,n,o=i(33041),a=i(84457),l=i(61714),d=i(35279),s=i(85370),u=i(36932),c=i(1793),v=i(13369),f=i(11393),m=function(e){var{onShow:t}=e,i=(0,l.useRef)(null),r=(0,f.fB)(()=>{if(i.current){var{top:e}=i.current.getBoundingClientRect();e>=0&&e<window.innerHeight&&t()}},[t],100);return(0,l.useEffect)(()=>{r()},[]),(0,l.useEffect)(()=>(window.addEventListener("scroll",r),()=>{window.removeEventListener("scroll",r)}),[r]),(0,u.tZ)("div",{ref:i,children:(0,u.tZ)(v.g,{center:!0,maskKey:"self-detector"})})},p=i(21528),h=i(53107),g=i(28682),_=i(35388),b=i(74286),y=i(95602),w=i(31678),C=i(89149),x=i(58255),k=i(44965),j=i(58295),S=i(59837),Z=i(78529),L=i(97193),T=i(46588),I=i(21584),P=i(69031),B=i(70367),E=i(43507),M=i(35269),R=i(13790),A=i(65561),V=i(88448),q=i(56300),D=i(36204),O=i(14830),F=(0,O.Z)("div",{target:"eikxw50",label:"f59ed85f--DivBadge"})(e=>{var{theme:{colors:t,fontFamilies:i},useSmallBadge:r}=e;return{display:"inline-flex",padding:"0.0625rem 0.3125rem",alignItems:"center",gap:"0.625rem",borderRadius:"4px",background:"#fe2c55",color:t.ConstTextInverse,textAlign:"center",fontSize:r?"0.65rem":"0.75rem",fontStyle:"normal",fontFamily:i.TikTokFont,fontWeight:500,lineHeight:r?"110%":"130%",letterSpacing:"0.01006rem"}}),z=e=>{var{children:t,useSmallBadge:i}=e;return(0,u.tZ)(F,{"data-e2e":"video-card-badge",useSmallBadge:i,children:t})},G=(0,O.Z)("div",{target:"e1gu53n00",label:"f59ed85f--DivHeaderContainer"})(e=>{var{padding:t,theme:{direction:i}}=e;return{position:"absolute",top:0,width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",padding:null!=t?t:".5rem",direction:i,zIndex:1}}),H=(0,O.Z)("div",{target:"e1gu53n01",label:"f59ed85f--DivLeftSection"})(e=>{var{theme:{direction:t}}=e;return{display:"flex",alignItems:"center",justifyContent:"flex-start",direction:t}}),U=(0,O.Z)("div",{target:"e1gu53n02",label:"f59ed85f--DivRightSection"})(e=>{var{theme:{direction:t}}=e;return{display:"flex",alignItems:"center",justifyContent:"flex-end",direction:t}}),K=(0,l.memo)(function(e){var{left:t,right:i}=e;return(0,u.BX)(G,{children:[t&&(0,u.tZ)(H,{children:t}),i&&(0,u.tZ)(U,{children:i})]})}),N=(0,l.memo)(function(e){var{videoData:t,pageType:i,itemListKey:r,sortType:n}=e,o=(0,T.Q)();if(!(0,M.Ws)(t,r===D.n8.UserPost&&n!==q.ab.POPULAR&&n!==q.ab.OLDEST))return null;var a=i===V.G.User&&(0,u.tZ)(z,{children:o("profile_page_pin",{},"Pinned")});return(0,u.tZ)(K,{left:a})}),W=i(82471),J=i(90405),Q=i(45368),X=i(69010),Y=i(84854),$=i(20687),ee=i(11613),et=i(35561),ei=i(65228),er=i(77160),en=i(57739),eo=i(45630),ea=(0,l.memo)(e=>{var t,{id:i,index:r,showBottomInfo:n=!0,pageType:u,itemListKey:c,enableShowCaptionMask:v=!1,onClickVideo:f,appLink:m}=e,h=(0,T.Q)(),_=(0,I.YA)(),b=(0,w.fz)(P.nF),y=(0,a.mp)(et.v,{selector:e=>e[i],dependencies:[i]}),{video:V,officalItem:q=!1,originalItem:D=!1,stats:O,statsV2:F,forFriend:z,vl1:G,author:H="",desc:U="",music:K,showNotPass:ea,itemMute:el=!1}=(0,B.m7)(y),{playCount:ed=0}=(0,B.m7)(null!=F?F:O),es=(0,X.Yr)(u),{cover:eu,zoomCover:ec,dynamicCover:ev}=(0,B.m7)(V),ef=(0,a.mp)($.s,{selector:e=>e.users[null!=H?H:""],dependencies:[H]}),{nickname:em=""}=null!=ef?ef:{},ep=(0,l.useRef)(0),{showVideoMask:eh}=(0,ee.zG)({item:y,hasClosedMask:!1}),eg="https://www.tiktok.com".concat(_(y)),e_=(0,l.useRef)(null),{title:eb="",authorName:ey=""}=(0,B.m7)(K),ew=h("seo_user_video_cover",{videoText:U,videoAuthor:em,musicAuthor:ey,musicName:eb}),eC=(0,Y.D)(),ex=(0,l.useCallback)(e=>{(0,E.NS)(e),ea||null==f||f(r)},[f,r,ea]),ek=(0,l.useCallback)(()=>{ep.current!==er.Ks&&(clearTimeout(ep.current),ep.current=er.Ks)},[ep]),ej=(0,a.qj)(p.b),eS=(0,l.useCallback)(()=>{v&&(document.body.style.webkitUserSelect="none",ep.current=window.setTimeout(()=>{ej.setCurrentVideoId(i),ej.openVideoInfoCard(),W._.handleGeneralClick("info_card_icon",{group_id:i}),J.O.showSection("info_card",{group_id:i})},500))},[v,ej,i]),eZ=(0,l.useCallback)(()=>{ek()},[ek]),eL=(0,l.useCallback)(()=>{document.body.style.webkitUserSelect="initial",ek()},[ek]),eT=(0,l.useCallback)(e=>{el&&(e.preventDefault(),e.stopPropagation(),Q.h.destroy(),Q.h.open({content:h("music_detail_unavailable_1"),duration:3,widthType:"half"}))},[el,h]);(0,l.useEffect)(()=>(window.oncontextmenu=function(){return!1},()=>{ek()}),[ek]);var eI=(0,M.gk)(y),{armCoreContentEvent:eP}=(0,l.useContext)(g._),eB=(0,l.useCallback)(()=>{var e,t;null==eP||eP(),e=document.querySelector("#ssg-app"),t=document.querySelector("#app"),e&&(t.style.visibility="visible",e.remove()),b.reportActualFMP()},[eP]),eE=(0,R.t)({item:(0,s._)((0,d._)({},y),{author:ef}),originalAltText:()=>ew}),eM=C.VJ("video-card-for-bot-hook",{src:null==V?void 0:V.playAddr,poster:null==V?void 0:V.cover,posterAlt:eE,Img:en.J8,Video:en.D}),{isSSG:eR}=(0,eo.M)();return(0,o.jsx)(en.us,{onClick:ex,onTouchStart:eS,onTouchMove:eZ,onTouchEnd:eL,ref:e_,children:(0,o.jsxs)(ei.T,{ratio:er.Rx,e2eTag:"video-item",children:[(0,o.jsxs)(en.BH,{href:eR&&m?m:eg,style:{pointerEvents:eR?"auto":"none"},children:[!ea&&(null!=(t=null==eM?void 0:eM.videoCard4Bot)?t:(0,o.jsx)(A.y,{alt:eE,video:{cover:eu,zoomCover:ec,dynamicCover:ev,quality:"480"},onLoad:eB,"data-fmp":!0,useDynamic:1!==u&&4!==u&&3!==u&&!eC})),q&&(0,o.jsx)(en.vK,{children:h("official_tag")}),D&&(0,o.jsx)(en.vK,{children:h("original_tag")}),!ea&&eI&&(0,o.jsx)(en.Vc,{children:(0,o.jsx)(x.d,{size:16})}),n&&!ea&&(0,o.jsxs)(en.oL,{children:[(0,o.jsxs)(en.O2,{"data-e2e":"video-views",children:[(0,o.jsx)(en.hu,{children:(0,o.jsx)(en.P_,{width:"100%",height:"100%",fill:"#fff"})}),(0,o.jsx)(en.nB,{children:(0,B.BT)(ed)})]}),G&&!z&&(0,o.jsx)(k.Z,{width:16,height:16,fill:"#fff"}),z&&(0,o.jsx)(j.Z,{width:18,height:18,fill:"#fff"})]}),ea&&(0,o.jsx)(en.uv,{children:(0,o.jsx)(en.Gf,{children:h("cover_notice_violation")})}),eh&&(0,o.jsx)(en.by,{children:(0,o.jsx)(S.Z,{width:32,height:32,fill:"#fff"})}),es&&(0,o.jsx)(en.HM,{children:(0,o.jsx)(Z.Z,{width:24,height:24,fill:"#fff"})})]}),el&&(0,o.jsx)(en.AA,{onClickCapture:eT,children:(0,o.jsx)(L.Z,{fill:"#fff",width:18,height:18})}),(0,o.jsx)(N,{videoData:y,pageType:u,itemListKey:c})]})})}),el=(0,l.memo)((r=function(e){var{loading:t,itemList:i,showBottomInfo:r=!0,enableShowCaptionMask:n=!1,pageType:d,itemListKey:s,itemCount:u=b.rG,needLoadMore:c=!0,onHitBottom:f,e2eTag:m="",frozen:w,onClickVideo:C,teaParams:x,columnCount:k=3,appLink:j}=e,S=(0,l.useCallback)(()=>{!w&&c&&(null==f||f())},[w,c,f]),Z=(0,l.useRef)(null),L=(0,l.useRef)(null);(0,l.useEffect)(()=>{L.current&&Z.current&&L.current.unobserve(Z.current),L.current=new IntersectionObserver(function(e){e[0].intersectionRatio<=0||S()}),L.current.observe(Z.current)},[Z.current,S]);var T=(0,y.TH)(),I=(0,a.qj)(p.b);(0,l.useEffect)(()=>()=>{I.setIsOpen(!1)},[T]);var P=(0,h.GQ)();return(0,l.useEffect)(()=>{P.updateVideo({currentVideo:{id:i[0],index:0,mode:1},teaParams:{playMode:"list_auto"},playProgress:0})},[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(en.TO,{"data-e2e":m,columnCount:k,children:(0,o.jsx)(g._.Provider,{value:_.bM,children:i.slice(0,u).map((e,t)=>(0,o.jsx)(ea,{showBottomInfo:r,enableShowCaptionMask:n,id:e,index:t,onClickVideo:C,pageType:d,itemListKey:s,teaParams:x,appLink:j},e))})}),(0,o.jsx)("div",{ref:Z,style:{height:"1px"}}),t&&(0,o.jsx)(en.rv,{children:(0,o.jsx)(v.g,{center:!0})})]})},(n=e=>{var{ssrLimitDisable:t=!1,noFrozenLoading:i=!1}=e,[n,o]=(0,l.useState)(!t&&!i),[a,c]=(0,l.useState)(!0),v=(0,l.useCallback)(()=>{o(!1)},[]);(0,l.useEffect)(()=>{a&&c(!1),void 0!==window.requestIdleCallback?window.requestIdleCallback(v):setTimeout(()=>{v()},0)},[v,a]);var f=(0,l.useMemo)(()=>{if(n&&!t&&a){var i;return e.itemList.slice(0,null!=(i=e.ssrLimit)?i:2)}return e.itemList},[n,e.itemList,e.ssrLimit,t,a]),p=(0,s._)((0,d._)({},e),{itemList:f,frozen:n});return(0,u.BX)(u.HY,{children:[(0,u.tZ)(r,(0,d._)({},p)),n&&(0,u.tZ)(m,{onShow:v})]})}).displayName="WithLimitedListSSR(".concat((0,c.i)(r),")"),n))},88266:function(e,t,i){i.d(t,{Xp:()=>b,mJ:()=>w,uJ:()=>y});var r=i(35279),n=i(84457),o=i(22573),a=i(61714),l=i(45368),d=i(70367),s=i(35269),u=i(46588),c=i(82471),v=i(42139),f=i(91802),m=i(62185),p=i(20933),h=i(35561),g=i(6241),_=i(8652),b=e=>{var{list:t,statusCode:i,pageType:l,loadData:u}=e,c=(0,a.useRef)(0),v=(0,n.mp)(h.v),g=t[c.current],{authorId:_=""}=(0,d.m7)(v[g]),{handleReportVideoChange:b,handleReportSeeMore:y,handleSlideReady:w}=(0,f.M)({list:t,itemMap:v,currIndexRef:c,listStatusCode:i,pageType:l,playMode:"browser_mode",onVideoLimit:o.Z}),{videoCount:C,setCommonReportInfo:x}=(0,m.C)(),{handleReportDownloadModal:k}=(0,p.Un)({group_id:g,author_id:_,page_type:l}),j=(0,s._v)(v[g]);return{handleSlideReady:w,handleSlideChange:(0,a.useCallback)((e,i)=>{c.current=e;var n=t[e],{authorId:o=""}=(0,d.m7)(v[n]),a=t.length;x({videoId:n,authorId:o,videoCountPlusOne:!0}),y(n,o),b((0,r._)({slideDirection:e>i?"next":"prev",prevIndex:i,activeIndex:e,authorId:o},j)),k({enter_method:"bottom_bar",modal_type:"bottom_bar",video_count:C+1,events:["download_app_notify"],active_group_id:n,active_author_id:o}),a-e<2&&u()},[t,v,x,y,b,j,k,C,u]),videoCount:C,currentIndexRef:c}},y=e=>{var{list:t,statusCode:i,enterBrowseModeType:r,pageType:s,currentIndexRef:b,loadData:y}=e,w=(0,n.mp)(h.v),{setShowCtaGuide:C}=(0,n.qj)(g._),x=(0,u.Q)(),k=t[b.current],{authorId:j=""}=(0,d.m7)(w[k]),{handleReportSeeMore:S}=(0,f.M)({list:t,itemMap:w,currIndexRef:b,listStatusCode:i,pageType:s,playMode:"browser_mode",onVideoLimit:o.Z}),{videoCount:Z,setCommonReportInfo:L}=(0,m.C)(),[{showPlayer:T},{setDetailPageVideoSwiperOpen:I}]=(0,n.b7)(g._,{selector:e=>({showPlayer:e.detailPageVideoSwiperOpen}),dependencies:[]});(0,a.useEffect)(()=>()=>I(!1),[I]);var{handleReportDownloadModal:P}=(0,p.Un)({group_id:k,author_id:j,page_type:s}),{playVideo:B}=(0,_.y)();return{handleClickVideo:(0,a.useCallback)((e,i,n)=>o=>{b.current=o;var a,s,u,f=t[o],{authorId:m=""}=(0,d.m7)(w[f]),p=t.length;if("reposted"===e?c._.handleGeneralClick("repost_video",{display_order:o,tab_name:e,click_position:"consumption"}):c._.handleGeneralClick("click_video",{display_order:o,tab_name:e,click_position:"consumption"}),(null==i?void 0:i.needTriggerCta)&&(null==i?void 0:i.ctaTriggerClick)){c._.handleTap({target:"click_content"}),i.ctaTriggerClick();return}var h=null!=(u=null==w?void 0:w[f])?u:null==n?void 0:n[o];if((null==h||null==(a=h.AnchorTypes)?void 0:a.includes(33))&&!(null==(s=h.video)?void 0:s.playAddr)){l.h.destroy(),l.h.open({content:x("web_tts_playVideoUsingApp_toast"),duration:3}),C(!0);return}0===o&&(L({videoId:f,authorId:m,videoCountPlusOne:!0}),S(f,m),P({enter_method:"bottom_bar",modal_type:"bottom_bar",video_count:Z+1,events:["download_app_notify"],active_group_id:f,active_author_id:m})),p-o<2&&y();var g={type:r,group_id:f};e&&(g.from_tab=e),v.r.handleEnterBrowser(g),I(!0),B({canRetry:!1,videoId:f,index:o})},[b,t,w,r,I,B,L,S,P,Z,y]),handleBack:(0,a.useCallback)(()=>{I(!1)},[I]),showPlayer:T}},w=e=>{var{active:t,show:i}=e,r=(0,n.qj)(g._);(0,a.useEffect)(()=>{t&&r.setDetailPageBottomBannerShowMask(i)},[t,r,i])}},69010:function(e,t,i){i.d(t,{Yr:()=>d,cn:()=>s});var r=i(61714);i(95602);var n=i(67274),o=i(57289),a=i(46588),l=i(74878),d=e=>4===e||3===e||1===e,s=e=>{var t,i=(0,a.Q)(),{language:d="en"}=null!=(t=(0,l.L)(()=>["language"],[]))?t:{},s=(0,r.useMemo)(()=>{var t,i;return(0,n.fH)({uniqueId:null!=(i=null==e||null==(t=e.author)?void 0:t.uniqueId)?i:"",videoId:null==e?void 0:e.id})},[e]);return{title:(0,r.useMemo)(()=>{var t,r=(0,o.s)({statusCode:0,itemInfo:{itemStruct:e},t:i,language:d});return null!=(t=null==r?void 0:r.title)?t:null==e?void 0:e.desc},[i,d,e]),href:s}}},65561:function(e,t,i){i.d(t,{y:()=>C});var r,n=i(35279),o=i(85370),a=i(57421),l=i(36932),d=i(14830),s=i(61714),u=i(86036),c=i(56300),v=i(34265),f=i(74878),m=i(77272),p=i(70601),h=i(30352),g=["240","480","720","960"],_=(0,d.Z)("div",{target:"elqz51v0",label:"f59ed85f--Box"})("width:100%;height:100%;position:relative;& img{object-fit:",e=>{var t;return null!=(t=e.objectFit)?t:"cover"},";}"),b=(0,d.Z)("img",{target:"elqz51v1",label:"f59ed85f--Img"})("width:100%;height:100%;object-fit:",e=>{var t;return null!=(t=e.objectFit)?t:"cover"},";"),y=(r=0,()=>r++),w=(0,s.forwardRef)(function(e,t){var i,r,{className:o,objectFit:d,style:p,video:b,imagexSsrMode:w=!0,onLoad:C,useDynamic:x,"data-fmp":k}=e,j=(0,a._)(e,["className","objectFit","style","video","imagexSsrMode","onLoad","useDynamic","data-fmp"]),{zoomCover:S,cover:Z="",quality:L,loading:T="lazy"}=b,I=(0,h.a)(null==S?void 0:S["240"]),{userAgent:P}=null!=(i=(0,f.L)(()=>["userAgent"],[]))?i:{},{isIOS:B,videoCoverSettings:E}=null!=(r=(0,m.h)(()=>["isIOS","videoCoverSettings"],[]))?r:{},M=/^((?!chrome|android).)*safari/i.test(null!=P?P:""),R="undefined"==typeof window,A=w&&R&&E;A&&E._ssrCount++;var V=R?0:y(),[q,D,O]=(0,v.Ay)("video-cover-viewer-ssr-count"),F=!!w&&(R||V<Number(q)),[z,G]=(0,s.useState)(!1),H=(0,s.useCallback)(e=>{e.target.currentSrc.startsWith("data:image")||(null==C||C(e),G(!0))},[C]);return(0,l.BX)(_,{className:o,style:p,objectFit:d,ref:t,children:[A&&(0,l.tZ)(O,{data:E._ssrCount}),(0,l.tZ)(u.A,(0,n._)({ssr:F,ua:P,src:Z,formats:I===c.b6.AVIF?["avif"]:I===c.b6.WEBP?["webp"]:[],imageSizes:g.map(e=>Number(e)),layout:"fill",loader:e=>{var t;return"image"===e.format&&I!==c.b6.JPEG?Z:((t=L?null==S?void 0:S[L]:null==S?void 0:S[e.width||"720"])||(t=Z).startsWith("http://")&&(t=t.replace("http://","https://")),t)},loading:M||B?"eager":T,error:(0,l.tZ)("div",{}),onLoad:H,"data-fmp":R||z?k:void 0},j))]})}),C=(0,s.memo)((0,s.forwardRef)(function(e,t){var{useDynamic:i,video:r}=e,d=(0,a._)(e,["useDynamic","video"]),{dynamicCover:u,loading:v}=r,[f,m]=(0,s.useState)(!!u);return((0,s.useEffect)(()=>{if(i&&(0,h.a)(u)===c.b6.WEBP){var{supportWebp:e}=(0,p.g$)();m(e)}},[]),i&&f)?(0,l.tZ)(b,(0,n._)({loading:v,src:u,ref:t},d)):(0,l.tZ)(w,(0,o._)((0,n._)({},e),{ref:t}))}),(e,t)=>{var i,r;return e.video.cover===t.video.cover&&e.video.quality===t.video.quality&&(null==(i=e.video)?void 0:i.loading)===(null==(r=t.video)?void 0:r.loading)&&e.objectFit===t.objectFit})},97844:function(e,t,i){i.d(t,{n:()=>r});var r=Object.freeze({statusCode:i(97330).G.Ok,loading:!0,list:[],browserList:[],hasMore:!0,cursor:"0",preloadList:[]})}}]);
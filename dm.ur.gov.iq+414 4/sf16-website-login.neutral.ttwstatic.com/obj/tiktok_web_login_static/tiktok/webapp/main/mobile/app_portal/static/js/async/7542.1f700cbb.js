"use strict";(self.webpackChunk_webapp_mobile_app_portal=self.webpackChunk_webapp_mobile_app_portal||[]).push([["7542"],{33023:function(e,t,n){n.d(t,{Og:()=>o,T_:()=>r,Tn:()=>m,oQ:()=>i,tV:()=>c,wu:()=>d});var l=n(35279),u=n(85370),a=n(7522),o=(0,n(54238).K)("basicPlayerAtom@tiktok/webapp-atoms",{mute:!0,playing:!0,volume:0,canAutoPlay:!0,playProgress:null}),{useServiceState:i,useServiceDispatchers:r,useAtomService:s}=(0,a.T)(o,(e,t)=>({setMute(e){t(o,t=>(0,u._)((0,l._)({},t),{mute:e}))},setVolume(e){t(o,t=>(0,u._)((0,l._)({},t),{volume:Math.min(Math.max(0,e),1)}))},setPlaying(e){t(o,t=>(0,u._)((0,l._)({},t),{playing:e}))},setCanAutoPlay(e){t(o,t=>(0,u._)((0,l._)({},t),{canAutoPlay:e}))},getStaticBasicPlayerState:()=>e(o)})),d=()=>i(e=>e.mute),m=()=>i(e=>e.volume),c=()=>i(e=>e.playProgress)},37828:function(e,t,n){n.d(t,{Fk:()=>h,Mz:()=>p,s_:()=>w});var l=n(35279),u=n(85370),a=n(61714),o=n(61506),i=n(49864),r=n(45368),s=n(33023),d=n(43507),m=n(46588),c=n(32977),v=n(60402),_=n(69695);function h(e){var{loadingThreshold:t=1e3,isCurrentVideo:n}=e,[l,u]=(0,a.useState)(!1),o=(0,a.useRef)(0),i=(0,a.useCallback)(()=>{o.current&&window.clearTimeout(o.current),u(!1)},[]),r=(0,a.useCallback)(()=>{t?(o.current&&window.clearTimeout(o.current),o.current=window.setTimeout(()=>{u(!0)},t)):u(!0)},[t]);return(0,a.useEffect)(()=>(n||(window.clearTimeout(o.current),u(!1)),()=>window.clearTimeout(o.current)),[n]),{loading:l,handleCanPlayWithLoading:i,handlePauseWithLoading:i,handlePlayingWithLoading:i,handleErrorWithLoading:i,handleWaitingWithLoading:r}}function p(){var[e,t]=(0,a.useState)(!0),n=(0,a.useCallback)(()=>{t(!1)},[]),l=(0,a.useCallback)(()=>{t(!0)},[]);return(0,a.useEffect)(()=>{var e=(0,d.Y8)(n,l);return()=>{null==e||e()}},[l,n]),e}function w(e){var{playMode:t,itemMute:n=!1}=e,d=(0,m.Q)(),{mute:h,volume:p}=(0,v.S)(),w=n||h,g=(0,s.T_)(),y=(0,c.il)(),f=(0,a.useCallback)(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.E.Click,s=arguments.length>2?arguments[2]:void 0,m=arguments.length>3?arguments[3]:void 0;if(n||m)return r.h.destroy(),r.h.open({content:d("music_detail_unavailable_1"),duration:3,widthType:"half"}),!1;if(i.$.handleSwitchSound((0,u._)((0,l._)({},s),{muted:e,playMode:t,enter_method:a})),i.$.handleVolumeChange({volume_to:p,click_mute:!0}),_.Bv.setItem("muted",e),g.setMute(e),!e&&0===_.Bv.getItem("volume")){var c=.6;"v2"===y?c=.7:"v3"===y?c=.75:"v4"===y?c=.5:"v5"===y&&(c=.4),_.Bv.setItem("volume",c),g.setVolume(c)}return!0},[g,t,y,p,d,n]);return{mute:w,volume:p,setMute:f}}},60402:function(e,t,n){n.d(t,{S:()=>u,g:()=>a});var l=n(33023),u=()=>({mute:(0,l.wu)(),volume:(0,l.Tn)()}),a=e=>{var{mute:t,volume:n,playing:u}=(0,l.oQ)(t=>({mute:e||t.mute,volume:t.volume,playing:t.playing}));return{mute:t,volume:n,playing:u}}},49864:function(e,t,n){n.d(t,{$:()=>o});var l=n(22554),u=n(49173),a={[u.jl.OneColumn]:"one-column",[u.jl.ThreeColumn]:"three-column",[u.jl.BrowserMode]:"browser-mode",[u.jl.VideoDetail]:"video-detail",[u.jl.Pip]:"pip",[u.jl.FullscreenMode]:"fullscreen",[u.jl.CreatorTab]:"creator_tab",[u.jl.MiniPlayer]:"mini_player",[u.jl.ImmersivePlayer]:"immersive_player",[u.jl.TiktokStories]:"tiktok_stories"},o={handleSwitchSound:e=>{var{muted:t,playMode:n,enter_method:u="click",volume_from:o,volume_to:i,aweme_type:r,pic_cnt:s}=e;void 0!==o&&void 0!==i?l.W.sendEvent("switch_sound",{sound_mode:i>o?"adjust_up":"adjust_down",play_mode:a[n],enter_method:u,volume_from:o,volume_to:i,aweme_type:null!=r?r:0,pic_cnt:s}):l.W.sendEvent("switch_sound",{sound_mode:t?"off":"on",play_mode:a[n],enter_method:u,aweme_type:null!=r?r:0,pic_cnt:s})},handleVideoUnmuteButtonShow:()=>{l.W.sendEvent("unmute_show")},handleVideoUnmuteButtonClicked:()=>{l.W.sendEvent("unmute_click")},handleVolumeChange:e=>{var{volume_from:t=0,volume_to:n=0,click_mute:u=!1}=e;l.W.sendEvent("volume_change",{volume_change:u?0:Number((n-t).toFixed(4)),volume_level:n,click_mute:u})}}}}]);
!function(){"use strict";var y=function(){return(y=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}).apply(this,arguments)};function C(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,o,i=e.call(n),u=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)u.push(r.value)}catch(n){o={error:n}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return u}function _(n,t,e){if(e||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return n.concat(r||Array.prototype.slice.call(t))}function v(n){return JSON.stringify({ev_type:"batch",list:n})}var b=function(){return{}};function x(n){return n}function w(n){return"object"==typeof n&&null!==n}var t=Object.prototype;function i(n){if(w(n)){if("function"!=typeof Object.getPrototypeOf)return"[object Object]"===t.toString.call(n);n=Object.getPrototypeOf(n);return n===t||null===n}}function u(n){return"[object Array]"===t.toString.call(n)}function l(n){return"function"==typeof n}function a(n){return"number"==typeof n}function E(n){return"string"==typeof n}function o(n){return"undefined"!=typeof Event&&function(n,t){try{return n instanceof t}catch(n){return}}(n,Event)}function d(n,t){var e,r,o=y({},n);for(e in t)r=e,Object.prototype.hasOwnProperty.call(t,r)&&void 0!==t[e]&&(w(t[e])&&i(t[e])?o[e]=d(w(n[e])?n[e]:{},t[e]):u(t[e])&&u(n[e])?o[e]=function t(n,e){n=u(n)?n:[];e=u(e)?e:[];return Array.prototype.concat.call(n,e).map(function(n){return n instanceof RegExp?n:w(n)&&i(n)?d({},n):u(n)?t([],n):n})}(n[e],t[e]):o[e]=t[e]);return o}function S(n,t){if(!u(n))return!1;if(0===n.length)return!1;for(var e=0;e<n.length;){if(n[e]===t)return!0;e++}return!1}function R(n,t){if(!u(n))return n;var e=n.indexOf(t);if(0<=e){t=n.slice();return t.splice(e,1),t}return n}function p(n,t,e){for(var r,o=(t=C(t.split(".")))[0],i=t.slice(1);n&&0<i.length;)n=n[o],o=(r=C(i))[0],i=r.slice(1);if(n)return e(n,o)}function c(n){return n.replace(/([a-z])([A-Z])/g,function(n,t,e){return t+"-"+e.toLowerCase()})}function e(n){return u(n)&&n.length?function(n){for(var t=[],e=n.length,r=0;r<e;r++){var o=n[r];E(o)?t.push(o.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")):o&&o.source&&t.push(o.source)}return new RegExp(t.join("|"),"i")}(n):null}function O(n,t){return!!(n=e(n||[]))&&n.test(t)}function f(n){try{return E(n)?n:JSON.stringify(n)}catch(n){return"[FAILED_TO_STRINGIFY]:"+String(n)}}function h(i,u,a,c){return void 0===c&&(c=!0),function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(!i)return b;var e=i[u],r=a.apply(void 0,_([e],C(n),!1)),o=r;return l(o)&&c&&(o=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return r.apply(this,t)}catch(n){return l(e)&&e.apply(this,t)}}),i[u]=o,function(n){n||(o===i[u]?i[u]=e:r=e)}}}function s(i,u,a){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(!i)return b;var e=i[u],r=a.apply(void 0,_([e],C(n),!1)),o=r;return l(o)&&(o=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return r.apply(this,n)}),i[u]=o,function(){o===i[u]?i[u]=e:r=e}}}function j(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];console.warn.apply(console,_(["[SDK]",Date.now(),r(""+A++)],C(n),!1))}function I(r){return function(n){for(var t=n,e=0;e<r.length&&t;e++)try{t=r[e](t)}catch(n){m(n)}return t}}var r="".padStart?function(n,t){return n.padStart(t=void 0===t?8:t," ")}:function(n){return n},g=0,m=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];console.error.apply(console,_(["[SDK]",Date.now(),r(""+g++)],C(n),!1))},A=0,T=function(n){return Math.random()<Number(n)},k=function(n,t){return n<Number(t)},D=function(r){return function(n){for(var t=!0,e=0;e<r.length&&t;e++)try{t=r[e](n)}catch(n){m(n)}return t}};function L(){var n=function(){for(var n=new Array(16),t=0,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}();return n[6]=15&n[6]|64,n[8]=63&n[8]|128,function(n){for(var t=[],e=0;e<256;++e)t[e]=(e+256).toString(16).substr(1);var r=0,o=t;return[o[n[r++]],o[n[r++]],o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],o[n[r++]],o[n[r++]],o[n[+r]],o[n[15]]].join("")}(n)}function q(r,n){var t=[];try{t=n.reduce(function(n,t){try{var e=t(r);"function"==typeof e&&n.push(e)}catch(n){}return n},[])}catch(n){}return function(n){return q(n,t)}}function P(n,r){var o=C(n,1)[0];return function(t,n){var e=o(function(n){return D(r)(n)?t(n):b});n(function(){e()})}}var N=function(n){function t(n){a=R(a,n),f||s()}var e,r,o,i,u,a=[],c=[],f=!1,s=(r=function(){return a.length},o=function(){f=!0,e&&e[0](),c.forEach(function(n){return n()}),c.length=0,e=void 0},-1===(i=n=void(u=0)===n?3e5:n)?b:function(){if(r())return u&&clearTimeout(u),void(u=0);0===u&&(u=setTimeout(o,i))});return{next:function(n){return q(n,a)},complete:function(n){c.push(n)},attach:function(n,t){e=[n,t]},subscribe:function(n){if(f)throw new Error("Observer is closed");return a.push(n),e&&e[1]&&e[1](n),s(),function(){return t(n)}},unsubscribe:t}},B=function(n,t,e){e=N(e);try{n(e.next,e.attach),t&&e.complete(t)}catch(n){}return[e.subscribe,e.unsubscribe]};function H(){function r(n){n.length&&n.forEach(function(n){try{n()}catch(n){}}),n.length=0}function t(n){i[n]&&i[n].forEach(function(n){r(n[1])}),i[n]=void 0}var o=!1,i={};return{set:function(n,t,e){i[n]?i[n].push([t,e]):i[n]=[[t,e]],o&&r(e)},has:function(n){return!!i[n]},remove:t,removeByEvType:function(t){Object.keys(i).forEach(function(n){i[n]&&i[n].forEach(function(n){n[0]===t&&r(n[1])})})},clear:function(){o=!0,Object.keys(i).forEach(function(n){t(n)})}}}var M=function(n,t,e,r){return n.destroyAgent.set(t,e,r)};var U=["init","start","config","beforeDestroy","provide","beforeReport","report","beforeBuild","build","beforeSend","send","beforeConfig"];function z(n){var e,r,t=n.builder,o=n.createSender,i=n.createDefaultConfig,u=n.createConfigManager,a=n.userConfigNormalizer,c=n.initConfigNormalizer,f=n.validateInitConfig,s={};U.forEach(function(n){return s[n]=[]});var l=!1,d=!1,p=!1,v=[],h=[],g=H(),m={getBuilder:function(){return t},getSender:function(){return e},getPreStartQueue:function(){return v},init:function(n){if(l)j("already inited");else{if(!(n&&w(n)&&f(n)))throw new Error("invalid InitConfig, init failed");var t=i(n);if(!t)throw new Error("defaultConfig missing");n=c(n);if((r=u(t)).setConfig(n),r.onChange(function(){y("config")}),!(e=o(r.getConfig())))throw new Error("sender missing");y("init",l=!0)}},set:function(n){l&&n&&w(n)&&(y("beforeConfig",!1,n),null!=r&&r.setConfig(n))},config:function(n){if(l)return n&&w(n)&&(y("beforeConfig",!1,n),null!=r&&r.setConfig(a(n))),null==r?void 0:r.getConfig()},provide:function(n,t){S(h,n)?j("cannot provide "+n+", reserved"):(m[n]=t,y("provide",!1,n))},start:function(){l&&(d||null!=r&&r.onReady(function(){var t,n;y("start",d=!0),(n=(t=m).getPreStartQueue()).forEach(function(n){return t.build(n)}),n.length=0}))},report:function(n){var t,e;n&&(!(e=I(s.beforeReport)(n))||(t=I(s.report)(e))&&(d?this.build(t):(n=m,(e=v).push(t),e.length<500||(e=e.splice(0,50),n.savePreStartDataToDb&&n.savePreStartDataToDb(e)))))},build:function(n){!d||(n=I(s.beforeBuild)(n))&&(!(n=t.build(n))||(n=I(s.build)(n))&&this.send(n))},send:function(n){!d||(n=I(s.beforeSend)(n))&&(e.send(n),y("send",!1,n))},destroy:function(){g.clear(),p=!0,y("beforeDestroy",!(v.length=0))},on:function(n,t){if("init"===n&&l||"start"===n&&d||"beforeDestroy"===n&&p)try{t()}catch(n){}else s[n]&&s[n].push(t)},off:function(n,t){s[n]&&(s[n]=R(s[n],t))},destroyAgent:g},h=Object.keys(m);return m;function y(n,t){void 0===t&&(t=!1);for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];s[n].forEach(function(n){try{n.apply(void 0,_([],C(e),!1))}catch(n){}}),t&&(s[n].length=0)}}var G=function(n){var e,r,o,t=(e={},r={},o={set:function(n,t){return e[n]=t,r[n]=f(t),o},merge:function(t){return e=y(y({},e),t),Object.keys(t).forEach(function(n){r[n]=f(t[n])}),o},delete:function(n){return delete e[n],delete r[n],o},clear:function(){return e={},r={},o},get:function(n){return r[n]},toString:function(){return y({},r)}});n.provide("context",t),n.on("report",function(n){return n.extra||(n.extra={}),n.extra.context=t.toString(),n})},W=function(a,c,e){function f(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n[0];if(e){var r=e.split(".")[0];if(r in f)return i=f,u=e,o=[].slice.call(n,1),p(i,u,function(n,t){if(n&&t in n&&l(n[t]))try{return n[t].apply(n,o)}catch(n){return}});var o,i=s[r]||[],u=null!==(u=null==c?void 0:c(a))&&void 0!==u?u:{};i.push(_([u],C(n),!1)),void(s[r]=i)}}var n,s={};for(n in h(a,"provide",function(e){return function(n,t){f[n]=t,e.call(a,n,t)}})(),a)Object.prototype.hasOwnProperty.call(a,n)&&(f[n]=a[n]);return a.on("provide",function(n){s[n]&&(s[n].forEach(function(n){var t=C(n),n=t[0],t=t.slice(1);null!=e&&e(a,n,t)}),s[n]=null)}),f};function J(r,o){r.on("init",function(){function n(n){n.forEach(function(n){var t=n.name;S(e,t)||(e.push(t),n.setup(r),o&&o(t,n.setup),r.destroyAgent.set(t,t,[function(){e=R(e,t),n.tearDown&&n.tearDown()}]))})}var e=[];r.provide("applyIntegrations",n);var t=r.config();t&&t.integrations&&n(t.integrations)})}function X(n){return n.split(K)[0]}var K="_";function V(n,t){return n.initSubject(t)}function F(n,t,e){var t=C(t,2),r=t[0],t=t[1],o=n.privateSubject||{};return o[r]||(o[r]=B(t,function(){o[r]=void 0},e)),o[r]}var Y=function(n){try{"object"==typeof window&&w(window)&&window.__SLARDAR_DEVTOOLS_GLOBAL_HOOK__&&window.__SLARDAR_DEVTOOLS_GLOBAL_HOOK__.push(n)}catch(n){}},$=function(){return Date.now()};function Q(){if("object"==typeof window&&w(window))return window}function Z(){if("object"==typeof document&&w(document))return document}function nn(){return Q()&&window.location}function tn(){var n=function(){if(Q()&&"navigator"in window)return window.navigator}();if(n)return n.connection||n.mozConnection||n.webkitConnection}function en(n){return(null==n?void 0:n.effectiveType)||(null==n?void 0:n.type)||""}function rn(){if(!document)return null;if(document.currentScript)return document.currentScript;try{throw new Error}catch(n){var t=0,e=/at\s+(.*)\s+\((.*):(\d*):(\d*)\)/i.exec(n.stack),r=e&&e[2]||!1,o=e&&e[3]||0,i=document.location.href.replace(document.location.hash,""),u="",a=document.getElementsByTagName("script");for(r===i&&(e=document.documentElement.outerHTML,o=new RegExp("(?:[^\\n]+?\\n){0,"+(o-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),u=e.replace(o,"$1").trim());t<a.length;t++){if("interactive"===a[t].readyState)return a[t];if(a[t].src===r)return a[t];if(r===i&&a[t].innerHTML&&a[t].innerHTML.trim()===u)return a[t]}return null}}function on(n){var t=Z();if(!t||!n)return"";t=t.createElement("a");return t.href=n,t.href}function un(n){var t=Z();if(!t||!n)return{url:n,protocol:"",domain:"",query:"",path:"",hash:""};t=t.createElement("a");t.href=n;n=t.pathname||"/";return"/"!==n[0]&&(n="/"+n),{url:t.href,protocol:t.protocol.slice(0,-1),domain:t.hostname,query:t.search.substring(1),path:n,hash:t.hash}}function an(){var n=Q()&&nn();return n?n.href:""}function cn(n){var t=n.config();return(t={pid:t.pid,view_id:t.viewId,url:an()}).context=n.context?n.context.toString():{},t}function fn(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=pn(Q());e&&(e.errors||(e.errors=[]),e.errors.push(n))}var sn=function(t,n){void 0===n&&(n=!1);var e=cn(t);return n&&(e.timestamp=$()),function(n){t.report(y(y({},n),{overrides:e}))}},ln="f_view_0",dn=function(r){return function(n,t){var e=cn(r);t(b,function(n){e&&n(e)})}},pn=function(n){if(n)return n.__SLARDAR_REGISTRY__||(n.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[],subject:{}}}),n.__SLARDAR_REGISTRY__.Slardar},vn=function(n){var t={url:an(),timestamp:$()},e=n.config();return null!=e&&e.pid&&(t.pid=e.pid),null!=n&&n.context&&(t.context=n.context.toString()),t},hn=function(e,r){return function(n){function t(n){return n.overrides=r,n}e.on("report",t),n(),e.off("report",t)}},gn=function(n,t,e,r){return void 0===r&&(r=!1),n.addEventListener(t,e,r),function(){n.removeEventListener(t,e,r)}},mn=function(n,t,e,r){return void 0===r&&(r=!1),n.addEventListener(t,e,r),function(){n.removeEventListener(t,e,r)}};function yn(n){var t,e=Q();e&&(t=C(xn(n),1)[0],["unload","beforeunload","pagehide"].forEach(function(n){gn(e,n,t,!1)}))}function _n(n){var t,e=Z(),r=Q();e&&r&&(t=b,t=mn(e,"visibilitychange",function(){"visible"===e.visibilityState&&(n(),t())},!0))}function bn(){return!!btoa&&!!atob}var xn=function(t){var e=!1;return[function(n){e||(e=!0,t&&t(n))}]},wn=function(n,t){var e,r=Z();r&&((e=r.createElement("script")).src=n,e.crossOrigin="anonymous",e.onload=t,null!==(r=r.head)&&void 0!==r&&r.appendChild(e))},En=function(n,t){return w(n)?y(y({},t),n):!!n&&t};function Sn(n){return!1===n?0:!0!==n&&void 0!==n&&a(n)?n:7776e6}var Rn=function(n){try{var t=localStorage.getItem(n),e=t,r=e=t&&"string"==typeof t?JSON.parse((u=t,bn()?decodeURI(atob(u)):u)):e,o=r.expires,i=function(n,t){var e={};for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&t.indexOf(o)<0&&(e[o]=n[o]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(n);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(n,o[r])&&(e[o[r]]=n[o[r]]);return e}(r,["expires"]);return o>=$()?i:void 0}catch(n){return}var u},On=function(n,t,e){var r;if(!(e<=0))try{localStorage.setItem(n,(r=JSON.stringify(y(y({},t),{expires:$()+e})),bn()?btoa(encodeURI(r)):r))}catch(n){}},jn=function(n){var t;if("object"==typeof window&&window.__perfsee__){var e={};return null!==(t=Error.captureStackTrace)&&void 0!==t&&t.call(Error,e,n),e.stack}};function In(){var t=new RegExp("\\/monitor_web\\/collect|\\/monitor_browser\\/collect\\/batch","i");return function(n){return t.test(n)}}function An(r){return function(){for(var n,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n=C(t,2),this._method=n[0],this._url=n[1],r.apply(this,t)}}function Tn(o){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this._reqHeaders=this._reqHeaders||{};var e=C(n,2),r=e[0],e=e[1];return this._reqHeaders[r]=e,o&&o.apply(this,n)}}function Cn(i,u){var a=In();return function(){for(var n,r,o,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._start=$(),this._data=null==t?void 0:t[0],a(this._url)||(n=u([this._method,this._url,this._start,this]),o=n,s(r=this,"onreadystatechange",function(e){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return 4===this.readyState&&o(r),e&&e.apply(this,n)}})()),i.apply(this,t)}}function kn(){var n=window&&(window.crypto||window.msCrypto);if(void 0!==n&&n.getRandomValues){var t=new Uint16Array(8);n.getRandomValues(t);n=function(n){for(var t=n.toString(16);t.length<4;)t="0"+t;return t};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[x]/g,function(){return(16*Math.random()|0).toString(16)})}function Dn(n,t){return!n||!t||(Fn.test(n)||Yn.test(t))}function Ln(n,t){try{if(t){var e=n.request.url,r=t(e);if(!r)return;n.request.url=r,n.extra=y(y({},n.extra),{original_url:e})}}catch(n){}}var qn="xhr_0",Pn=function(r){return function(n,t){var e;r&&((e=[]).push(s(r,"open",An)()),e.push(s(r,"setRequestHeader",Tn)()),e.push(s(r,"send",Cn)(n)),t(function(){e.forEach(function(n){return n()})}))}},Nn=function(r,o){return function(n,t){var e=o([n,t=void 0===t?{}:t]),t=r(n,t);return t.then(function(n){e(n)},function(){e(void 0)}),t}},Bn=["fetch_0",function(n,t){var e,r=Q();r&&fetch&&((e=[]).push(s(r,"fetch",Nn)(n)),t(function(){e.forEach(function(n){return n()})}))}],Hn=["resource"],Mn=function(r,o,i){var u=r&&new r(function(n,r){n.getEntries?n.getEntries().forEach(function(n,t,e){return o(n,t,e,r)}):i&&i()});return[function(n){if(!r||!u)return i&&i();try{u.observe({entryTypes:n})}catch(n){return i&&i()}},function(n,t){if(!r||!u)return i&&i();try{var e={type:n,buffered:!0};void 0!==t&&(e.durationThreshold=t),u.observe(e)}catch(n){return i&&i()}u.observe({type:n,buffered:!1})},function(){return u&&u.disconnect()}]},Un=["resource_0",function(t,n){var e,r=function(){if(Q()&&l(window.PerformanceObserver))return window.PerformanceObserver}();r&&(e=In(),n(function(n,t,e){n=C(Mn(n,t),3),t=n[0],n=n[2];return t(e),n}(r,function(n){e(n.name)||t(n)},Hn)))}],zn="pageview",Gn="session",Wn="js_error",Jn="http",Xn="custom",Kn={sampleRate:1,origins:[]},Vn=function(n){var r=En(n,Kn);if(r&&T(r.sampleRate))return function(n,t){var e=r.origins;e.length&&O(e,n)&&t("traceparent","03-"+kn()+"-"+kn().substring(16)+"-01")}},Fn=new RegExp("(cookie|auth|jwt|token|key|ticket|secret|credential|session|password)","i"),Yn=new RegExp("(bearer|session)","i"),$n=function(n,t,c){var e=C(t,2),t=e[0],f=e[1],s=c.setTraceHeader,l=c.ignoreUrls,d=c.setContextAtReq,p=c.extractUrl;n.push(t[0](function(n){var t=C(n,4);t[0];n=t[1];t[2];var e=t[3];if(!n)return b;var r,o=on(n);if(O(l,o))return b;s&&s(o,function(n,t){return e.setRequestHeader(n,t)});var i=d(),u=void 0,a=f()[0](function(n){(o===n.name||r&&r===n.name)&&!u&&(u=n)});return function(n){r=n.responseURL;var t=function(n,t){var e=n._method,r=n._reqHeaders,o=n._url,i=n._start,u=n._data,a,c={api:"xhr",request:{url:on(o),method:(e||"").toLowerCase(),headers:r&&Zn(r),timestamp:i},response:{status:n.status||0,is_custom_error:false,timestamp:$()},duration:$()-i};if(typeof n.getAllResponseHeaders==="function")c.response.headers=Qn(n.getAllResponseHeaders());var f=c.response.status,s=t.collectBodyOnError,l=t.extraExtractor;try{var d=l===null||l===void 0?void 0:l(n.response,c,u);d&&(c.extra=d);d&&(c.response.is_custom_error=true);if(s&&(d||f>=400)){c.request.body=u?""+u:undefined;c.response.body=n.response?""+n.response:undefined}}catch(n){}return c}(n,c);setTimeout(function(){u&&(t.response.timing=u),Ln(t,p),i&&i({ev_type:Jn,payload:t}),a()},100)}}))};function Qn(n){return E(n)&&n?n.split("\r\n").reduce(function(n,t){var e;return E(t)&&(t=(e=C(t.split(": "),2))[0],e=e[1],Dn(t,e)||(n[t.toLowerCase()]=e)),n},{}):{}}function Zn(e){return Object.keys(e).reduce(function(n,t){return Dn(t,e[t])||(n[t.toLowerCase()]=e[t]),n},{})}var nt="ajax",tt={autoWrap:!0,setContextAtReq:function(){return x},ignoreUrls:[],collectBodyOnError:!1};var et=function(n,t,d){var e=C(t,2),t=e[0],r=e[1],o=d.setTraceHeader,p=d.ignoreUrls,v=d.setContextAtReq,h=d.extractUrl,g=window.Headers,m=window.Request;m&&g&&n.push(t[0](function(n){var i,n=C(n,2),u=n[0],a=n[1],t=on(u instanceof m?u.url:u);if(!function(n){if(!E(n))return false;var t=C(n.split(":"),2),e=t[0],r;return!t[1]||e==="http"||e==="https"}(t)||O(p,t))return b;o&&o(t,function(n,t){return function(n,t,e,r,o,i){var u;if(rt(e,o))e.headers.set(n,t);else if(r.headers instanceof i)r.headers.set(n,t);else r.headers=y(y({},r.headers),(u={},u[n]=t,u))}(n,t,u,a,m,g)});var c=v(),f=$(),s=void 0,l=r()[0](function(n){(t===n.name||i&&i===n.name)&&!s&&(s=n)});return function(n){i=n&&n.url;var t,e,r=function(r,o,n,i,t,e,u){var a={api:"fetch",request:{method:ot(r,o,i),timestamp:u,url:on(r instanceof i?r.url:r),headers:it(t,r.headers,o.headers)},response:{status:n&&n.status||0,is_custom_error:false,timestamp:$()},duration:$()-u},c=e.collectBodyOnError,f=e.extraExtractor,s=function(){var n;c&&(a.request.body=(n=ut(r,o,i))===null||n===void 0?void 0:n.toString())};if(n)try{var l=it(t,n.headers);a.response.headers=l;try{(l["content-type"]||"").indexOf("application/json")!==-1&&f&&n.clone().json().then(function(n){var t;var e=f(n,a,(t=ut(r,o,i))===null||t===void 0?void 0:t.toString());if(e){a.extra=e;a.response.is_custom_error=true;s()}}).catch(b)}catch(n){}n.status>=400&&s()}catch(n){}else s();return a}(u,a,n,m,g,d,f),o=(e=!(t=function(n){s&&(n.response.timing=s),Ln(n,h),c&&c({ev_type:Jn,payload:n}),l()}),function(n){e||(e=!0,t(n))});setTimeout(function(){o(r)},1e3)}}))},rt=function(n,t){return n instanceof t},ot=function(n,t,e){t=t&&t.method||"get";return(t=rt(n,e)?n.method||t:t).toLowerCase()},it=function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];try{return n.reduce(function(e,n){return new t(n||{}).forEach(function(n,t){return!Dn(t,n)&&(e[t]=n)}),e},{})}catch(n){return{}}},ut=function(n,t,e){return rt(n,e)?n.body:null==t?void 0:t.body},at="fetch",ct={autoWrap:!0,setContextAtReq:function(){return x},ignoreUrls:[],collectBodyOnError:!1};function ft(n){var t,e,r;return!function(n){switch(Object.prototype.toString.call(n)){case"[object Error]":case"[object Exception]":case"[object DOMError]":case"[object DOMException]":return 1;default:return n instanceof Error}}(n)?(i(n)||o(n)||E(n))&&(t={message:f(n)}):(r=gt,t=(e=n)&&w(e)?r.reduce(function(n,t){return n[t]=e[t],n},{}):e),t}function st(n){return"[object ErrorEvent]"===Object.prototype.toString.call(n)?function(n){var t=ft(n.error);if(!t)return t;var e=n.colno,r=n.lineno,n=n.filename;return e&&!t.colno&&(t.colno=String(e)),r&&!t.lineno&&(t.lineno=String(r)),n&&!t.filename&&(t.filename=n),t}(n):("[object PromiseRejectionEvent]"===Object.prototype.toString.call(n)?function(n){var t;try{var e=void 0;if("reason"in n?e=n.reason:"detail"in n&&"reason"in n.detail&&(e=n.detail.reason),e){var r=ft(e);return y(y({},r),{name:null!==(t=r&&r.name)&&void 0!==t?t:"UnhandledRejection"})}}catch(n){}}:ft)(n)}function lt(n){return"hidden"===n.visibilityState}function dt(e){return function(n,t){e({ev_type:zn,payload:{pid:t,source:n}})}}function pt(n,t){var e=n[0]+n[1]+n[2],r=n[0]/e;return n[2]/e>t.frustrating_threshold?2:r>t.satisfying_threshold||0===e?0:1}function vt(o,i){return function(n,t){var e=n.payload;switch(n.ev_type){case"performance":var r=e.name;e.isSupport&&o(t[Ot],r,e.value);break;case"action":o(t[Ot],"action",e.duration||0);break;case Wn:i(t[St],0);break;case Jn:e.response.is_custom_error||400<=e.response.status?i(t[St],1):(r=e.response.timing)&&o(t[Rt],0,r.duration);break;case"resource_error":i(t[St],2);break;case"blank_screen":i(t[St],3);break;case"resource":o(t[Rt],1,e.duration);break;case"performance_longtask":e.longtasks.forEach(function(n){o(t[Rt],2,n.duration)})}}}function ht(){function n(){o=[0,0,0],i={error_count:[0,0,0,0],duration_count:[0,0,0],perf_apdex:{}}}var o,i;return n(),[function(n,t,e){var r=n&&n[t];!r||e<=0||(n=e<(r[0].threshold||0)?0:e>(r[1].threshold||0)?2:1,o[n]+=r[n].weight,"string"==typeof t?(r=i[Ot][e=t+"_"+n],i[Ot][e]=(r||0)+1):2==n&&(i.duration_count[t]+=1))},function(n,t){n&&(o[2]+=n[t],i.error_count[t]+=1)},function(){return[o,i]},n]}var gt=["name","message","stack","filename","lineno","colno"],mt="jsError",yt=["hidden_3",function(t,n){var e,r,o,i=Z(),u=Q();i&&u&&(r=mn(i,"visibilitychange",e=function(n){t("pagehide"===n.type||lt(i))},!0),o=gn(u,"pagehide",e,!0),n(function(){r(),o()},function(n){n(lt(i))}))}],_t=["unload_0",function(n,t){var e,r,o,i=Q();i&&(e=C(xn(n),1)[0],r=function(){e()},o=[],["unload","beforeunload","pagehide"].forEach(function(n){o.push(gn(i,n,r,!1))}),t(function(){o.forEach(function(n){return n()})}))}],bt=["hash_0",function(n,t){var e,r=Q();r&&(e=gn(r,"hashchange",function(){return n(location.href)},!0),t(function(){e()}))}],xt=["history_0",function(n,t){var e,r,o,i=Q()&&window.history,u=Q();i&&u&&(r=function(){return n(location.href)},(e=[]).push(h(i,"pushState",o=function(e){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];try{e.apply(i,n)}finally{r()}}})(),h(i,"replaceState",o)()),e.push(gn(u,"popstate",r,!0)),t(function(){e.forEach(function(n){return n()})}))}],wt=function(n){return n+"_"+$()},Et=function(n){return"manual"===n},St="error_weight",Rt="duration_apdex",Ot="perf_apdex",jt=function(n,t,e,r){var o,i,u,a,c,f,s=r.sendInit,l=r.initPid,d=r.routeMode,p=r.extractPid,r=r.onPidUpdate,v=Et(d)?function(){return""}:(o=d,function(n){var t;return"hash"===o?(null===(t=un(n).hash)||void 0===t?void 0:t.replace(/^#/,""))||"/":un(n).path}),h=p||function(){},r=C(function(r,n,t,o){var i=t,u=n;o&&o(n);return[function(n,t,e){"user_set"!==n&&t!==i?(i=t,u=null!=e?e:i,o&&o(u),r(n,u)):"user_set"===n&&t!==u&&(u=t,o&&o(u),r(n,u))},function(){n&&r("init",n)}]}(dt(n),l||(i=location.href,null!==(u=h(i))&&void 0!==u?u:v(i)),v(location.href),r),2),g=r[0],r=r[1];return Et(d)||(a=C((c=function(n,t){return g(n,v(t),h(t))},f="",[function(n,t){t!==f&&c(n,f=t)}]),1)[0],e.length&&e.forEach(function(n){return t.push(n[0](function(n){return a(d,n)}))})),s&&r(),[g.bind(null,"user_set")]},It=function(r,t,n,e){var o,i,u,a=C(n,2),c=a[0],f=a[1],s=2===e.apdex,l=void 0,d=void 0,p=void 0,v=!1,h=C(ht(),4),g=h[0],m=h[1],y=h[2],_=h[3],n=C(ht(),4),a=n[0],e=n[1],b=n[2],x=n[3],h=C((o={start:$(),end:0,time_spent:0,is_bounced:!1,entry:"",exit:"",p_count:0,a_count:0},[function(n,t){var e=C(n,3),r=e[0],n=e[1],e=e[2];o.end=$(),o.time_spent+=t&&t.time_spent||0,o.last_page=t,o.p_count+=1,o.rank=r,o.apdex=n,o.apdex_detail=e;e=Z();e&&(o.is_bounced=!("complete"===e.readyState))},function(n,t){o.time_spent+=n.time_spent,o.p_count+=1,o.exit=t},function(){o.a_count+=1},function(n){o.entry=n,o.exit=n},function(){return o}]),5),w=h[0],E=h[1],S=h[2],R=h[3],O=h[4],n=C((u=void(i=0),[function(n){n?u&&(i+=$()-u,u=void 0):u=$()},function(){u&&(i+=$()-u);var n=i;return i=0,u=$(),n}]),2),h=n[0],j=n[1];t.push(c[0](h)),s||t.push(f[0](function(){var n,t,e;v&&(n=(e=C(b(),2))[0],t=e[1],e=pt(n,p),w([e,n,t],T()),r({ev_type:Gn,payload:O()}),x())}));var I=vt(g,m),A=vt(a,e),T=function(){var n=C(y(),2),t=n[0],n=n[1];return{start:l[0],pid:l[1],view_id:l[2],end:$(),time_spent:j(),apdex:t,rank:pt(t,p),detail:n}};return t.push(function(){v=!1}),[function(n,t){if(!l)return l=[$(),n,t],R(n),void(v=!(!p||!l));v&&(d=T(),E(d,n)),l=[$(),n,t],_()},function(n){v&&(s||(A(n,p),"action"===n.ev_type&&S()),n.common.pid===l[1]&&I(n,p))},function(n){v&&(n.payload.last=d),r(n)},function(n){if(!n)return t.forEach(function(n){return n()}),void(t.length=0);v=!(!(p=n)||!l)}]},At="pageview",Tt={sendInit:!0,routeMode:"history",apdex:2};function Ct(e){function r(n){var t=Nt(n);t&&((n=jn(r))&&(t.stacks=n),e.report({ev_type:Xn,payload:t,extra:{timestamp:$()}}))}e.provide("sendEvent",r),e.provide("sendLog",function(n){n=Bt(n);n&&e.report({ev_type:Xn,payload:n,extra:{timestamp:$()}})})}function kt(n,t){var e=n.common||{};return e.sample_rate=t,n.common=e,n}function Dt(n,t,e,r,o){return n?(i=o(r,t),function(){return i}):function(){return e(t)};var i}function Lt(n,t,e,r){if(void 0===(n=p(n,t,function(n,t){return n[t]})))return!1;var o,t="boolean"==typeof n?"bool":a(n)?"number":"string";return function(n,t,e){switch(e){case"eq":return S(t,n);case"neq":return!S(t,n);case"gt":return n>t[0];case"gte":return n>=t[0];case"lt":return n<t[0];case"lte":return n<=t[0];case"regex":return Boolean(n.match(new RegExp(t.join("|"))));case"not_regex":return!n.match(new RegExp(t.join("|")));default:return!1}}(n,(o=t,r.map(function(n){switch(o){case"number":return Number(n);case"boolean":return"1"===n;default:return String(n)}})),e)}function qt(t,n){try{return"rule"===n.type?Lt(t,n.field,n.op,n.values):"and"===n.type?n.children.every(function(n){return qt(t,n)}):n.children.some(function(n){return qt(t,n)})}catch(n){return fn(n),!1}}function Pt(){var e=Q();return e&&e.navigator.sendBeacon?{get:function(){},post:function(n,t){e.navigator.sendBeacon(n,t)}}:{get:b,post:b}}var Nt=function(n){if(n&&w(n)&&n.name&&E(n.name)){var t={name:n.name,type:"event"};if("metrics"in n&&w(n.metrics)){var e=n.metrics,r={};for(o in e)a(e[o])&&(r[o]=e[o]);t.metrics=r}if("categories"in n&&w(n.categories)){var o,i=n.categories,u={};for(o in i)u[o]=f(i[o]);t.categories=u}return"attached_log"in n&&E(n.attached_log)&&(t.attached_log=n.attached_log),t}},Bt=function(n){if(n&&w(n)&&n.content&&E(n.content)){var t={content:f(n.content),type:"log",level:"info"};if("level"in n&&(t.level=n.level),"extra"in n&&w(n.extra)){var e,r=n.extra,o={},i={};for(e in r)a(r[e])?o[e]=r[e]:i[e]=f(r[e]);t.metrics=o,t.categories=i}return"attached_log"in n&&E(n.attached_log)&&(t.attached_log=n.attached_log),t}},Ht=function(n){var t=tn(),e=en(t);t&&(t.onchange=function(){e=en(t)}),n.on("report",function(n){return y(y({},n),{extra:y(y({},n.extra||{}),{network_type:e})})})},Mt=function(n,t,e,r,o){if(!t)return x;var i=t.sample_rate,u=t.include_users,a=t.sample_granularity,c=t.rules,t=t.r,t=void 0===t?Math.random():t;if(S(u,n))return function(n){return kt(n,1)};var f,s,l,d,p,v,h,g="session"===a,m=Dt(g,i,e,t,r),y=(f=c,s=g,l=i,d=e,p=t,v=r,h={},Object.keys(f).forEach(function(n){var t=f[n],e=t.enable,r=t.sample_rate,t=t.conditional_sample_rules;e?(h[n]={enable:e,sample_rate:r,effectiveSampleRate:r*l,hit:Dt(s,r,d,p,v)},t&&(h[n].conditional_hit_rules=t.map(function(n){var t=n.sample_rate,n=n.filter;return{sample_rate:t,hit:Dt(s,t,d,p,v),effectiveSampleRate:t*l,filter:n}}))):h[n]={enable:e,hit:function(){return!1},sample_rate:0,effectiveSampleRate:0}}),h);return function(n){if(!m())return g&&o[0](),!1;if(!(n.ev_type in y))return kt(n,i);if(!y[n.ev_type].enable)return g&&o[1](n.ev_type),!1;if(null!==(t=n.common)&&void 0!==t&&t.sample_rate)return n;var t=y[n.ev_type],e=t.conditional_hit_rules;if(e)for(var r=0;r<e.length;r++)if(qt(n,e[r].filter))return!!e[r].hit()&&kt(n,e[r].effectiveSampleRate);return t.hit()?kt(n,t.effectiveSampleRate):(e&&e.length||!g||o[1](n.ev_type),!1)}};function Ut(n){n=new Error(n);return n.name="RequestNetworkError",n}function zt(n,t,e){var r=t.url,o=t.data,i=t.success,u=void 0===i?b:i,a=void 0===(i=t.fail)?b:i,c=void 0===(i=t.getResponseText)?b:i,t=void 0!==(t=t.withCredentials)&&t;(e=new e).withCredentials=t,e.open(n,r,!0),e.setRequestHeader("Content-Type","application/json"),e.onload=function(){null!=c&&c(this.responseText);try{var n;400<=this.status?a((t=this.responseText||this.statusText,(t=new Error(t)).name="ReqeustServerError",t)):this.responseText?(n=JSON.parse(this.responseText),u(n)):u({})}catch(n){a(n)}var t},e.onerror=function(){a(Ut("Network request failed"))},e.onabort=function(){a(Ut("Network request aborted"))},e.send(o)}function Gt(){var t=function(){if("function"==typeof XMLHttpRequest&&l(XMLHttpRequest))return XMLHttpRequest}();return t?{useBeacon:!0,get:function(n){zt("GET",n,t)},post:function(n){zt("POST",n,t)}}:{get:b,post:b}}function Wt(e){var n,r,o,i,u,t,a,c,f,s,l=(i=(n=e).transport,u=e.endpoint,t=e.size,a=void 0===t?10:t,c=void 0===(n=e.wait)?1e3:n,f=[],s=0,{getSize:function(){return a},getWait:function(){return c},setSize:function(n){a=n},setWait:function(n){c=n},getEndpoint:function(){return u},setEndpoint:function(n){u=n},send:function(n){f.push(n),f.length>=a&&d.call(this),clearTimeout(s),s=setTimeout(d.bind(this),c)},flush:function(){clearTimeout(s),d.call(this)},getBatchData:function(){return f.length?v(f):""},clear:function(){clearTimeout(s),f=[]},fail:function(n){r=n},success:function(n){o=n}});function d(){var t;f.length&&(t=this.getBatchData(),i.post({url:u,data:t,fail:function(n){r&&r(n,t)},success:function(){o&&o(t)}}),f=[])}var p=l.send;return yn(function(){var t,n;e.transport.useBeacon?(t=Pt(),(n=l.getBatchData())&&(t.post(l.getEndpoint(),n),l.clear()),l.send=function(n){t.post(l.getEndpoint(),v([n]))},_n(function(){l.send=p})):l.flush()}),l}var Jt="https://"+(un((null===(Xe=rn())||void 0===Xe?void 0:Xe.getAttribute("src"))||"").domain||"sf16-short-sg.bytedapm.com")+"/slardar/fe/sdk-web/plugins",Xt="1.16.2",Kt="/monitor_web/settings/browser-settings",Vt="/monitor_browser/collect/batch/",Ft="SLARDAR",Yt=["/log/sentry/",Vt,Kt],$t="session",Qt=["blankScreen","action"],Zt={sample_rate:1,include_users:[],sample_granularity:$t,rules:{}},ne=20,te="";function ee(n,t,e){var r,o,i;void 0===e&&(e=ue),r=function(){n.on("init",function(){e(n,t)})},o=Q(),i=Z(),o&&i&&("complete"!==i.readyState?gn(o,"load",function(){setTimeout(function(){r()},0)},!1):r())}function re(o){return function(n,t){var e,r=o.config().pluginBundle;o.destroyAgent.has(n)&&o.destroyAgent.remove(n),void 0!==t&&o.set({plugins:y(y({},o.config().plugins),((e={})[n]=t,e))}),(r&&~r.plugins.indexOf(n)?oe:ie)([n],o)}}var oe=function(n,t,e,r){void 0===r&&(r=ae);var o=t.config(),i=o.plugins,o=o.pluginBundle,u=n.filter(function(n){return i[n]&&!t.destroyAgent.has(n)}),n=function(){return u.forEach(function(n){return ce(t,n,e)})};u.every(function(n){return se(n,e)})?n():r(t,{name:o.name},n)},ie=function(n,t,e,r){void 0===r&&(r=ae);var o=t.config().plugins;n.filter(function(n){return o[n]&&!t.destroyAgent.has(n)}).forEach(function(n){se(n,e)?ce(t,n,e):r(t,{name:n,config:o[n]},function(){return ce(t,n,e)})})};function ue(n,t,e){void 0===e&&(e=ae);var r=n.config().pluginBundle,r=r?r.plugins:[];oe(r,n,t,e),ie(Qt,n,t,e),n.provide("reloadPlugin",re(n))}function ae(n,t,e,r){var o=t.name,t=t.config;(r=void 0===r?wn:r)((n=n,o=o,null!==(t=null==(t=t)?void 0:t.path)&&void 0!==t?t:n.config().pluginPathPrefix+"/"+c(o)+"."+Xt+"."+te+"js"),function(){e()})}function ce(n,t,e){if(e=void 0===e?pn(Q()):e){e=fe(e,t);if(e)try{if(n.destroyAgent.has(t))return;e.apply(n)}catch(n){fn(n),j("[loader].applyPlugin failed",t,n)}else j("[loader].applyPlugin not found",t)}}function fe(n,t){return n.plugins.filter(function(n){return n.name===t&&n.version===Xt})[0]}function se(n,t){return!(!(t=void 0===t?pn(Q()):t)||!t.plugins)&&!!fe(t,n)}function le(n,t,e){(e=void 0===e?pn(Q()):e)&&e.plugins&&(fe(e,n)||e.plugins.push({name:n,version:Xt,apply:t}))}function de(n){var t,e;try{for(var r=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return{value:(n=n&&r>=n.length?void 0:n)&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(["userId","deviceId","sessionId","env"]),o=r.next();!o.done;o=r.next()){var i=o.value;n[i]||delete n[i]}}catch(n){t={error:n}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n}function pe(n){var t,e=n.plugins||{};for(t in e)e[t]&&!w(e[t])&&(e[t]={});return de(y(y({},n),{plugins:e}))}function ve(n){return w(n)&&"bid"in n}function he(n){return de(y({},n))}function ge(r){var o=[];return r.observe=function(n){o.push(n)},r.push=function(){for(var n,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.forEach(function(t){o.forEach(function(n){return n(t)})}),(n=[].push).call.apply(n,_([r],C(t),!1))},r}function me(){var n=Q(),t=Z();if(n&&t)return(null===(t=null===(t=null===(t=rn())||void 0===t?void 0:t.getAttribute("src"))||void 0===t?void 0:t.match(/globalName=(.+)$/))||void 0===t?void 0:t[1])||"Slardar"}function ye(n,t){void 0===n&&(n="");var e={userId:L(),deviceId:L()};return t<=0?e:(function(n,t){try{var e=localStorage.getItem(n);if(!e||!bn()||"{"!==e[0])return;On(n,JSON.parse(e),t)}catch(n){}}(n=Ft+n,t),{userId:(null==(n=Rn(n))?void 0:n.userId)||e.userId,deviceId:(null==n?void 0:n.deviceId)||e.deviceId})}var _e=function(n,t){return void 0===t&&(t=Vt),(n&&0<=n.indexOf("//")?"":"https://")+n+t},be=L,xe=function(n,t){return Ft+n+"::setting::"+t},n={get:function(){return this.__SLARDAR__REPALCE__HOLDER__}},we=function(t){var e,r,i=t,o={},u=n.get(),a=b,c=b;return{getConfig:function(){return i},setConfig:function(n){return o=y(y({},o),n||{}),f(),e||(e=n,i.useLocalConfig||!i.bid?(r={},a()):u?s():function(e,r,o,i,u){void 0===u&&(u=0);var a,t=3,c=2e3,f=.001,s=Q(),l=function(n,t){t=xe(n,t);return Rn(t)}(o,r),n=function(){var n=Q();return n&&"navigator"in n&&"onLine"in n.navigator?function(){return!n.navigator.onLine}:function(){return!1}}(),d=0,p=!1;if(n())return function(){if(l)return h(l,!1);a=function(n){var t=Q();return t&&"addEventListener"in t?gn(t,"online",n):function(){}}(v)}();function v(){var n,t;d++,e.get({withCredentials:!0,url:(void 0===t&&(t=Kt),((n=r)&&0<=n.indexOf("//")?"":"https://")+n+t+"?bid="+o+"&store=1"),success:function(n){h(n.data||{},!0)},fail:g})}function h(n,t){p||(p=!0,t&&u&&function(n,t,e,r){e=xe(t,e);On(e,n,r)}(n,o,r,u),a&&(a(),a=void 0),i(n))}function g(n){return l?h(l,!1):function(n){if(t<=d||"RequestNetworkError"!==n.name)return!1;return S(["slow-2g","2g"],en(tn()))}(n)&&s?void s.setTimeout(v,c):h({sample:{sample_rate:f}},!1)}v()}(i.transport,i.domain,i.bid,function(n){u=n,s()},i.serverSettingStorageExpires)),i},onChange:function(n){c=n},onReady:function(o){a=function(){var n,t,e,r;t=(n=i).bid,e=n.userId,r=n.deviceId,n=n.storageExpires,On(Ft+t,{userId:e,deviceId:r},Sn(n)),o()},r&&a()}};function f(){var n=y(y(y({},t),r||{}),o);n.plugins=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var e={},r=0;r<n.length;)e=d(e,n[r++]);return e}(t.plugins,(null==r?void 0:r.plugins)||{},o.plugins||{}),n.sample=Ee(Ee(t.sample,null==r?void 0:r.sample),o.sample),i=n,c()}function s(){r=function(n){if(!n)return{};var t=n.sample,e=n.plugins,r=n.timestamp,o=n.quota_rate,i=n.apdex;if(!t)return{};var u=t.sample_rate,a=t.sample_granularity,n=t.include_users,t=t.rules;return{sample:{include_users:n,sample_rate:u*(void 0===o?1:o),sample_granularity:void 0===a?$t:a,rules:(void 0===t?[]:t).reduce(function(n,t){var e=t.name,r=t.enable,o=t.sample_rate,t=t.conditional_sample_rules;return n[e]={enable:r,sample_rate:o,conditional_sample_rules:t},n},{})},plugins:{heatmap:null!==(e=null==e?void 0:e.heatmap)&&void 0!==e&&e},apdex:i,serverTimestamp:r}}(u),f(),a()}};function Ee(r,o){if(!r||!o)return r||o;var n=y(y({},r),o);return n.include_users=_(_([],C(r.include_users||[]),!1),C(o.include_users||[]),!1),n.rules=_(_([],C(Object.keys(r.rules||{})),!1),C(Object.keys(o.rules||{})),!1).reduce(function(n,t){var e;return t in n||(t in(r.rules||{})&&t in(o.rules||{})?(n[t]=y(y({},r.rules[t]),o.rules[t]),n[t].conditional_sample_rules=_(_([],C(r.rules[t].conditional_sample_rules||[]),!1),C(o.rules[t].conditional_sample_rules||[]),!1)):n[t]=(null===(e=r.rules)||void 0===e?void 0:e[t])||(null===(e=o.rules)||void 0===e?void 0:e[t])),n},{}),n}function Se(n){var n=(t=C(n,2))[0],t=t[1];return{ev_type:Wn,payload:{error:st(n),breadcrumbs:[],extra:t||{}},extra:{bid:"slardar_sdk"}}}function Re(n){var t=(e=void 0===n?{}:n).createSender,n=e.builder,e=e.createDefaultConfig,r=z({validateInitConfig:ve,initConfigNormalizer:pe,userConfigNormalizer:he,createSender:void 0===t?function(n){return Wt({size:ne,endpoint:_e(n.domain),transport:n.transport})}:t,builder:void 0===n?je:n,createDefaultConfig:void 0===e?He:e,createConfigManager:we});qe(r),G(r);var o,i,u,e=pn(Q());return o=r,e=e&&e.subject,i=e||{},u={},o.provide("setFilter",function(n,t){u[n]||(u[n]=[]),u[n].push(t)}),o.provide("initSubject",function(n){var t=C(n,2),e=t[0],n=t[1],t=X(e),t=!!t&&u[t];return i[e]||(i[e]=B(n,function(){i[e]=void 0})),t?F(o,[e,P(i[e],t)]):i[e]}),o.provide("getSubject",function(n){return i[n]}),o.provide("privateSubject",{}),Pe(r),Ne(r),Ie(r),Ht(r),Be(r),J(e=W(r,vn,function(n,t,e){return hn(n,t)(function(){var n=C(e),t=n[0],n=n.slice(1);r[t].apply(r,_([],C(n),!1))})}),le),Y(e),e}function Oe(n){var e,i,t,r,u,o=Re(n=void 0===n?{}:n);return(e=o).on("start",function(){var n=e.config(),t=n.userId,n=n.sample,n=Mt(t,n,T,k,[function(){e.destroy()},function(n){e.destroyAgent.removeByEvType(n)}]);e.on("build",n)}),i=o,r=Te(t=void 0===t?Ae:t),n=Ce(t),u=ke(i,r,t),null!==(t=i.p)&&void 0!==t&&t.a&&"observe"in i.p.a&&i.p.a.observe(function(n){var t=C(n,5);t[0];var e=t[1],r=t[2],o=t[3],n=t[4],t=i.config();Le(t,e)&&u(e,r,o,n)}),i.on("init",function(){var n,o=i.config();null!==(n=i.p)&&void 0!==n&&n.a.forEach(function(n){var t=C(n,5);t[0];var e=t[1],r=t[2],n=t[3],t=t[4];Le(o,e)&&u(e,r,n,t)}),i.p&&i.p.a&&(i.p.a.length=0),i.provide("precollect",function(n,t,e,r){void 0===e&&(e=$()),void 0===r&&(r=location.href),Le(o,n)&&u(n,t,e,r)})}),i.on("provide",De(i,r,n)),Ct(o),Object.keys(Me).forEach(function(n){le(n,Me[n]),Me[n](o)}),ee(o),o.provide("create",Oe),o}var je={build:function(n){return{ev_type:n.ev_type,payload:n.payload,common:y(y({},n.extra||{}),n.overrides||{})}}},Ie=function(u){u.on("report",function(n){return t=n,e=u.config(),e=void 0===(e=(n=e||{}).pid)?"":e,n=void 0===(n=n.viewId)?"":n,n={url:an(),timestamp:$(),sdk_version:Xt,sdk_name:"SDK_SLARDAR_WEB",pid:e,view_id:n},y(y({},t),{extra:y(y({},n),t.extra||{})});var t,e}),u.on("init",function(){var n=u.config(),r=n.pid,o=n.viewId,i=u.getPreStartQueue();i.forEach(function(n,t){var e=n.extra||{};i[t]=y(y({},n),{extra:y(y({},e),{pid:e.pid||r,view_id:e.view_id||o})})})})},Ae={sri:"reportSri",st:"reportResourceError",err:"captureException",reject:"captureException"},Te=function(n){return Object.keys(n).reduce(function(n,t){return n[t]=[],n},{})},Ce=function(e){return Object.keys(e).reduce(function(n,t){return n[e[t]]?n[e[t]].push(t):n[e[t]]=[t],n},{})},ke=function(o,i,u){return function(n,t,e,r){void 0===e&&(e=$()),void 0===r&&(r=location.href);r=y(y({},vn(o)),{url:r,timestamp:e});i[n]&&(o[u[n]]?hn(o,r)(function(){o[u[n]](t)}):null!==(e=i[n])&&void 0!==e&&e.push([t,r]))}},De=function(r,o,n){return function(e){e in n&&n[e].forEach(function(n){var t;null!==(t=o[n])&&void 0!==t&&t.forEach(function(n){var n=C(n,2),t=n[0],n=n[1];hn(r,n)(function(){r[e](t)})}),o[n]=null})}},Le=function(n,t){return"err"===t?!1!==p(n,"plugins."+mt+".onerror",function(n,t){return n[t]}):"reject"!==t||!1!==p(n,"plugins."+mt+".onunhandledrejection",function(n,t){return n[t]})},qe=function(t,n){void 0===n&&(n=.001);var e=pn(Q());e&&(e.errors||(e.errors=[]),"observe"in e.errors||T(n)&&(e.errors=ge(e.errors),e.errors.forEach(function(n){t.report(Se(n))}),e.errors.observe(function(n){t.report(Se(n))})))},Pe=function(r){var o,i=!1;r.on("init",function(){o=(new Date).getTime(),r.on("config",function(){var n,t,e=null===(n=r.config())||void 0===n?void 0:n.serverTimestamp;isNaN(e)||Number(e)<=0||i||(i=!0,(n=(new Date).getTime())-o<700&&e&&(t=e-(n+o)/2,!isNaN(t)&&(0<t||t<-6e5)&&r.on("beforeBuild",function(n){return y(y({},n),{extra:y(y({},null!==(n=n.extra)&&void 0!==n?n:{}),{sdk_offset:null!==t?t:0})})})))})})},Ne=function(r){r.on("beforeBuild",function(n){return t=n,e=r.config(),(n={}).bid=e.bid,n.user_id=e.userId,n.device_id=e.deviceId,n.session_id=e.sessionId,n.release=e.release,n.env=e.env,y(y({},t),{extra:y(y({},n),t.extra||{})});var t,e})},Be=function(e){e.on("start",function(){var n=e.config().bid,t=e.getSender();t.setEndpoint(t.getEndpoint()+"?biz_id="+n)})},He=function(n){var t=Sn(n.storageExpires),n=ye(n.bid,t);return{bid:"",pid:"",viewId:wt("_"),userId:n.userId,deviceId:n.deviceId,storageExpires:t,serverSettingStorageExpires:0,sessionId:be(),domain:"mon-va.byteoversea.com",pluginBundle:{name:"commonMonitors",plugins:["breadcrumb","jsError","performance","resourceError","resource"]},pluginPathPrefix:Jt,plugins:{ajax:{ignoreUrls:Yt},fetch:{ignoreUrls:Yt},breadcrumb:{},pageview:{},jsError:{},resource:{},resourceError:{},performance:{},tti:{},fmp:{},blankScreen:!1,heatmap:!1},release:"",env:"production",sample:Zt,transport:Gt()}},Me=((Ge={})[At]=function(p){p.on("init",function(){var e,n,t,r,o,i,u,a,c,f,s,l,d=null===(r=p.config())||void 0===r?void 0:r.plugins[At];e=p,(l=En(n=d,Tt))&&nn()&&(t=l.routeMode,i=l.apdex,c=e.report.bind(e),a=b,i&&(r=[],n=(d=C(It(e.report.bind(e),r,[V(e,yt),V(e,_t)],l),4))[0],o=d[1],i=d[2],u=d[3],c=i,a=n,e.on("send",o),r.push(function(){return e.off("send",o)}),e.on("start",function(){u(e.config().apdex)}),M(e,At,Gn,r)),f=C(jt(c,c=[],Et(t)?[]:[e.initSubject(bt),e.initSubject(xt)],y(y({},l),{initPid:null===(l=e.config())||void 0===l?void 0:l.pid,onPidUpdate:function(n){var t=wt(n);a(n,t),e.set({pid:n,viewId:t,actionId:void 0})}})),1)[0],F(e,[ln,dn(e)],-1),s=function(){f(e.config().pid)},e.on("config",s),c.push(function(){return e.off("config",s)}),M(e,At,zn,c),e.provide("sendPageview",f))})},Ge[nt]=function(e){e.on("init",function(){var n,r,o,i,t=null===(t=e.config())||void 0===t?void 0:t.plugins[nt];n=e,(t=En(t=t,tt))&&(r=[],o=y(y({},t),{setContextAtReq:function(){return sn(n,!0)},setTraceHeader:Vn(t.trace)}),i=function(){return V(n,Un)},o.autoWrap&&$n(r,[V(n,[qn,Pn(XMLHttpRequest&&XMLHttpRequest.prototype)]),i],o),M(n,nt,Jn,r),n.provide("wrapXhr",function(t){function e(){var n=new t;return $n(r,[B(Pn(n)),i],o),n}return e.prototype=new t,["DONE","HEADERS_RECIEVED","LOADING","OPENED","UNSENT"].forEach(function(n){e[n]=t[n]}),e}))})},Ge[at]=function(e){e.on("init",function(){var n,r,o,i,t=null===(t=e.config())||void 0===t?void 0:t.plugins[at];n=e,(t=En(t=t,ct))&&(r=[],o=y(y({},t),{setContextAtReq:function(){return sn(n,!0)},setTraceHeader:Vn(t.trace)}),i=function(){return V(n,Un)},o.autoWrap&&et(r,[V(n,Bn),i],o),M(n,at,Jn,r),n.provide("wrapFetch",function(t){var e=void 0;return et(r,[B(function(n){e=Nn(t,n)}),i],o),e}))})},Ge),Ue=Oe(),ze=function(){var n=Q(),t=me();if(n&&t)return n[t]}();ze&&["p","pp","pcErr","pcRej"].forEach(function(n){Ue.provide(n,ze[n])});var Ge,We,Je=Q(),Xe=me();Je&&Xe&&(Ge=(null==(Ge=Je[Xe])?void 0:Ge.q)||[],Je[Xe]=Ue,Ge.forEach(function(n){var t,e;e=n,n=y(y({},vn(t=Ue)),{url:e.pop(),timestamp:e.pop()}),hn(t,n)(function(){t.apply(void 0,_([],C(e),!1))})}),Ge.length=0,Ue.p&&("observe"in Ue.p.a&&console.warn("global precollect queue already updated"),Ue.p.a=ge(Ue.p.a),(We=Ue.precollect)&&Ue.provide("precollect",function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return Ue.p.a.push(_(["precollect"],C(n),!1)),We.apply(void 0,_([],C(n),!1))})))}();

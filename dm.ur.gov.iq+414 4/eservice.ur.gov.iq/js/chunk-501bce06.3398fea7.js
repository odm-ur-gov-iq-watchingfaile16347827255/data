(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-501bce06"],{"04d1":function(t,e,i){var s=i("342f"),a=s.match(/firefox\/(\d+)/i);t.exports=!!a&&+a[1]},"07ac":function(t,e,i){var s=i("23e7"),a=i("6f53").values;s({target:"Object",stat:!0},{values:function(t){return a(t)}})},"0e45":function(t,e,i){"use strict";i("ee07")},"42fd":function(t,e,i){},"498a":function(t,e,i){"use strict";var s=i("23e7"),a=i("58a8").trim,r=i("c8d2");s({target:"String",proto:!0,forced:r("trim")},{trim:function(){return a(this)}})},"4df4":function(t,e,i){"use strict";var s=i("0366"),a=i("7b0b"),r=i("9bdd"),o=i("e95a"),n=i("50c4"),l=i("8418"),c=i("35a1");t.exports=function(t){var e,i,d,u,f,p,h=a(t),m="function"==typeof this?this:Array,v=arguments.length,b=v>1?arguments[1]:void 0,g=void 0!==b,_=c(h),F=0;if(g&&(b=s(b,v>2?arguments[2]:void 0,2)),void 0==_||m==Array&&o(_))for(e=n(h.length),i=new m(e);e>F;F++)p=g?b(h[F],F):h[F],l(i,F,p);else for(u=_.call(h),f=u.next,i=new m;!(d=f.call(u)).done;F++)p=g?r(u,b,[d.value,F],!0):d.value,l(i,F,p);return i.length=F,i}},"4e82":function(t,e,i){"use strict";var s=i("23e7"),a=i("1c0b"),r=i("7b0b"),o=i("50c4"),n=i("d039"),l=i("addb"),c=i("a640"),d=i("04d1"),u=i("d998"),f=i("2d00"),p=i("512c"),h=[],m=h.sort,v=n((function(){h.sort(void 0)})),b=n((function(){h.sort(null)})),g=c("sort"),_=!n((function(){if(f)return f<70;if(!(d&&d>3)){if(u)return!0;if(p)return p<603;var t,e,i,s,a="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(s=0;s<47;s++)h.push({k:e+s,v:i})}for(h.sort((function(t,e){return e.v-t.v})),s=0;s<h.length;s++)e=h[s].k.charAt(0),a.charAt(a.length-1)!==e&&(a+=e);return"DGBEFHACIJK"!==a}})),F=v||!b||!g||!_,y=function(t){return function(e,i){return void 0===i?-1:void 0===e?1:void 0!==t?+t(e,i)||0:String(e)>String(i)?1:-1}};s({target:"Array",proto:!0,forced:F},{sort:function(t){void 0!==t&&a(t);var e=r(this);if(_)return void 0===t?m.call(e):m.call(e,t);var i,s,n=[],c=o(e.length);for(s=0;s<c;s++)s in e&&n.push(e[s]);n=l(n,y(t)),i=n.length,s=0;while(s<i)e[s]=n[s++];while(s<c)delete e[s++];return e}})},"512c":function(t,e,i){var s=i("342f"),a=s.match(/AppleWebKit\/(\d+)\./);t.exports=!!a&&+a[1]},"53ca":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0");function s(t){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}},"6f53":function(t,e,i){var s=i("83ab"),a=i("df75"),r=i("fc6a"),o=i("d1e7").f,n=function(t){return function(e){var i,n=r(e),l=a(n),c=l.length,d=0,u=[];while(c>d)i=l[d++],s&&!o.call(n,i)||u.push(t?[i,n[i]]:n[i]);return u}};t.exports={entries:n(!0),values:n(!1)}},"77fe":function(t,e,i){"use strict";i("42fd")},"7db0":function(t,e,i){"use strict";var s=i("23e7"),a=i("b727").find,r=i("44d2"),o="find",n=!0;o in[]&&Array(1)[o]((function(){n=!1})),s({target:"Array",proto:!0,forced:n},{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),r(o)},"9b4d":function(t,e,i){t.exports=i.p+"img/pdf-icon.9980dbae.png"},"9bdd":function(t,e,i){var s=i("825a"),a=i("2a62");t.exports=function(t,e,i,r){try{return r?e(s(i)[0],i[1]):e(i)}catch(o){throw a(t),o}}},addb:function(t,e){var i=Math.floor,s=function(t,e){var o=t.length,n=i(o/2);return o<8?a(t,e):r(s(t.slice(0,n),e),s(t.slice(n),e),e)},a=function(t,e){var i,s,a=t.length,r=1;while(r<a){s=r,i=t[r];while(s&&e(t[s-1],i)>0)t[s]=t[--s];s!==r++&&(t[s]=i)}return t},r=function(t,e,i){var s=t.length,a=e.length,r=0,o=0,n=[];while(r<s||o<a)r<s&&o<a?n.push(i(t[r],e[o])<=0?t[r++]:e[o++]):n.push(r<s?t[r++]:e[o++]);return n};t.exports=s},c8d2:function(t,e,i){var s=i("d039"),a=i("5899"),r="​᠎";t.exports=function(t){return s((function(){return!!a[t]()||r[t]()!=r||a[t].name!==t}))}},d28b:function(t,e,i){var s=i("746f");s("iterator")},d998:function(t,e,i){var s=i("342f");t.exports=/MSIE|Trident/.test(s)},e01a:function(t,e,i){"use strict";var s=i("23e7"),a=i("83ab"),r=i("da84"),o=i("5135"),n=i("861d"),l=i("9bf2").f,c=i("e893"),d=r.Symbol;if(a&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var u={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new d(t):void 0===t?d():d(t);return""===t&&(u[e]=!0),e};c(f,d);var p=f.prototype=d.prototype;p.constructor=f;var h=p.toString,m="Symbol(test)"==String(d("test")),v=/^Symbol\((.*)\)[^)]+$/;l(p,"description",{configurable:!0,get:function(){var t=n(this)?this.valueOf():this,e=h.call(t);if(o(u,t))return"";var i=m?e.slice(7,-1):e.replace(v,"$1");return""===i?void 0:i}}),s({global:!0,forced:!0},{Symbol:f})}},e541:function(t,e,i){"use strict";i.r(e);var s=i("53ca"),a=(i("b0c0"),i("d81d"),i("d3b7"),i("ddb0"),i("b64b"),i("07ac"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"add-service rtl"},["active"==t.serviceStatus||"active-test"==t.serviceStatus?e("section",{staticClass:"dashboard-counts section-padding"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row dt-row prgress"},[e("div",{staticClass:"col-1 d-none d-lg-block"}),e("div",{staticClass:"col-11"},[e("ul",{staticClass:"progressbar"},t._l(t.sortSections,(function(i,s){return e("li",{key:s,class:i.id==t.count?"active":"",on:{click:function(e){return t.changeCount(i.id)}}},[t._v(" "+t._s(i.name_ar)+" ")])})),0)])]),e("div",{staticClass:"box animate__animated animate__fadeInUp"},[e("div",{staticClass:"box-head"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-6 col-12"},[e("h5",{staticClass:"animate__animated animate__backInRight"},[10454!=t.serviceId?e("span",[t._v(" التقديم على الخدمة :")]):t._e(),e("small",{staticClass:"text-danger"},[t._v(t._s(t.getService.name))])])]),e("div",{staticClass:"col-sm-6 col-12"},[e("h5",{staticClass:"ministry-align animate__animated animate__backInLeft"},[e("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.getOrg.name))])])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 sections animate__animated animate__fadeInUp"},[e("FormulateForm",{on:{submit:t.submitForm}},[1==t.count&&null!=t.getGuide?e("FormulateForm",{model:{value:t.guideForm,callback:function(e){t.guideForm=e},expression:"guideForm"}},[null!=t.getGuide?e("div",{staticClass:"col-sm-12"},[e("h2",[t._v(t._s(t.getGuide.label))]),e("p",{domProps:{innerHTML:t._s(t.getGuide.body)}})]):t._e()]):t._e(),2==t.count&&null!=t.getForm?e("FormulateForm",{model:{value:t.inputFormField,callback:function(e){t.inputFormField=e},expression:"inputFormField"}},[e("div",{staticClass:"row"},t._l(t.groupOfForm,(function(i,s){return e("div",{key:s,staticClass:"col-12"},[e("fieldset",{staticClass:"fieldset-container"},[e("legend",{staticClass:"w-auto legand-label"},[t._v(" "+t._s(i.label)+" ")]),e("div",{staticClass:"container"},[e("div",{staticClass:"row"},t._l(i.fields,(function(i,s){return e("div",{key:s,staticClass:"form-group inputs",class:["group"==i.data_type.name?"col-12":"col-md-".concat(i.properties[0].col_no," col-12")]},[e("div",{class:"checkbox"==i.data_type.name?"form-check form-check-inline":""},[e("FormulateInput",{class:"checkbox"==i.data_type.name?"form-check-input rtl":"",attrs:{type:"input"==i.type.name&&"date"!=i.data_type.name?i.data_type.name:"fieldset"==i.type.name?"checkbox":"radio"==i.data_type.name?"radio":"select"==i.type.name?"select":"date"==i.data_type.name?"date":i.type.name,repeatable:"group"==i.data_type.name,"add-label":"group"==i.data_type.name&&"+ جديد",options:"select"==i.type.name?i.properties[0].values.map((function(t){return t})):"fieldset"==i.type.name?i.properties[0].values.map((function(t){return t})):"radio"==i.data_type.name&&i.properties[0].values.map((function(t){return t})),name:i.name,label:"a"==i.type.name?"":i.label,help:i.properties[0].help,"error-behavior":"blur","validation-name":i.label,validation:[["bail"],[1==i.is_required?"required":""],t.minMaxValue(i)?["between",Math.floor(i.min_value)-1,Math.floor(i.max_value)+1,"number"==i.data_type.name?"value":"length"]:"",["email"==i.data_type.name?"email":""]],placeholder:"input"==i.type.name?i.properties[0].placeholder:i.label},scopedSlots:t._u([{key:"label",fn:function(s){var a=s.label,r=s.id;return[e("label",{class:"checkbox"==i.data_type.name?"form-check-label":"",attrs:{for:r}},[t._v(" "+t._s(a)+" "),1==i.is_required?e("span",{staticClass:"text-danger text-bold"},[t._v("*")]):t._e(),e("span",{domProps:{innerHTML:t._s("a"==i.type.name?"<a href="+i.properties[0].route_path+" target=_blank>"+i.label+"</a>":"")}})])]}}],null,!0)},["group"==i.data_type.name?e("div",{staticClass:"attendee"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered table-sm"},[e("thead",{staticClass:"thead-dark"},t._l(i.properties[0].values,(function(i){return e("th",{key:i},[t._v(" "+t._s(i)+" ")])})),0),e("tbody",[e("tr",t._l(i.properties[0].values,(function(t,i){return e("td",{key:i},[e("FormulateInput",{attrs:{name:t,type:"text",validation:"required"}})],1)})),0)])])])]):t._e()])],1)])})),0)])])])})),0)]):t._e(),3==t.count&&null!=t.getDocs?e("FormulateForm",{model:{value:t.inputDocsField,callback:function(e){t.inputDocsField=e},expression:"inputDocsField"}},[e("div",{staticClass:"row"},t._l(t.getDocs,(function(i){return e("div",{key:i.id,staticClass:"col-12"},[e("fieldset",{staticClass:"fieldset-container"},[e("legend",{staticClass:"w-auto legand-label"},[t._v(" "+t._s(i.label)+" ")]),e("div",{staticClass:"container"},[e("div",{staticClass:"row"},t._l(i.fields,(function(i){return e("div",{key:i.id,staticClass:"col-md-6 col-12",staticStyle:{direction:"ltr"}},[e("FormulateInput",{attrs:{type:"pdf"==i.format||"xlsx"==i.format||"pptx"==i.format||"docx"==i.format?"file":"image",name:i.name,label:i.label,id:i.id,help:"pdf"==i.properties[0].format||"xlsx"==i.properties[0].format?"اختر ملف "+i.properties[0].format+" لتحميله (Max size: "+i.properties[0].size+" MB)":"اختر صورة "+i.properties[0].format+" لتحميلها (Max size: "+i.properties[0].size+" MB)",validation:[["bail"],[1==i.is_required?"required":""],"pdf"==i.format?"mime:application/"+i.format:"mp4"==i.format?"mime:video/mp4":"docx"==i.format?"mime:application/vnd.openxmlformats-officedocument.wordprocessingml.document":"pptx"==i.format?"mime:application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation":"xlsx"==i.format?"mime:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"img"==i.format||"jpg"==i.format||"jpeg"==i.format||"png"==i.format?"mime:image/jpeg,image/jpg,image/png,image/gif":""],"validation-name":i.label},scopedSlots:t._u([{key:"label",fn:function(s){var a=s.label,r=s.id;return[e("label",{attrs:{for:r}},[t._v(" "+t._s(a)+" "),1==i.is_required?e("span",{staticClass:"text-danger text-bold"},[t._v("*")]):t._e()])]}}],null,!0)})],1)})),0)])])])})),0)]):t._e(),5==t.count?e("FormulateForm",{staticClass:"finish",model:{value:t.finshForm,callback:function(e){t.finshForm=e},expression:"finshForm"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("h2",[t._v("معاينة قبل الارسال")]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("ul",{staticClass:"nav nav-tabs card-header-tabs"},[0!=t.getForm.length?e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",class:0!=t.getForm.length?"active":"",attrs:{"data-toggle":"tab",href:"#formData"}},[t._v("معلومات الاستمارة")])]):t._e(),0!=t.getDocs.length?e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",class:0!=t.getDocs.length&&0==t.getForm.length?"active":"",attrs:{"data-toggle":"tab",href:"#formDocs"}},[t._v("الملفات")])]):t._e()])]),e("div",{staticClass:"tab-content card-body"},[e("div",{staticClass:"tab-pane",class:0!=t.getForm.length?"active":"",attrs:{id:"formData"}},[e("div",{attrs:{id:"printMe"}},[e("div",{staticClass:"row"},t._l(t.formGroup,(function(i){return e("div",{key:i.id,staticClass:"col-sm-12"},[e("fieldset",{staticClass:"fieldset-container"},[e("legend",{staticClass:"w-auto legand-label"},[t._v(" "+t._s(i.label)+" ")]),e("table",{staticClass:"table table-bordered table-sm"},[e("thead",{staticClass:"info-head"},[e("th",[t._v(" المعلومات ")]),e("th",[t._v(" القيمة ")])]),e("tbody",t._l(i.fields,(function(i){return e("tr",{key:i.id},[e("td",{staticClass:"text-success text-bold"},[t._v(" "+t._s(i.label)+" ")]),Array.isArray(i.value)?e("td",["object"==Object(s["a"])(i.value[0])?e("span",[e("table",{staticClass:"table table-bordered"},[e("thead",{staticClass:"thead-dark"},t._l(Object.keys(i.value[0]),(function(i,s){return e("th",{key:s},[t._v(" "+t._s(i)+" ")])})),0),e("tbody",t._l(i.value,(function(i,s){return e("tr",{key:s},t._l(Object.values(i),(function(i,s){return e("td",{key:s},[t._v(" "+t._s(i)+" ")])})),0)})),0)])]):e("span",[e("ol",t._l(i.value,(function(i,s){return e("li",{key:s},[t._v(" "+t._s(i)+" ")])})),0)])]):e("td",[t._v(" "+t._s(i.value)+" ")])])})),0)])])])})),0),t.qrCodeSec?e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-6 mb-3"},[e("qr-code",{attrs:{size:t.qrSize,text:t.text}})],1)]):t._e()])]),e("div",{staticClass:"tab-pane",class:0!=t.getDocs.length&&0==t.getForm.length?"active":"",attrs:{id:"formDocs"}},[e("div",{staticClass:"row"},t._l(t.showDocsGroup,(function(s,a){return e("div",{key:a,staticClass:"col-sm-12"},[e("fieldset",{staticClass:"fieldset-container"},[e("legend",{staticClass:"w-auto legand-label"},[t._v(" "+t._s(s.label)+" ")]),e("div",{staticClass:"row"},t._l(s.fields,(function(s,a){return e("div",{key:a,staticClass:"col-sm-6"},[e("div",{staticClass:"card",staticStyle:{"max-width":"70%"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-6"},[e("div",{staticClass:"cert-img",staticStyle:{cursor:"pointer"},attrs:{"data-toggle":"modal","data-target":"#applyModal"},on:{click:function(e){return t.showDocs(s.file.file)}}},[0==s.file.previewData?e("img",{attrs:{src:i("9b4d"),width:"100%",alt:s.file.name}}):e("img",{attrs:{src:s.file.previewData,width:"100%",alt:s.file.name}})])]),e("div",{staticClass:"col-sm-6"},[e("div",{staticClass:"card-body"},[e("h4",{staticClass:"card-title"},[t._v(" "+t._s(s.file.name)+" ")])])])])])])})),0)])])})),0)])])])])]),e("div",{staticClass:"row mt-2"},[t.showFinalErrors.length>0?e("div",{staticClass:"col-lg-6 col-12"},[e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e("h6",{staticClass:"alert-heading font-weight-bold"},[t._v(" يرجى ملئ الحقول المطلوبة ادناه ")]),e("hr"),e("ol",t._l(t.showFinalErrors,(function(i){return e("li",{key:i},[t._v(" "+t._s(i)+" ")])})),0)])]):t._e()])]):t._e(),5==t.count?e("div",{staticClass:"col-lg-3 col-md-6 col-6"},[e("button",{staticClass:"btn-red mb-3",attrs:{type:"submit",id:"save"}},[t._v(" حفظ ")])]):t._e()],1)],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("router-link",{staticClass:"btn-red-outline mx-2",attrs:{to:"/"}},[t._v("خروج ")]),t.count>t.firstCount?e("a",{staticClass:"btn-red-outline mx-2",attrs:{href:"#",id:"prev"},on:{click:function(e){return t.prevStep()}}},[t._v(" السابق ")]):t._e(),t.count<5?e("a",{staticClass:"btn-red-outline mx-2",attrs:{href:"#",id:"next"},on:{click:function(e){return t.nextStep()}}},[t._v(" التالي ")]):t._e()],1)])]),t._m(0)])]):e("section",{staticClass:"dashboard-counts section-padding"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 offset-md-2 col-12"},[e("div",{staticClass:"landing-page"},[e("div",{staticClass:"card rounded shadow-sm mt-5"},[e("div",{staticClass:"card-body"},[e("h3",{staticClass:"card-title text-center font-weight-bold my-4"},[t._v(" انتهاء التقديم ")]),e("h5",{staticClass:"card-text"},[t._v(" عزيزي المواطن نعلمكم بأنتهاء التقديم على الخدمة "),e("b",[t._v("("+t._s(t.getService.name)+")")]),t._v(" للاطلاع على الخدمات المتاحة على البوابة ")]),t._m(1)])])])])])])])])}),r=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal fade",attrs:{id:"applyModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-xl"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),e("div",{staticClass:"modal-body"},[e("iframe",{attrs:{name:"iframe_a",height:"450px",width:"100%"}})])])])])},function(){var t=this,e=t._self._c;return e("h6",{staticClass:"text-center my-3"},[e("a",{staticClass:"btn btn-red-outline",attrs:{href:"https://ur.gov.iq/index/all-services/all"}},[t._v(" الانتقال الى الخدمات ")])])}],o=i("5530"),n=(i("4e82"),i("fb6a"),i("caad"),i("2532"),i("3ca3"),i("2b3d"),i("7db0"),i("4de4"),i("498a"),i("ae01"),i("bc3a")),l=i.n(n),c=i("2f62"),d=i("3d20"),u=i.n(d),f="https://eservice.ur.gov.iq",p="https://eservice.ur.gov.iq/api/",h="https://ur.gov.iq/index/",m={title:"التقديم على الخدمة",name:"publicApplyServiceV1",data:function(){return{applySection:[],docsIDFinish:[],documentFinish:[],guideForm:{},inputFormField:{},inputDocsField:{},finshForm:{},serviceStatus:null,serviceId:null,getService:{},getOrg:{},getGuide:{},getForm:[],formGroup:[],groupOfForm:[],getFieldsGroup:[],getFormErr:[],getDocs:[],getFieldsDocs:[],apiDocsFields:[],docsIDs:[],filesArr:[],getAllDocs:[],docsOfGroup:[],showDocsGroup:[],fieldsDocsOption:[],docsErr:[],showFinalErrors:[],jsonSent:{},count:null,firstCount:null,qrCodeSec:!1,qrSize:200,text:f+"employee/dashboard/request-process/",hideErr:[]}},computed:Object(o["a"])(Object(o["a"])({sortSections:function(){return this.applySection.slice().sort((function(t,e){return t.id-e.id}))}},Object(c["c"])(["token","user","privilege","roles"])),{},{minMaxValue:function(){return function(t){var e=t.type.name,i=t.data_type.name,s=t.name;if("textarea"==e){if(Object.keys(this.inputFormField).includes(s)&&null!=this.inputFormField[s]&&""!=this.inputFormField[s])return!0}else{if("input"!=e)return!1;if("text"!=i&&"number"!=i&&"password"!=i&&"email"!=i)return!1;if(Object.keys(this.inputFormField).includes(s)&&""!=this.inputFormField[s]&&null!=this.inputFormField[s])return!0}}}}),watch:{count:function(){6==this.count&&this.count--,0==this.count&&this.count++,1==this.count&&(this.getFieldsGroup=[],this.formGroup=[],this.fieldsDocsOption=[],this.docsIDFinish=[],this.apiDocsFields=[],this.docsIDs=[],this.filesArr=[],this.docsOfGroup=[],this.showDocsGroup=[],this.documentFinish=[],this.getFormErr=[],this.docsErr=[],this.showFinalErrors=[]),2==this.count&&(this.getFieldsGroup=[],this.formGroup=[],this.fieldsDocsOption=[],this.docsIDFinish=[],this.apiDocsFields=[],this.docsIDs=[],this.filesArr=[],this.docsOfGroup=[],this.showDocsGroup=[],this.documentFinish=[],this.getFormErr=[],this.docsErr=[],this.showFinalErrors=[]),3==this.count&&(this.getFieldsGroup=[],this.formGroup=[],this.fieldsDocsOption=[],this.docsIDFinish=[],this.apiDocsFields=[],this.docsIDs=[],this.filesArr=[],this.docsOfGroup=[],this.showDocsGroup=[],this.documentFinish=[],this.getFormErr=[],this.docsErr=[],this.showFinalErrors=[]),5==this.count&&(this.previewForm(),this.previewDocs(),this.previewErrors(),this.previewFinish())}},methods:{nextStep:function(){for(var t=0;t<this.sortSections.length;t++)if(this.sortSections[t].id>this.count){this.count=this.sortSections[t].id;break}},prevStep:function(){for(var t=this.sortSections.length-1;t>=0;t--)if(this.sortSections[t].id<this.count){this.count=this.sortSections[t].id;break}},showDocs:function(t){var e=URL.createObjectURL(t),i=document.createElement("a");i.href=e,i.target="iframe_a",i.click()},changeCount:function(t){this.count=t},previewForm:function(){var t=this;this.groupOfForm.map((function(e){t.getFieldsGroup.push({id:e.id,name:e.name,label:e.label,fields:e.fields.map((function(e){return{id:e.id,name:e.name,label:e.label,require:e.is_required,value:Object.prototype.hasOwnProperty.call(t.inputFormField,e.name)?t.inputFormField[e.name]:""}}))})})),this.groupOfForm.map((function(e){t.formGroup.push({id:e.id,name:e.name,label:e.label,fields:e.fields.map((function(e){return{id:e.id,name:e.name,label:e.label,value:Object.prototype.hasOwnProperty.call(t.inputFormField,e.name)?t.inputFormField[e.name]:""}}))})}))},previewDocs:function(){var t=this;this.getAllDocs.map((function(e){t.apiDocsFields.push({id:e.id,name:e.name,label:e.label})})),this.apiDocsFields.map((function(e){t.docsIDs.push(Object.prototype.hasOwnProperty.call(t.inputDocsField,e.name)&&0!=t.inputDocsField[e.name].files.length?e.id:"NoID")})),this.apiDocsFields.map((function(e){t.filesArr.push({id:e.id,file:Object.prototype.hasOwnProperty.call(t.inputDocsField,e.name)?t.inputDocsField[e.name].files[0]:""})})),this.getDocs.map((function(e){t.docsOfGroup.push({label:e.label,name:e.name,fields:e.fields.map((function(e){return{file:t.filesArr.find((function(t){return t.id===e.id})).file}}))})})),this.docsOfGroup.map((function(e){t.showDocsGroup.push({label:e.label,name:e.name,fields:e.fields.filter((function(t){if(""!=t.file&&void 0!=t.file)return t.file}))})})),this.getAllDocs.map((function(e){t.fieldsDocsOption.push({id:e.id,required:e.is_required,label:e.label,format:e.format})}))},previewErrors:function(){var t=this;this.getFieldsGroup.map((function(e){t.getFormErr.push(e.fields.map((function(t){return{label:t.label,value:t.value,require:t.require}})))}));for(var e=0;e<this.getFormErr.length;e++)for(var i=0;i<this.getFormErr[e].length;i++)1==this.getFormErr[e][i].require&&""==this.getFormErr[e][i].value&&this.showFinalErrors.push("حقل ( "+this.getFormErr[e][i].label+" ) مطلوب");this.filesArr.map((function(e){t.fieldsDocsOption.filter((function(i){i.id==e.id&&t.docsErr.push({label:i.label,value:void 0===e.file?"undefined":e.file,required:i.required,format:i.format})}))}));for(var s=0;s<this.docsErr.length;s++)(1==this.docsErr[s].required&&""==this.docsErr[s].value||1==this.docsErr[s].required&&"undefined"==this.docsErr[s].value||1==this.docsErr[s].required&&0==this.docsErr[s].value.complete||0==this.docsErr[s].value.complete)&&this.showFinalErrors.push("حقل ( "+this.docsErr[s].label+" ) مطلوب")},previewFinish:function(){var t=this;this.docsIDs.filter((function(e){"NoID"!=e&&t.docsIDFinish.push(e)})),this.filesArr.filter((function(e){void 0!=e.file&&1==e.file.complete&&t.documentFinish.push(e.file)}))},showRequestDoc:function(t){var e=this.$loading.show({container:this.$refs.formContainer,loader:"dots",transition:"fade",color:"#c30734"}),i=t.trim(),s="data:application/pdf;base64,"+i;fetch(s).then((function(t){return t.blob()})).then((function(t){e.hide();var i=URL.createObjectURL(t),s=document.createElement("a");s.href=i,s.target="_blank",s.click(),window.URL.revokeObjectURL(t)}))},submitForm:function(){var t=this;if(0==this.showFinalErrors.length){var e=this.$loading.show({container:this.$refs.formContainer,loader:"dots",transition:"fade",color:"#c30734"});this.jsonSent={form_data:{data:this.formGroup},docs_ids:this.docsIDFinish};var i=new FormData;i.set("form_data",JSON.stringify(this.jsonSent.form_data)),i.append("docs_ids",JSON.stringify(this.jsonSent.docs_ids));for(var s=0;s<this.documentFinish.length;s++)i.append(this.docsIDFinish[s],this.documentFinish[s].file);l.a.post(p+"service_request/"+this.serviceId+"/apply",i,{headers:{Authorization:"Bearer "+this.token,"Content-Type":"multipart/form-data;"}}).then((function(i){var s=i.data.base64;t.text=t.text+t.serviceId,e.hide();var a=["10455","10353","10458","10454","10496","10461","10533","10535","10614"],r=["10533","10535"],o=["10353","10458","10454","10461"];201!=i.status&&200!=i.status||(a.includes(t.serviceId)||t.showRequestDoc(s),u.a.fire({icon:"success",title:a.includes(t.serviceId)?"شكرا لك":"تم انشاء الطلب بنجاح",html:r.includes(t.serviceId)?"شكرا لمساهمتك في بيان رأيك":o.includes(t.serviceId)?"":"<p>سيتم طباعة الطلب <br> يرجى الاحتفاظ به <span style='color:red'>لغرض المراجعة</span></p>",showConfirmButton:!0}).then((function(){location.assign(h)})))})).catch((function(i){e.hide(),t.hideErr.push(i)}))}}},mounted:function(){var t=this;this.serviceId=this.$route.params.id;var e=this.$loading.show({container:this.$refs.formContainer,loader:"dots",transition:"fade",color:"#c30734"});l.a.get(p+"service/"+this.$route.params.id+"/public").then((function(i){e.hide(),t.getService=i.data.data,t.applySection=i.data.data.sections,t.applySection.push({id:5,name:"finish",name_ar:"إنهاء"}),t.count=t.sortSections[0].id,t.firstCount=t.sortSections[0].id,1==t.getService.login_required&&t.$router.push({name:"newServiceAuth",params:{id:t.$route.params.id}}),t.serviceStatus=i.data.data.status,t.getOrg=i.data.data.org,t.getGuide=i.data.data.guide,t.getForm=i.data.data.form;for(var s=0;s<t.getForm.length;s++)t.groupOfForm.push({id:t.getForm[s].id,name:t.getForm[s].name,label:t.getForm[s].label,fields:t.getForm[s].fields});t.getDocs=i.data.data.document;for(var a=0;a<t.getDocs.length;a++)t.getFieldsDocs[a]=t.getDocs[a].fields;for(var r=0;r<t.getFieldsDocs.length;r++)for(var o=0;o<t.getFieldsDocs[r].length;o++)t.getAllDocs.push(t.getFieldsDocs[r][o])})).catch((function(i){e.hide(),t.hideErr.push(i)}))}},v=m,b=(i("0e45"),i("77fe"),i("0c7c")),g=Object(b["a"])(v,a,r,!1,null,"7c52048e",null);e["default"]=g.exports},ee07:function(t,e,i){},fb6a:function(t,e,i){"use strict";var s=i("23e7"),a=i("861d"),r=i("e8b5"),o=i("23cb"),n=i("50c4"),l=i("fc6a"),c=i("8418"),d=i("b622"),u=i("1dde"),f=u("slice"),p=d("species"),h=[].slice,m=Math.max;s({target:"Array",proto:!0,forced:!f},{slice:function(t,e){var i,s,d,u=l(this),f=n(u.length),v=o(t,f),b=o(void 0===e?f:e,f);if(r(u)&&(i=u.constructor,"function"!=typeof i||i!==Array&&!r(i.prototype)?a(i)&&(i=i[p],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return h.call(u,v,b);for(s=new(void 0===i?Array:i)(m(b-v,0)),d=0;v<b;v++,d++)v in u&&c(s,d,u[v]);return s.length=d,s}})}}]);
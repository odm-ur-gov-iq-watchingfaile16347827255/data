(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46506c66"],{"0339":function(e,t,s){"use strict";s("e721")},a96b:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"verify-auth"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-12"},[s("div",{staticClass:"redirect"},[e.reDirect?s("h3",{staticClass:"text-center mt-3"},[e._v(e._s(e.reDirect))]):e._e()]),e._m(0)])])])])},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mt-2 text-center"},[s("i",{staticClass:"fa fa-spinner fa-pulse fa-3x fa-fw text-danger"})])}],c=(s("14d9"),s("bc3a")),n=s.n(c),a=s("2f62");const u="https://ur.gov.iq/api/";var h={name:"verifyAuth",metaInfo:{title:"تأكيد الحساب"},data(){return{sID:null,cURL:null,cID:null,serviceName:null,reDirect:null,hideErr:[]}},computed:{...Object(a["c"])(["user","token","serviceUrlStore"])},methods:{...Object(a["b"])(["setServiceUrl","clearServiceUrl"]),loginByAuth(){const e={Authorization:"Bearer "+this.token};null!=this.serviceUrlStore&&(null!=this.serviceUrlStore.phoneNum?this.reDirect="سيتم تحويلك الى لوحة التحكم بعد قليل ...":this.reDirect="سيتم تحويلك الى صفحة الخدمات بعد قليل ..."),this.$gtag.event("login",{event_category:"user.verifyAuth",event_label:"مصادقة الدخول"});let t=this.$loading.show({container:this.$refs.newsContainer},{default:this.$createElement("CustomLoader")});n.a.post(u+"oauth/authorize?client_id="+this.cID+"&redirect_uri="+this.cURL+"&response_type=code",{},{headers:e}).then(e=>{200==e.status&&(t.hide(),this.clearServiceUrl(),setTimeout((function(){window.location.replace(e.data)}),1500))}).catch(e=>{t.hide(),422==e.response.status&&setTimeout((function(){location.assign("/customer/customer-request")}),2e3),this.hideErr.push(e)})}},created(){if(Object.keys(this.$route.query).includes("client_id")){this.cURL=this.$route.query.redirect_uri,this.cID=this.$route.query.client_id,this.sID=this.$route.query.sID,this.serviceName=this.$route.query.serviceName;var e=Object.keys(this.$route.query).includes("pNo")?this.$route.query.pNo:null,t={cID:this.cID,sID:this.sID,cURL:this.cURL,serviceName:this.serviceName,phoneNum:e}}else{this.cURL=this.$route.query.cUri,this.cID=this.$route.query.cId,this.sID=this.$route.query.sID,this.serviceName=this.$route.query.serviceName;e=Object.keys(this.$route.query).includes("pNo")?this.$route.query.pNo:null,t={cID:this.cID,sID:this.sID,cURL:this.cURL,serviceName:this.serviceName,phoneNum:e}}this.setServiceUrl(t)},mounted(){this.$gtag.pageview(this.$route.name),this.$gtag.query("event","screen_view",{app_name:"UR Portal",screen_name:"مصادقة الدخول"}),this.cURL&&this.cID&&this.token?this.loginByAuth():(this.cURL&&this.cID&&this.token,this.$router.push({name:"login"}))}},o=h,l=(s("0339"),s("2877")),d=Object(l["a"])(o,i,r,!1,null,"59a28cd0",null);t["default"]=d.exports},e721:function(e,t,s){}}]);
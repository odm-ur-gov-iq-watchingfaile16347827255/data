(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9b2481ca"],{"2cf6":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"all-services counts"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 my-3"},["all"==t.tagID?e("h3",{staticClass:"font-weight-bold"},[t._v(" "+t._s(t.$t("allServices"))+" ("+t._s(t.totalRows)+") ")]):t._e(),"all"!=t.tagID?e("button",{staticClass:"filter-result",attrs:{type:"button"},on:{click:function(a){return t.allServices(t.currentPage,"all")}}},[t._v(" "+t._s(t.$t("showAllServices"))+" ")]):t._e()]),e("div",{staticClass:"col-sm-4 col-12 my-1"},[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.allFilter,expression:"allFilter"}],staticClass:"form-control",attrs:{placeholder:t.$t("searchService")},domProps:{value:t.allFilter},on:{input:function(a){a.target.composing||(t.allFilter=a.target.value)}}}),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-primary",on:{click:function(a){return t.serviceFilter(t.currentPage)}}},[e("i",{staticClass:"fa fa-search"})])])])]),e("div",{staticClass:"col-sm-8 col-12"},[e("router-link",{staticClass:"filter-result",attrs:{to:"/all-cats"}},[t._v(t._s(t.$t("categoriesHeader")))]),e("span",{staticClass:"mx-2"},[t._v("|")]),e("router-link",{staticClass:"filter-result",attrs:{to:"/all-orgs"}},[t._v(t._s(t.$t("catMinistry")))]),e("span",{staticClass:"mx-2"},[t._v("|")]),e("a",{staticClass:"filter-result",class:"manual"==t.tagID?"active-result":"filter-result",attrs:{href:"#"},on:{click:function(a){return t.allServices(t.currentPage,"manual")}}},[t._v(t._s(t.$t("manualService"))+" "),"manual"==t.tagID?e("span",{staticClass:"badge badge-light"},[t._v(t._s(t.totalRows))]):t._e()]),e("span",{staticClass:"mx-2"},[t._v("|")]),e("a",{staticClass:"filter-result",class:"elec"==t.tagID?"active-result elec":"filter-result",attrs:{href:"#"},on:{click:function(a){return t.allServices(t.currentPage,"elec")}}},[t._v(" "+t._s(t.$t("elecService"))+" "),"elec"==t.tagID?e("span",{staticClass:"badge badge-light"},[t._v(t._s(t.totalRows))]):t._e()])],1)]),e("div",{staticClass:"row"},[t._m(0),0==t.serviceList.length?e("div",{staticClass:"col-12"},["ar"==t.$i18n.locale?e("h3",{staticClass:"text-center text-danger"},[t._v(" لاتوجد خدمات "),e("i",{staticClass:"fa fa-exclamation-triangle text-dark"})]):e("h3",{staticClass:"text-center text-danger"},[t._v(" There are no services "),e("i",{staticClass:"fa fa-exclamation-triangle text-dark"})])]):t._l(t.serviceList,(function(a,s){return e("div",{key:s,staticClass:"col-lg-4 col-sm-6 col-12"},[e("div",{staticClass:"count-list"},[e("p",{staticClass:"font-weight-bold"},[e("router-link",{staticClass:"stretched-link",attrs:{to:{name:"allServicesPage.show",params:{s_id:a.id,parent_id:"all",parent_type:t.tagID}}}},[t._v(" "+t._s("ar"==t.$i18n.locale?a.name:a.name_en)+" ")])],1),e("em",[t._v(t._s("ar"==t.$i18n.locale?a.org.name:a.org.name_en))]),e("p",[1==a.login_required&&null==a.ur_service?e("router-link",{staticClass:"mx-3",attrs:{to:"#"}},[e("i",{staticClass:"fa fa-key"}),t._v(" "+t._s(t.$t("loginRequired")))]):1==a.login_required&&null!=a.ur_service?e("router-link",{staticClass:"mx-3",attrs:{to:"/login"}},[e("i",{staticClass:"fa fa-key"}),t._v(" "+t._s(t.$t("loginRequired")))]):t._e()],1),e("p",[1==a.type?e("span",{staticClass:"mx-3"},[e("i",{staticClass:"fa fa-desktop"}),t._v(" "+t._s(t.$t("eForm")))]):t._e(),2==a.type?e("span",{staticClass:"mx-3"},[e("i",{staticClass:"fa fa-file"}),t._v(" "+t._s(t.$t("menual")))]):t._e(),e("span",{staticStyle:{color:"#c30734"}},[e("i",{staticClass:"fa fa-star"}),t._v(" "+t._s(a.avg_rating))])])])])}))],2),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-8"},[e("pagination",{attrs:{current_page:t.currentPage,last_page:t.lastPage,num_show:t.numShow,pagination_size:""},on:{changePage:t.allServices}})],1),e("div",{staticClass:"col-sm-4 per-page"},[t._v(" ("+t._s(t.currentPage)+" - "+t._s(t.lastPage)+") "+t._s(t.$t("totalNo"))+" : "),e("span",{staticClass:"text-primary"},[t._v(t._s(t.totalRows))])])])])])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-12"},[e("hr")])}],r=(e("14d9"),e("bc3a")),l=e.n(r),n=e("2f62"),c=e("ca08"),o=e("3d20"),u=e.n(o);const g="https://ur.gov.iq/api/";var p={name:"allServicesPage",title:"جميع الخدمات",components:{Pagination:c["a"]},data(){return{tagID:null,allFilter:null,perPage:null,totalRows:null,lastPage:null,numShow:5,serviceList:[],searchDataFilter:{},prevRoute:null,hideErr:[]}},computed:{...Object(n["c"])(["token","user","isAuth","currentPage"])},methods:{...Object(n["b"])(["setCurrentPageAction"]),serviceFilter(t){let a=this.$loading.show({container:this.$refs.newsContainer},{default:this.$createElement("CustomLoader")});var e={};if(this.allFilter){e="ar"==this.$i18n.locale?{model:"ServiceList",col_value:{name:{value:this.allFilter,type:"search"}}}:{model:"ServiceList",col_value:{name_en:{value:this.allFilter,type:"search"}}};const s="?page="+t;l.a.post(g+"public/search"+s,e).then(t=>{a.hide(),this.serviceList=t.data.data,this.perPage=t.data.meta.per_page,this.totalRows=t.data.meta.total,this.lastPage=t.data.meta.last_page;var e=t.data.meta.current_page;this.setCurrentPageAction(e),0==t.data.data.length&&1!=e&&this.setCurrentPageAction(1)}).catch(t=>{a.hide(),this.hideErr.push(t)})}else a.hide(),u.a.fire({icon:"error",title:"ar"==this.$i18n.locale?"يرجى أدخال كلمة البحث":"Please enter your search word",showConfirmButton:!0})},allServices(t,a=this.tagID){var e={};switch(a){case"manual":e={all:1,service_type:2,sort_by:"hits"};break;case"elec":e={all:1,service_type:1,sort_by:"hits"};break;default:e={all:1,service_type:3,sort_by:"hits"}}if(a!=this.tagID)var s="?page=1";else s="?page="+t;this.tagID=a;let i=this.$loading.show({container:this.$refs.newsContainer},{default:this.$createElement("CustomLoader")});l.a.post(g+"public/services"+s,e).then(t=>{if(200==t.status){i.hide(),this.serviceList=t.data.data,this.perPage=t.data.meta.per_page,this.totalRows=t.data.meta.total,this.lastPage=t.data.meta.last_page;var a=t.data.meta.current_page;this.setCurrentPageAction(a)}}).catch(t=>{i.hide(),this.hideErr.push(t)})},track(){this.$gtag.query("event","screen_view",{app_name:"UR Portal",screen_name:"كافة الخدمات"})}},beforeRouteEnter(t,a,e){e(t=>{t.prevRoute=a})},mounted(){this.tagID=this.$route.params.service_tag,null!=this.prevRoute.name?this.prevRoute.name.split(".",1)!=this.$route.name&&this.setCurrentPageAction(1):this.currentPage,this.allServices(this.currentPage,this.$route.params.service_tag),this.track(),this.$gtag.pageview(this.$route.name)}},h=p,_=(e("b654"),e("2877")),v=Object(_["a"])(h,s,i,!1,null,"63ea1b10",null);a["default"]=v.exports},a48b:function(t,a,e){},b654:function(t,a,e){"use strict";e("a48b")},ca08:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{attrs:{"aria-label":"Page navigation"}},[e("ul",{staticClass:"pagination",class:""+t.pagination_size},[e("li",{staticClass:"page-item",class:1==t.current_page?" disabled":""},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return t.getItems(t.current_page-1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pages,(function(a){return e("li",{key:a,staticClass:"page-item",class:t.current_page==a?" active":""},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return t.getItems(a)}}},[t._v(t._s(a)+" "),e("span",{staticClass:"sr-only"},[t._v("(current)")])])])})),e("li",{class:t.current_page==t.last_page?"page-item disabled":"page-item"},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return t.getItems(t.current_page+1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])},i=[],r={name:"paginationComponent",props:["current_page","last_page","pagination_size","num_show"],computed:{pages(){const t=Math.min(this.num_show,this.last_page);let a=this.current_page-Math.floor(t/2);return a=Math.max(a,1),a=Math.min(a,this.last_page-t+1),[...Array(t)].map((t,e)=>e+a)}},methods:{getItems(t){this.$emit("changePage",t)}}},l=r,n=e("2877"),c=Object(n["a"])(l,s,i,!1,null,null,null);a["a"]=c.exports}}]);
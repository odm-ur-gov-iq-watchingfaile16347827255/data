(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0fc57e2e"],{"7db6":function(t,e,i){"use strict";i("d0f2")},a27f:function(t,e,i){},c495:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",t._l(t.items,(function(e){return i("li",{key:e.id},[i("div",{on:{click:function(i){return t.handleClick(e)}}},[i("img",{staticClass:"rounded-circle mx-1",staticStyle:{width:"27px","vertical-align":"middle"},attrs:{src:1==e.org_up&&null==e.picture?"/static-img/logo-hide-side.png":1==e.org_up&&null!=e.picture||1!=e.org_up&&null!=e.picture?t.imgPath+e.picture:t.imgPath+t.ministry_picture}}),"لاتوجد دائرة فرعية"!=e.name&&"There is no sub-org"!=e.name_en?i("span",{staticClass:"text-primary"},[t._v(" "+t._s("ar"==t.$i18n.locale?e.name:e.name_en)+" ")]):i("span",[t._v(" "+t._s("ar"==t.$i18n.locale?e.name:e.name_en)+" ")]),e.org_url&&"url"==t.org_filter&&"https://ur.gov.iq/#"!=e.org_url?i("span",{staticClass:"mx-2 font-weight-bold"},[t._v("|")]):t._e(),e.org_url&&"url"==t.org_filter&&"https://ur.gov.iq/#"!=e.org_url?i("a",{staticStyle:{color:"#7b66ff"},attrs:{href:e.org_url,target:"_blank"}},[i("i",{staticClass:"fa fa-external-link"})]):t._e()]),i("tree-node",{attrs:{items:e.children,org_filter:t.org_filter,ministry_picture:t.ministry_picture},on:{fetchChildren:t.handleClick}})],1)})),0)},a=[];const s="https://ur.gov.iq/api/";var n={name:"TreeMenu",components:{"tree-node":()=>Promise.resolve().then(i.bind(null,"c495"))},props:["items","current_page","org_filter","ministry_picture"],data(){return{imgPath:s}},methods:{handleClick(t){this.$emit("fetchChildren",t,this.current_page)}}},l=n,o=(i("7db6"),i("2877")),c=Object(o["a"])(l,r,a,!1,null,"5dce93ad",null);e["default"]=c.exports},ca08:function(t,e,i){"use strict";var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("nav",{attrs:{"aria-label":"Page navigation"}},[i("ul",{staticClass:"pagination",class:""+t.pagination_size},[i("li",{staticClass:"page-item",class:1==t.current_page?" disabled":""},[i("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return t.getItems(t.current_page-1)}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pages,(function(e){return i("li",{key:e,staticClass:"page-item",class:t.current_page==e?" active":""},[i("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(i){return t.getItems(e)}}},[t._v(t._s(e)+" "),i("span",{staticClass:"sr-only"},[t._v("(current)")])])])})),i("li",{class:t.current_page==t.last_page?"page-item disabled":"page-item"},[i("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return t.getItems(t.current_page+1)}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])},a=[],s={name:"paginationComponent",props:["current_page","last_page","pagination_size","num_show"],computed:{pages(){const t=Math.min(this.num_show,this.last_page);let e=this.current_page-Math.floor(t/2);return e=Math.max(e,1),e=Math.min(e,this.last_page-t+1),[...Array(t)].map((t,i)=>i+e)}},methods:{getItems(t){this.$emit("changePage",t)}}},n=s,l=i("2877"),o=Object(l["a"])(n,r,a,!1,null,null,null);e["a"]=o.exports},d0f2:function(t,e,i){},d83d:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("div",{staticClass:"row mt-2"},[i("div",{staticClass:"col-12"},[i("h3",[t._v(t._s(t.$t("showMinistry.govMinistry")))]),i("p",[t._v(" "+t._s(t.$t("showMinistry.showMinistryDescription"))+" ")])])]),i("div",{staticClass:"form-row mb-3"},[i("div",{staticClass:"col-md-4 col-12 mt-2"},[i("div",{staticClass:"custom-control custom-switch mt-2"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.orgFilter,expression:"orgFilter"}],staticClass:"custom-control-input",attrs:{type:"radio",id:"orgUrl",name:"orgFilter",value:"url"},domProps:{checked:t._q(t.orgFilter,"url")},on:{change:[function(e){t.orgFilter="url"},function(e){return t.changeTag()}]}}),i("label",{staticClass:"custom-control-label",attrs:{for:"orgUrl"}},[t._v(" "+t._s(t.$t("showMinistry.govSite"))+" ")])])]),i("div",{staticClass:"col-md-4 col-12 mt-2"},[i("div",{staticClass:"custom-control custom-switch mt-2"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.orgFilter,expression:"orgFilter"}],staticClass:"custom-control-input",attrs:{type:"radio",id:"orgDm",name:"orgFilter",value:"dm"},domProps:{checked:t._q(t.orgFilter,"dm")},on:{change:[function(e){t.orgFilter="dm"},function(e){return t.changeTag()}]}}),i("label",{staticClass:"custom-control-label",attrs:{for:"orgDm"}},[t._v(" "+t._s(t.$t("showMinistry.cancelDoc"))+" ")])])])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[i("ul",[i("li",[i("a",{attrs:{href:"#"},on:{click:function(e){return t.getSites(t.iraqiGov,t.currentPage)}}},[t._v(" "+t._s("ar"==t.$i18n.locale?t.iraqiGov.name:t.iraqiGov.name_en)+" ")])]),i("tree-node",{attrs:{items:t.items,org_filter:t.orgFilter,ministry_picture:t.ministryPicture,current_page:t.currentPage},on:{fetchChildren:t.getSites}})],1)])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-8"},[i("pagination",{attrs:{current_page:t.currentPage,last_page:t.lastPage,num_show:t.numShow,pagination_size:""},on:{changePage:t.getItems}})],1),i("div",{staticClass:"col-4 per-page"},[t._v(" ("+t._s(t.currentPage)+" - "+t._s(t.lastPage)+") العدد الكلي : "),i("span",{staticClass:"text-primary"},[t._v(t._s(t.totalRows))])])])])},a=[],s=(i("14d9"),i("bc3a")),n=i.n(s),l=i("2f62"),o=i("ca08"),c=i("c495");const u="https://ur.gov.iq/api/";var d={name:"orgsSite",components:{Pagination:o["a"],"tree-node":c["default"]},data(){return{orgFilter:null,items:[],iraqiGov:{id:1,org_up:0,name:"الحكومة العراقية",name_en:"Iraqi government"},orgParent:null,ministryPicture:null,lastOpenedParent:null,perPage:null,totalRows:null,lastPage:null,numShow:5,hideErr:[]}},computed:{...Object(l["c"])(["user","currentPage"])},watch:{$route(t,e){"dm"==t.params.type?(this.orgFilter="dm",this.getSites(this.iraqiGov,1)):(t.params.type="url")&&(this.orgFilter="url",this.getSites(this.iraqiGov,1))}},methods:{...Object(l["b"])(["setCurrentPageAction"]),changeTag(){this.setCurrentPageAction(1),this.getSites(this.iraqiGov,1)},getItems(t){this.setCurrentPageAction(t),this.getSites(this.orgParent,t)},async getSites(t,e){this.orgParent=t;try{let a=this.$loading.show({container:this.$refs.newsContainer},{default:this.$createElement("CustomLoader")});const s="?page="+e,l={id:t.id};"dm"==this.orgFilter?l.org_dm=1:delete l.org_dm,"url"==this.orgFilter?l.org_url=1:delete l.org_url;const o=await n.a.post(`${u}public/show/orgs/info${s}`,l);if(200===o.status){if(a.hide(),1===t.id)this.ministryPicture=null,this.items=o.data.data.map(t=>({...t,children:[]}));else{if(this.ministryPicture=o.data.ministry_picture,0!=o.data.data.length)var i=o.data.data.map(t=>({...t,children:[]}));else i=[{id:t.id,name:"لاتوجد دائرة فرعية",name_en:"There is no sub-org",org_url:"",org_dm:"0",org_up:t.id}];this.addChild(i)}this.perPage=o.data.meta.per_page,this.totalRows=o.data.meta.total,this.lastPage=o.data.meta.last_page;var r=o.data.meta.current_page;this.setCurrentPageAction(r)}}catch(a){console.error("Error fetching data:",a),loader.hide()}},addChild(t){1==this.orgParent.org_up&&this.lastOpenedParent&&this.lastOpenedParent.id!==this.orgParent.id&&this.collapseChildren(this.lastOpenedParent),t.forEach(t=>{this.findAndAddChild(this.items,t)}),1==this.orgParent.org_up&&(this.lastOpenedParent=this.orgParent)},collapseChildren(t){const e=t=>{t.forEach(t=>{t.children=[],t.children&&t.children.length&&e(t.children)})};e([t])},findAndAddChild(t,e){for(let i=0;i<t.length;i++){if(t[i].id==e.org_up)return t[i].children.some(t=>t.id==e.id)||t[i].children.push(e),!0;if(t[i].children&&this.findAndAddChild(t[i].children,e))return!0}return!1}},mounted(){this.orgFilter="url"==this.$route.params.type?"url":"dm",this.getSites(this.iraqiGov,1)}},g=d,h=(i("ebdd"),i("2877")),m=Object(h["a"])(g,r,a,!1,null,"5f7b5515",null);e["default"]=m.exports},ebdd:function(t,e,i){"use strict";i("a27f")}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01c3716f"],{"080a":function(t,e,a){"use strict";a("c08c")},"0849":function(t,e,a){"use strict";a("2355")},2355:function(t,e,a){},"5b7f":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"audio-player"},[t.audioSrc?a("div",{ref:"getAudio",staticClass:"custom-audio-icon ml-3",on:{click:t.togglePlayPause}},[t.isPlaying?t._e():a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"}},[a("path",{attrs:{fill:"currentColor","fill-rule":"evenodd",d:"M11 4.91a.5.5 0 0 0-.838-.369L6.676 7.737A1 1 0 0 1 6 8H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2a1 1 0 0 1 .676.263l3.486 3.196A.5.5 0 0 0 11 19.09zM8.81 3.067C10.415 1.597 13 2.735 13 4.91v14.18c0 2.175-2.586 3.313-4.19 1.843L5.612 18H4a3 3 0 0 1-3-3V9a3 3 0 0 1 3-3h1.611zm11.507 3.29a1 1 0 0 1 1.355.401A10.96 10.96 0 0 1 23 12c0 1.85-.458 3.597-1.268 5.13a1 1 0 1 1-1.768-.934A8.96 8.96 0 0 0 21 12a8.96 8.96 0 0 0-1.085-4.287 1 1 0 0 1 .402-1.356M15.799 7.9a1 1 0 0 1 1.4.2 6.48 6.48 0 0 1 1.3 3.9c0 1.313-.39 2.537-1.06 3.56a1 1 0 0 1-1.673-1.096A4.47 4.47 0 0 0 16.5 12a4.47 4.47 0 0 0-.9-2.7 1 1 0 0 1 .2-1.4","clip-rule":"evenodd"}})]),t.isPlaying?a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"}},[a("path",{attrs:{fill:"currentColor","fill-rule":"evenodd",d:"M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12m7.5-3.5a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1z","clip-rule":"evenodd"}})]):t._e()]):a("div",{ref:"getAudio",staticClass:"custom-audio-icon ml-3",on:{click:t.convertTextToVoice}},[t.audioSrc||0!=t.isLoading?t._e():a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"}},[a("path",{attrs:{fill:"currentColor","fill-rule":"evenodd",d:"M11 4.91a.5.5 0 0 0-.838-.369L6.676 7.737A1 1 0 0 1 6 8H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2a1 1 0 0 1 .676.263l3.486 3.196A.5.5 0 0 0 11 19.09zM8.81 3.067C10.415 1.597 13 2.735 13 4.91v14.18c0 2.175-2.586 3.313-4.19 1.843L5.612 18H4a3 3 0 0 1-3-3V9a3 3 0 0 1 3-3h1.611zm11.507 3.29a1 1 0 0 1 1.355.401A10.96 10.96 0 0 1 23 12c0 1.85-.458 3.597-1.268 5.13a1 1 0 1 1-1.768-.934A8.96 8.96 0 0 0 21 12a8.96 8.96 0 0 0-1.085-4.287 1 1 0 0 1 .402-1.356M15.799 7.9a1 1 0 0 1 1.4.2 6.48 6.48 0 0 1 1.3 3.9c0 1.313-.39 2.537-1.06 3.56a1 1 0 0 1-1.673-1.096A4.47 4.47 0 0 0 16.5 12a4.47 4.47 0 0 0-.9-2.7 1 1 0 0 1 .2-1.4","clip-rule":"evenodd"}})]),t.isLoading?a("span",[a("i",{staticClass:"fa fa-spinner fa-spin fa-fw"}),a("span",{staticClass:"sr-only"},[t._v("Loading...")])]):t._e()]),a("audio",{ref:"audioPlayer",attrs:{src:t.audioSrc},on:{canplaythrough:t.playAudio,ended:t.audioEnded}},[t._v(" > ")])])},i=[],n=(a("14d9"),a("bc3a")),r=a.n(n);const o="https://ur.gov.iq/api/";var c={name:"audioPlayer",props:["dom_text","lang_text"],data(){return{audioSrc:null,isPlaying:!1,isLoading:!1,hideErr:[]}},methods:{singleNotification(t,e){this.$toast.success(t,{position:e,timeout:6e3,closeOnClick:!1,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!0})},async convertTextToVoice(){this.isLoading=!0;try{const t=await r.a.post(o+"public/textToVoice",{text:this.dom_text,lang:"ar"==this.$i18n.locale?"ar":"en"},{responseType:"arraybuffer"});200==t.status&&(this.isLoading=!1,this.fetchAndPlayAudio(t))}catch(t){this.isLoading=!1,this.hideError.push(t)}},fetchAndPlayAudio(t){try{const e=new Blob([t.data],{type:"audio/mpeg"});this.audioSrc=URL.createObjectURL(e);const a=this.$refs.audioPlayer;a.load()}catch(e){console.error("Error fetching audio file:",e)}},playAudio(){this.isPlaying=!0;const t=this.$refs.audioPlayer;t.play()},audioEnded(){this.isPlaying=!1},togglePlayPause(){const t=this.$refs.audioPlayer;this.isPlaying?t.pause():t.play(),this.isPlaying=!this.isPlaying},copyText(){const t=this.dom_text;if(navigator.clipboard)navigator.clipboard.writeText(t).then(()=>{this.singleNotification("تم نسخ النص بنجاح","top-right"),setTimeout(()=>{this.copySuccessMessage=""},2e3)}).catch(t=>{this.getNotification("حدث خطأ، اعد المحاولة")});else{const a=document.createElement("textarea");a.value=t,a.style.position="fixed",document.body.appendChild(a),a.focus(),a.select();try{document.execCommand("copy"),this.singleNotification("تم نسخ النص بنجاح","top-right")}catch(e){this.getNotification("حدث خطأ، اعد المحاولة")}document.body.removeChild(a)}}}},l=c,d=(a("0849"),a("2877")),h=Object(d["a"])(l,s,i,!1,null,"f011faa8",null);e["a"]=h.exports},c08c:function(t,e,a){},f5b2:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"show-news"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-8 col-md-7 col-12"},[a("div",{staticClass:"card mb-3"},[t.getNewsInfo.picture?a("img",{staticClass:"card-img-top",attrs:{src:t.imgPath+t.getNewsInfo.picture,alt:t.getNewsInfo.title}}):t._e(),a("audio-player",{attrs:{lang_text:"ar"==t.$i18n.locale?"ar":"en",dom_text:"ar"==t.$i18n.locale?t.domParserFunc(t.getNewsInfo.title+" "+t.getNewsInfo.details):t.domParserFunc(t.getNewsInfo.title_en+" "+t.getNewsInfo.details_en)}}),a("div",{staticClass:"card-body"},[a("h3",{staticClass:"card-title text-wrap text-justify"},[t._v(" "+t._s("ar"===t.checkTrans?t.getNewsInfo.title:t.getNewsInfo.title_en)+" ")]),a("p",{staticClass:"card-text text-wrap text-justify",domProps:{innerHTML:t._s("ar"==t.checkTrans?t.getNewsInfo.details:t.getNewsInfo.details_en)}}),a("p",{staticClass:"card-text"},[a("small",{staticClass:"text-muted",class:"ar"===t.checkTrans?"pull-right":"pull-left"},[a("i",{staticClass:"fa fa-user"}),t._v(" "+t._s(t.gscomDatePost(t.getNewsInfo.post_date)?t.$t("newsPublishGCOM"):t.$t("newsPublish"))+" - "),a("time",{attrs:{datetime:"2020-01-01"}},[t._v(t._s(t.dateToYMD(t.getNewsInfo.post_date)))])]),a("router-link",{staticClass:"bck-btn",class:"ar"===t.checkTrans?"pull-left":"pull-right",attrs:{target:"_self",to:"/"}},[t._v(t._s(t.$t("backBtn")))])],1)])],1)]),a("div",{staticClass:"col-lg-4 col-md-5 col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v(" "+t._s("ar"==t.checkTrans?t.newsHeader_ar:t.newsHeader_en)+" ")]),a("div",{staticClass:"list-group"},t._l(t.news,(function(e,s){return a("router-link",{key:s,staticClass:"list-group-item list-group-item-action text-wrap text-justify",class:e.id==t.newsID?"active":"",attrs:{to:"/show-news/"+e.id+"/"+t.topicID}},[a("div",{on:{click:function(a){return t.getSelectedNews(e.id)}}},[a("p",{staticClass:"mb-1"},[t._v(" "+t._s("ar"===t.checkTrans?e.title:e.title_en)+" ")]),a("small",[t._v(t._s(t.dateToYMD(e.post_date)))])])])})),1),a("div",{staticClass:"card-footer"},[a("nav",{attrs:{"aria-label":"Page navigation"}},[a("ul",{staticClass:"pagination pagination-sm"},[a("li",{staticClass:"page-item",class:1==t.currentPage?"disabled":""},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return t.getItems(t.topicID,t.currentPage-1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pages,(function(e){return a("li",{key:e,staticClass:"page-item",class:t.currentPage==e?" active":""},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return t.getItems(t.topicID,e)}}},[t._v(t._s(e)+" "),a("span",{staticClass:"sr-only"},[t._v("(current)")])])])})),a("li",{staticClass:"page-item",class:t.currentPage==t.lastPage?"disabled":""},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return t.getItems(t.topicID,t.currentPage+1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])])])]),a("div",{staticClass:"col-lg-8 col-md-7 col-12"},[a("div",{staticClass:"my-3"},[a("h4",{staticClass:"mb-3"},[t._v(t._s(t.$t("relatedNews")))]),t._l(t.getNewsInfo.topics,(function(e,s){return a("router-link",{key:s,staticClass:"btn btn-red mx-2",attrs:{to:"#"}},[a("span",{on:{click:function(a){return t.getItems(e.id)}}},[t._v(t._s("ar"==t.checkTrans?e.name:e.name_en))])])}))],2)])])])])},i=[],n=(a("14d9"),a("bc3a")),r=a.n(n),o=a("2f62"),c=a("5b7f");const l="https://ur.gov.iq/api/",d="https://ur.gov.iq/api/";var h={name:"showNews",components:{AudioPlayer:c["a"]},metaInfo:{title:"قراءة الخبر"},data(){return{targetDate:new Date("2025-07-15"),imgPath:d,newsHeader_ar:null,newsHeader_en:null,get checkTrans(){return localStorage.getItem("locale")},newsID:null,topicID:null,getNewsInfo:{},getTopics:[],news:[],prevRoute:null,lastPage:null,numShown:5,hideErr:[]}},computed:{...Object(o["c"])(["token","user","roles","currentPage"]),pages(){const t=Math.min(this.numShown,this.lastPage);let e=this.currentPage-Math.floor(t/2);return e=Math.max(e,1),e=Math.min(e,this.lastPage-t+1),[...Array(t)].map((t,a)=>a+e)}},methods:{...Object(o["b"])(["setCurrentPageAction"]),gscomDatePost(t){const e=new Date(t),a=e<=this.targetDate;return a},dateToYMD(t){var e=new Date(t),a=e.getDate(),s=e.getMonth()+1,i=e.getFullYear();return(a<=9?"0"+a:a)+"/"+(s<=9?"0"+s:s)+"/"+i},checkAndModifyLinks(){const t=this.$el.querySelectorAll("p");t.forEach(t=>{const e=t.querySelectorAll("a");e.forEach(t=>{t.hasAttribute("target")&&"_blank"===t.getAttribute("target")?(t.removeAttribute("target"),t.setAttribute("target","_blank")):t.hasAttribute("target")&&"_self"===t.getAttribute("target")||t.setAttribute("target","_blank")})})},getNewsId(t,e=this.currentPage){this.topicID=t;let a=this.$loading.show({container:this.$refs.newsContainer},{default:this.$createElement("CustomLoader")});const s="?page="+e;"latest"==t?r.a.get(l+"public/news/latest"+s).then(t=>{a.hide(),this.news=t.data.data,this.perPage=t.data.meta.per_page,this.totalRows=t.data.meta.total,this.lastPage=t.data.meta.last_page;var e=t.data.meta.current_page;this.setCurrentPageAction(e),this.getSelectedNews(this.newsID)}).catch(t=>{a.hide(),this.hideErr.push(t)}):r.a.post(l+"public/news"+s,{topics:[t]}).then(t=>{a.hide(),this.news=t.data.data,this.perPage=t.data.meta.per_page,this.totalRows=t.data.meta.total,this.lastPage=t.data.meta.last_page;var e=t.data.meta.current_page;this.setCurrentPageAction(e),this.getSelectedNews(this.newsID)}).catch(t=>{a.hide(),this.hideErr.push(t)})},getSelectedNews(t){this.newsID=t;let e=this.$loading.show({container:this.$refs.newsContainer},{default:this.$createElement("CustomLoader")});r.a.get(l+"public/news/"+t).then(t=>{e.hide(),this.getNewsInfo=t.data.data,this.getTopics=t.data.data.topics;for(var a=0;a<this.getTopics.length;a++)if(this.getTopics[a].id==this.topicID){"ar"==this.checkTrans?this.newsHeader_ar=this.getTopics[a].name:this.newsHeader_en=this.getTopics[a].name_en;break}}).catch(t=>{e.hide(),this.hideErr.push(t)}).finally(()=>{this.checkAndModifyLinks()})},domParserFunc(t){const e=t,a=new DOMParser,s=a.parseFromString(e,"text/html"),i=s.body.innerText||s.body.textContent;return i},getItems(t,e=this.currentPage){this.topicID=t;let a=this.$loading.show({container:this.$refs.newsContainer},{default:this.$createElement("CustomLoader")});const s="?page="+e;"latest"==t?r.a.get(l+"public/news/latest"+s).then(t=>{a.hide(),this.news=t.data.data,this.perPage=t.data.meta.per_page,this.totalRows=t.data.meta.total,this.lastPage=t.data.meta.last_page;var e=t.data.meta.current_page;this.setCurrentPageAction(e),this.news[0].id!=this.newsID?this.getSelectedNews(this.news[0].id):this.getSelectedNews(this.newsID)}).catch(t=>{a.hide(),this.hideErr.push(t)}):r.a.post(l+"public/news"+s,{topics:[t]}).then(t=>{a.hide(),this.news=t.data.data,this.perPage=t.data.meta.per_page,this.totalRows=t.data.meta.total,this.lastPage=t.data.meta.last_page;var e=t.data.meta.current_page;this.setCurrentPageAction(e),this.news[0].id!=this.newsID?this.getSelectedNews(this.news[0].id):this.getSelectedNews(this.newsID)}).catch(t=>{a.hide(),this.hideErr.push(t)})},track(){this.$gtag.query("event","screen_view",{app_name:"UR Portal",screen_name:"صقحة الاخبار"})}},mounted(){this.track(),this.$gtag.pageview(this.$route.name),this.setCurrentPageAction(1),this.newsID=this.$route.params.id,this.topicID=this.$route.params.topic,this.getNewsId(this.topicID),"latest"==this.topicID?"ar"==this.checkTrans?this.newsHeader_ar="أخر الأخبار":this.newsHeader_en="Latest News":1==this.topicID?"ar"==this.checkTrans?this.newsHeader_ar="أهم الأخبار":this.newsHeader_en="Featured News":"ar"==this.checkTrans?this.newsHeader_ar="الاخبار العاجلة":this.newsHeader_en="Breaking News"}},u=h,g=(a("080a"),a("2877")),p=Object(g["a"])(u,s,i,!1,null,"8404384a",null);e["default"]=p.exports}}]);
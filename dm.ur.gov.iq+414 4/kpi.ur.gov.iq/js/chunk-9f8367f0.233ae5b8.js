(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9f8367f0"],{"13d5":function(t,e,a){"use strict";var s=a("23e7"),r=a("d58f").left,i=a("a640"),n=a("1212"),l=a("9adc"),c=!l&&n>79&&n<83,o=c||!i("reduce");s({target:"Array",proto:!0,forced:o},{reduce:function(t){var e=arguments.length;return r(this,t,e,e>1?arguments[1]:void 0)}})},"14cc":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"grid-container",style:t.gridStyle},t._l(t.data,(function(a,s){return e("div",{key:s,staticClass:"grid-item",style:{borderRight:"5px solid "+a.color,backgroundColor:"#ffffff"}},[e("div",{staticClass:"icon-container",style:{color:a.color}},[e("i",{class:a.icon})]),e("h3",{staticClass:"number"},[t._v(t._s(a.number))]),e("h6",{staticClass:"grid-title"},[t._v(t._s(a.title))]),e("p",{staticClass:"grid-content"},[t._v(t._s(a.content))])])})),0)},r=[],i={name:"CardsGrid",props:{smallScreenCols:{type:Number,default:1},mediumScreenCols:{type:Number,default:2},largeScreenCols:{type:Number,default:4},data:{type:Array,required:!0}},data(){return{currentCols:this.largeScreenCols}},mounted(){this.updateGridLayout(),window.addEventListener("resize",this.updateGridLayout)},beforeDestroy(){window.removeEventListener("resize",this.updateGridLayout)},methods:{updateGridLayout(){const t=window.innerWidth;this.currentCols=t<576?this.smallScreenCols:t>=576&&t<992?this.mediumScreenCols:this.largeScreenCols}},computed:{gridStyle(){return{display:"grid",gridTemplateColumns:`repeat(${this.currentCols}, 1fr)`,gap:"10px"}}}},n=i,l=(a("1dad"),a("0c7c")),c=Object(l["a"])(n,s,r,!1,null,"93d2019e",null);e["a"]=c.exports},"1a87":function(t,e,a){"use strict";a("fc9a")},"1c4a":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{class:t.colsClass},[e("div",{staticClass:"single-case"},[e("div",{staticClass:"content"},[e("div",{staticClass:"chart-container",style:t.chartContainerStyle},[e("Bar",{ref:"chart",staticStyle:{height:"100%"},attrs:{"chart-options":t.computedChartOptions,"chart-data":t.chartData,"chart-id":t.chartId}})],1),e("div",{staticClass:"divider"}),e("div",{staticClass:"tools-card-content-container"},[e("div",{staticClass:"tools-card-content"},[e("div",{staticClass:"text-center"},[e("h6",{staticClass:"text-center",style:t.captionStyle},[t._v(" "+t._s(t.caption)+" ")])])])])])])])},r=[],i=(a("0643"),a("4e3e"),a("7b97")),n=a("dd61"),l=a("d9fa");n["f"].register(n["p"],n["q"],n["h"],n["c"],n["e"],n["j"],l["a"]);var c={name:"BarChart",components:{Bar:i["a"]},props:{caption:{type:String,default:""},colsClass:{type:String,default:"col-lg-3 col-sm-12"},chartId:{type:String,default:"bar-chart"},datasetIdKey:{type:String,default:"label"},chartData:{type:Object,required:!0},plugins:{type:Array,default:()=>[]},type:{type:String,default:"vertical"},labelAnchor:{type:String,default:"center"},labelAlign:{type:String,default:"right"},labelOffset:{type:Number,default:9},labelColor:{type:String,default:"black"},minHeight:{type:Number,default:300},heightPerLabel:{type:Number,default:20},forceDesktopView:{type:Boolean,default:!1},maxHeight:{type:Number,default:null},heightPerItem:{type:Number,default:20}},data(){return{windowWidth:window.innerWidth}},computed:{isMobile(){return!this.forceDesktopView&&this.windowWidth<=768},labelCount(){return this.chartData&&this.chartData.labels?this.chartData.labels.length:0},dynamicHeight(){if("horizontal"===this.type){const t=Math.max(this.minHeight,this.labelCount*this.heightPerItem);return this.maxHeight&&t>this.maxHeight?this.maxHeight:t}return this.minHeight},chartContainerStyle(){return{height:this.dynamicHeight+"px",position:"relative"}},computedChartOptions(){const t={responsive:!0,maintainAspectRatio:!1,scales:{x:{ticks:{autoSkip:!1,maxRotation:45,minRotation:0,font:{family:"Cairo",size:this.isMobile?9:15}}},y:{ticks:{autoSkip:!1,font:{family:"Cairo",size:this.isMobile?9:15}}}},plugins:{datalabels:{anchor:this.labelAnchor,align:this.labelAlign,offset:this.labelOffset,formatter:function(t){return t},font:{size:this.isMobile?8:12},color:this.labelColor},legend:{display:!1}}};return"horizontal"===this.type?t.indexAxis="y":t.indexAxis="x",t},captionStyle(){return{fontSize:this.isMobile?"0.8rem":"1rem"}}},mounted(){this.chartData.datasets&&this.chartData.datasets.length>0&&this.chartData.datasets.forEach(t=>{t.backgroundColor||(t.backgroundColor="#4A90E2")}),window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize)},methods:{handleResize(){this.windowWidth=window.innerWidth}}},o=c,u=(a("81bd"),a("0c7c")),d=Object(u["a"])(o,s,r,!1,null,"11b1d632",null);e["a"]=d.exports},"1dad":function(t,e,a){"use strict";a("51d0")},"28f6":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{class:t.colsClass},[e("div",{staticClass:"single-case"},[e("div",{staticClass:"content"},[e("div",{staticClass:"tools-card"},[e("div",{staticClass:"tools-title"},[e("h2",[t._v(t._s(t.data))])]),e("div",{staticClass:"tools-icon"},[e("div",{class:["icon-circle",t.gradientClass]},[e("i",{class:t.iconClass})])])]),e("div",{staticClass:"divider"}),e("div",{staticClass:"tools-card-content-container"},[e("div",{staticClass:"tools-card-content"},[e("div",{staticClass:"text-center"},[e("h6",{staticClass:"text-center"},[t._v(" "+t._s(t.caption)+" ")])])])])])])])},r=[],i={name:"ToolsCard",props:{colsClass:{type:String,default:"col-lg-3 col-sm-12"},data:{type:[String,Number],required:!0},caption:{type:String,default:"عدد معاملات الخدمة (بدون مسودات)"},iconClass:{type:String,default:"fa-solid fa-file"},gradientClass:{type:String,default:"blue-gradient"}}},n=i,l=(a("f05b"),a("0c7c")),c=Object(l["a"])(n,s,r,!1,null,"9207fe64",null);e["a"]=c.exports},"51d0":function(t,e,a){},5463:function(t,e,a){},5615:function(t,e,a){"use strict";var s=a("a93f");const r="/kpis",i={getServiceRequestsStatusesServiceOverall(t,e){let a=`${r}/service_requests_statuses/overall/service?service=${t}`;return"الاجمالي"!==e&&(a+="&year="+e),s["a"].get(a)},getServiceRequestsStatusesQuarter(t,e){let a=`${r}/service_requests_statuses/details_quarter/service?service=${t}`;return"الاجمالي"!==e&&(a+="&year="+e),s["a"].get(a)},getServiceCompletionRateQuarter(t,e){let a=`${r}/service_requests_completion_rate/details_quarter/service?service=${t}`;return"الاجمالي"!==e&&(a+="&year="+e),s["a"].get(a)},getServiceRequestCountQuarter(t,e){let a=`${r}/service_requests_count/details_quarter/service?service=${t}`;return"الاجمالي"!==e&&(a+="&year="+e),s["a"].get(a)},getAllOrgs:function(){return s["a"].get(r+"/helpers/main_orgs")},getServiceMessages:function(t,e){return"الاجمالي"==e?s["a"].get(r+"/message/count?service="+t):s["a"].get(r+`/message/count?service=${t}&year=${e}`)},getServicePaymentDetailsQuarter(t,e){let a=`${r}/payment_details_rate/details_quarter/service?service=${t}`;return"الاجمالي"!==e&&(a+="&year="+e),s["a"].get(a)},getServiceCompletionRatio:function(t,e=null){let a=`${r}/service_requests_completion_rate/overall/service?service=${t}`;return"الاجمالي"!==e&&(a+="&year="+e),s["a"].get(a)},getServiceTotalPaidFees:function(t,e=null){let a=`${r}/payment_details_rate/overall/service?service=${t}`;return"الاجمالي"!==e&&(a+="&year="+e),s["a"].get(a)},getServiceCompletionTime:function(t,e=null){return s["a"].get(r+"/service_request_completion_time/overall/service?service="+t)},getServiceRequestForEachYear(t){let e=`${r}/service_requests_count/service/per_year?service=${t}`;return s["a"].get(e)},getServiceCompletionRateEachYear(t,e=null){return s["a"].get(r+"/service_requests_completion_rate/service/per_year?service="+t)},getServiceAverageCompletionDaysEachYear(t){return s["a"].get(r+"/service_request_completion_time/service/per_year?service="+t)},getServiceRequestTimeInterval(t,e=null){let a=`${r}/service_request_completion_time/requestInterval?service=${t}`;return"الاجمالي"!==e&&(a+="&year="+e),s["a"].get(a)},getServiceEffect(t,e=2024){"الاجمالي"==e&&(e=2024);let a=`${r}/equations/${t}/${e}`;return s["a"].get(a)},getServiceTotalPaidFeesquarter:function(t=null){let e=r+"/payment_details_rate/index_quarter";return"الاجمالي"!==t&&(e+="?year="+t),s["a"].get(e)},getServiceCompletionRateQuarterall:function(t=null){let e=r+"/service_requests_completion_rate/index_quarter";return"الاجمالي"!==t&&(e+="?year="+t),s["a"].get(e)},getServiceRequestsCountQuarter:function(t=null){let e=r+"/service_requests_count/index_quarter";return"الاجمالي"!==t&&(e+="?year="+t),s["a"].get(e)},getServiceStatusesQuarter:function(t=null){let e=r+"/service_requests_statuses/index_quarter";return"الاجمالي"!==t&&(e+="?year="+t),s["a"].get(e)},createEventAdd:function(t){return s["a"].post(r+"/events",t)},getAllEvents:function(){return s["a"].get(r+"/events")},getSpecificEvents(t,e){return s["a"].get(r+`/events?type=${t}&date=${e}`)},addFileToEvent:function(t,e){return httpClientMultiPart.post(r+"/events/"+t+"/files",e)},getEvent:function(t){return s["a"].get(r+"/events/"+t)},deleteEvent:function(t){return s["a"].delete(r+"/events/"+t)},editEvent:function(t,e){return s["a"].put(r+"/events/"+t,e)},deleteEventType:function(t){return s["a"].delete(r+"/event-types/"+t)},addEventType:function(t){return s["a"].post(r+"/event-types",t)},createEvent:function(){return s["a"].get(r+"/events/create")},createEventMinutes:function(t,e){return s["a"].post(r+"/events/"+t+"/minutes",e)},getEventMinutes:function(t){return s["a"].get(r+"/events/"+t+"/minutes")},editEventMinutes:function(t,e){return s["a"].put(r+"/events/"+t+"/minutes",e)},getQr:function(t){return s["a"].get(r+"/events/"+t+"/qr")},getDocumentsEffect(t){return s["a"].post(r+"/equations/dynamic_calc_by_documents",{documentsCount:t})}};e["a"]=i},"81bd":function(t,e,a){"use strict";a("5463")},8558:function(t,e,a){"use strict";var s=a("cfe9"),r=a("b5db"),i=a("c6b6"),n=function(t){return r.slice(0,t.length)===t};t.exports=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":s.Bun&&"string"==typeof Bun.version?"BUN":s.Deno&&"object"==typeof Deno.version?"DENO":"process"===i(s.process)?"NODE":s.window&&s.document?"BROWSER":"REST"}()},9485:function(t,e,a){"use strict";var s=a("23e7"),r=a("2266"),i=a("59ed"),n=a("825a"),l=a("46c4"),c=TypeError;s({target:"Iterator",proto:!0,real:!0},{reduce:function(t){n(this),i(t);var e=l(this),a=arguments.length<2,s=a?void 0:arguments[1],o=0;if(r(e,(function(e){a?(a=!1,s=e):s=t(s,e,o),o++}),{IS_RECORD:!0}),a)throw new c("Reduce of empty iterator with no initial value");return s}})},"9adc":function(t,e,a){"use strict";var s=a("8558");t.exports="NODE"===s},"9d4a":function(t,e,a){"use strict";a("9485")},a640:function(t,e,a){"use strict";var s=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&s((function(){a.call(null,e||function(){return 1},1)}))}},a919:function(t,e,a){},a93f:function(t,e,a){"use strict";var s=a("bc3a"),r=a.n(s);const i=r.a.create({baseURL:"https://kpi.ur.gov.iq/api/",timeout:3e4,headers:{"Content-Type":"application/json"}}),n=t=>{if(t.response)return Promise.reject(t);console.log("server error")},l=t=>(t.status>=200&&t.status<300&&t.data.hasOwnProperty("message"),t);i.interceptors.response.use(l,n),e["a"]=i},d58f:function(t,e,a){"use strict";var s=a("59ed"),r=a("7b0b"),i=a("44ad"),n=a("07fa"),l=TypeError,c="Reduce of empty array with no initial value",o=function(t){return function(e,a,o,u){var d=r(e),h=i(d),g=n(d);if(s(a),0===g&&o<2)throw new l(c);var v=t?g-1:0,f=t?-1:1;if(o<2)while(1){if(v in h){u=h[v],v+=f;break}if(v+=f,t?v<0:g<=v)throw new l(c)}for(;t?v>=0:g>v;v+=f)v in h&&(u=a(u,h[v],v,d));return u}};t.exports={left:o(!1),right:o(!0)}},f05b:function(t,e,a){"use strict";a("a919")},f439:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"page-title-area"},[e("div",{staticClass:"container"},[e("div",{staticClass:"page-title-content"},[e("h2",[t._v(t._s(t.$t("Eservices")))]),e("ul",[e("li",[e("router-link",{attrs:{to:"/"}},[t._v(t._s(t.$t("Home")))])],1),e("li",{staticClass:"active"},[t._v(t._s(t.$t("Statistics")))])])])])]),e("section",{staticClass:"home-case pt-5 pb-70"},[e("div",{staticClass:"container"},[e("div",{staticClass:"section-title"},[e("span",[t._v(t._s(t.$t("digitalgov")))]),e("h2",[t._v(t._s(t.$t("alldm")))]),e("p",[t._v(" "+t._s(t.$t("alldmdesc"))+" ")])]),e("div",{staticClass:"case"},[e("ul",{staticClass:"all-case"},[e("li",{class:{active:"retirement"===t.activeType},on:{click:function(e){return t.activeItems("retirement")}}},[e("span",[t._v(t._s(t.$t("alldmtap")))])])])]),e("div",{staticClass:"row mb-20 align-items-center"},[e("div",{staticClass:"col-md-6"},[t._v(" "+t._s(t.$t("authority"))+": "),e("Treeselect",{attrs:{clearable:!1,options:t.orgOptions,placeholder:t.$t("place2"),multiple:!1},on:{input:t.onOrgChange},model:{value:t.selectedOrgId,callback:function(e){t.selectedOrgId=e},expression:"selectedOrgId"}})],1)]),e("div",{staticClass:"row case-list",attrs:{name:"list"}},[e("DynamicBarChart",{key:t.chartsKey,attrs:{chartData:t.documentsChartData,colsClass:"col-lg-12 col-sm-12 item",caption:t.docsnum,type:"horizontal","label-anchor":"end",labelAlign:t.labelalignment,"label-offset":"30",heightPerItem:40,minHeight:300,maxHeight:800}}),e("DynamicBarChart",{key:t.chartsKey,attrs:{chartData:t.usersChartData,colsClass:"col-lg-12 col-sm-12 item",caption:t.usernum,type:"horizontal","label-anchor":"end",labelAlign:t.labelalignment,"label-offset":"20",heightPerItem:40,minHeight:300,maxHeight:800}}),e("ToolsCard",{attrs:{data:t.allusers,caption:t.$t("totalusers"),iconClass:"fa-solid fa-user",gradientClass:"green-gradient",colsClass:"col-lg-6 col-sm-12"}}),e("ToolsCard",{attrs:{data:t.alldocs,caption:t.$t("totaldocs"),iconClass:"fa-solid fa-credit-card",gradientClass:"blue-gradient",colsClass:"col-lg-6 col-sm-12"}})],1)])])])},r=[],i=(a("14d9"),a("13d5"),a("0643"),a("9d4a"),a("1c4a")),n=a("28f6"),l=a("bc3a"),c=a.n(l),o=a("ca17"),u=a("14cc"),d=(a("5615"),{name:"AllDM",components:{DynamicBarChart:i["a"],ToolsCard:n["a"],Treeselect:o["Treeselect"],CardsGrid:u["a"]},data(){return{alldocs:"",allusers:"",chartsKey:!0,activeType:"orgs",documentsChartData:{labels:[],datasets:[{label:"",borderWidth:1,data:[]}]},usersChartData:{labels:[],datasets:[{label:"",borderWidth:1,data:[]}]},selectedOrgId:0,orgOptions:[{id:0,label:this.$t("All")}],originalData:null}},computed:{labelalignment(){return"en"===this.$i18n.locale?"left":"right"},docsnum(){return this.$t("documentsLabel")},usernum(){return this.$t("usersLabel")}},watch:{"$i18n.locale":{immediate:!0,handler(){this.updateChartLabels(),this.orgOptions.length>0&&(this.orgOptions[0].label=this.$t("All"))}}},async mounted(){let t=this.$loading.show();await this.fetchStatistics(),t.hide()},methods:{async fetchStatistics(){try{const t=await c.a.get("https://dmsall.ur.gov.iq/Endpoint/GetAllOrganizations_AllDM",{auth:{username:"kpi",password:"efd26a14b7872483f840526d3bcf15ee63b9df6804be461f8c78a6405e392c6b"}});if(t.data.success){const e=t.data.data;this.rawData=e,this.originalData=e,this.alldocs=e.totalDocuments,this.allusers=e.totalUsers;const a=[{id:0,label:this.$t("All")}];for(let t=0;t<e.orgIds.length;t++)a.push({id:e.orgIds[t],label:"en"===this.$i18n.locale?e.orgNamesEn[t]:e.orgNames[t]});this.orgOptions=a,this.updateChartLabels(),await this.fetchGridData()}else console.error("Failed to fetch data:",t.data.message)}catch(t){console.error("Error fetching data:",t)}},async onOrgChange(){if(0===this.selectedOrgId)return this.rawData=this.originalData,this.alldocs=this.originalData.totalDocuments,this.allusers=this.originalData.totalUsers,this.updateChartLabels(),void await this.fetchGridData();let t=this.$loading.show();try{const e=await c.a.get("https://dmsall.ur.gov.iq/Endpoint/GetSpecificOrganization_AllDM?OrgSeq="+this.selectedOrgId,{auth:{username:"kpi",password:"e63ed405846d3fdaa7b7919904bb9cc18caec547fd06bc6446cb1f285998ced5"}});if(e.data.success){const t=e.data.data;this.rawData=t,void 0!==t.totalDocuments?this.alldocs=t.totalDocuments:this.alldocs=t.orgDocs.reduce((t,e)=>t+e,0),void 0!==t.totalUsers?this.allusers=t.totalUsers:this.allusers=t.orgUsers.reduce((t,e)=>t+e,0),this.updateChartLabels(),await this.fetchGridData()}else console.error("Failed to fetch specific organization data:",e.data.message)}catch(e){console.error("Error fetching specific organization data:",e)}finally{t.hide()}},updateChartLabels(){if(!this.rawData)return;const t="en"===this.$i18n.locale?"orgNamesEn":"orgNames";this.$set(this.documentsChartData,"labels",this.rawData[t]),this.$set(this.documentsChartData.datasets[0],"data",this.rawData.orgDocs),this.$set(this.documentsChartData.datasets[0],"label",this.$t("documents")),this.$set(this.usersChartData,"labels",this.rawData[t]),this.$set(this.usersChartData.datasets[0],"data",this.rawData.orgUsers),this.$set(this.usersChartData.datasets[0],"label",this.$t("users")),this.chartsKey=!this.chartsKey},activeItems(t){this.activeType=t}}}),h=d,g=(a("1a87"),a("0c7c")),v=Object(g["a"])(h,s,r,!1,null,"76588120",null);e["default"]=v.exports},fc9a:function(t,e,a){}}]);
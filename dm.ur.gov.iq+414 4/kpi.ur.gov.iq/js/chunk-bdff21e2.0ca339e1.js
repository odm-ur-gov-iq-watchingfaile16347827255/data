(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bdff21e2"],{"13d5":function(e,t,a){"use strict";var s=a("23e7"),r=a("d58f").left,i=a("a640"),n=a("1212"),o=a("9adc"),c=!o&&n>79&&n<83,l=c||!i("reduce");s({target:"Array",proto:!0,forced:l},{reduce:function(e){var t=arguments.length;return r(this,e,t,t>1?arguments[1]:void 0)}})},1799:function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("nav",{attrs:{"aria-label":"Page navigation"}},[t("ul",{staticClass:"pagination justify-content-center"},[t("li",{staticClass:"page-item",class:{disabled:1===e.currentPage}},[t("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(t){return t.preventDefault(),e.changePage(e.currentPage-1)}}},[t("span",{attrs:{"aria-hidden":"true"}},[e._v("«")])])]),e._l(e.pagesArray,(function(a){return t("li",{key:a,staticClass:"page-item",class:{active:a===e.currentPage}},[t("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.changePage(a)}}},[e._v(e._s(a))])])})),t("li",{staticClass:"page-item",class:{disabled:e.currentPage===e.totalPages}},[t("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(t){return t.preventDefault(),e.changePage(e.currentPage+1)}}},[t("span",{attrs:{"aria-hidden":"true"}},[e._v("»")])])])],2)])},r=[],i=(a("14d9"),{props:{currentPage:{type:Number,required:!0},totalPages:{type:Number,required:!0}},computed:{pagesArray(){const e=[];for(let t=1;t<=this.totalPages;t++)e.push(t);return e}},methods:{changePage(e){e!==this.currentPage&&e>=1&&e<=this.totalPages&&this.$emit("page-changed",e)}}}),n=i,o=(a("d896"),a("0c7c")),c=Object(o["a"])(n,s,r,!1,null,"ea748c24",null);t["a"]=c.exports},"1a32":function(e,t,a){},"1cfd":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"page-title-area"},[t("div",{staticClass:"container"},[t("div",{staticClass:"page-title-content"},[t("h2",[e._v(e._s(e.$t("stationtitle")))]),t("ul",[t("li",[t("router-link",{attrs:{to:"/"}},[e._v(" "+e._s(e.$t("Home"))+" ")])],1),t("li",{staticClass:"active"},[e._v(e._s(e.$t("Stations")))])])])])]),t("section",{staticClass:"home-case pt-5 pb-70"},[t("div",{staticClass:"container"},[t("div",{staticClass:"section-title"},[t("span",[e._v(e._s(e.$t("digitalgov")))]),t("h2",[e._v(e._s(e.$t("stationtitle2")))]),t("p",[e._v(e._s(e.$t("stationdesc")))])]),t("div",{staticClass:"row case-list mb-20",attrs:{name:"list"}},[t("div",{staticClass:"col-lg-6 col-sm-12 item"},[e._v(" "+e._s(e.$t("years"))+": "),t("vue-treeselect",{attrs:{multiple:!1,options:e.yearOptions,placeholder:e.$t("place1"),clearable:!1},on:{input:e.onYearChange},model:{value:e.selectedYear,callback:function(t){e.selectedYear=t},expression:"selectedYear"}})],1),t("div",{staticClass:"col-lg-6 col-sm-12 item"},[e._v(" "+e._s(e.$t("serv"))+": "),t("vue-treeselect",{attrs:{multiple:!1,options:e.serviceOptions,placeholder:e.$t("place3"),clearable:!1},on:{input:e.onServiceChange},model:{value:e.selectedServiceId,callback:function(t){e.selectedServiceId=t},expression:"selectedServiceId"}})],1)]),t("div",{staticClass:"row case-list",attrs:{name:"list"}},[t("StackedBarChart",{key:e.chartsKey,attrs:{caption:e.$t("cap14"),colsClass:"col-lg-12 col-sm-12","chart-id":"my-stacked-bar-chart","chart-data":e.chartData,width:600,height:400}})],1),t("div",{staticClass:"row case-list mt-4",attrs:{name:"list"}},[t("BarChartRows",{attrs:{caption:e.$t("cap13"),colsClass:"col-lg-4 col-sm-12",data:e.nodeOverallRequestData,maxHeight:400}}),t("StackedBarChart",{key:e.chartsKey,attrs:{caption:e.$t("quarterlyRequestsStatus"),colsClass:"col-lg-8 col-sm-12","chart-id":"quarterly-stacked-bar-chart","chart-data":e.quarterlyChartData,width:600,height:400}})],1),e.selectedServiceId?t("div",{staticClass:"row case-list mt-4"},[t("StackedBarChart",{key:e.chartsKey,attrs:{caption:e.$t("serviceQuarterlyRequestsStatus"),colsClass:"col-lg-4 col-sm-12","chart-id":"service-quarterly-stacked-bar-chart","chart-data":e.serviceQuarterlyChartData,width:600,height:400}}),t("BarChart",{key:e.chartsKey,attrs:{caption:e.$t("overallCompletionTimeByQuarter"),colsClass:"col-lg-4 col-sm-12","chart-id":"overall-completion-time-quarterly-chart",chartData:e.overallCompletionTimeQuarterlyData,width:600,height:400}}),t("BarChart",{key:e.chartsKey,attrs:{caption:e.$t("serviceCompletionTimeByQuarter"),colsClass:"col-lg-4 col-sm-12","chart-id":"service-completion-time-quarterly-chart",chartData:e.serviceCompletionTimeQuarterlyData,width:600,height:400}})],1):e._e(),t("div",{staticClass:"row case-list"},[t("BarChart",{key:e.chartsKey,attrs:{chartData:e.ServiceNodesCompletionTimeData,colsClass:"col-lg-6 col-sm-12 item",caption:e.$t("cap16")}}),t("div",{staticClass:"col-lg-6 col-sm-12 item"},[t("DataTable",{key:e.chartsKey,attrs:{data:e.tableData,headers:e.translatedHeaders,height:"488px"}})],1)],1),t("div",{staticClass:"row case-list"},[t("BarChart",{key:e.chartsKey,attrs:{chartData:e.ServiceNodesCompletionTimeMonthData,colsClass:"col-lg-12 col-sm-12 item",caption:e.$t("cap17")}})],1)])])])},r=[],i=(a("14d9"),a("0643"),a("4e3e"),a("a573"),a("ca17")),n=a.n(i),o=a("e013"),c=a("a93f");const l="/kpis",d={nodeRequestsStatusesPerYear:async(e=2024)=>c["a"].get(`${l}/node_requests_statuses/index?year=${e}`),nodeRequestsStatusesOverall:async(e=2024)=>c["a"].get(`${l}/node_requests_statuses/overall?year=${e}`),nodeRequestsStatusesPerQuarter:async(e=2024)=>c["a"].get(`${l}/node_requests_statuses/index_quarter?year=${e}`),serviceCompletionTimePerQuarter:async(e=2024)=>c["a"].get(`${l}/service_request_completion_time/index_quarter?year=${e}`)};var u=d,h=a("48d4"),p=a("a2b6"),v=function(){var e=this,t=e._self._c;return t("div",{class:e.colsClass},[t("h6",{staticClass:"text-center"},[e._v(e._s(e.caption))]),t("div",{staticClass:"single-case",class:e.containerClass,style:{maxHeight:e.maxHeight+"px"}},e._l(e.data,(function(a,s){return t("div",{key:s,staticClass:"row",style:{height:e.rowHeight+"px"}},[t("div",{staticClass:"text-part"},[t("span",[e._v(e._s(a.text))])]),t("div",{staticClass:"bar-part"},[t("div",{staticClass:"number"},[e._v(e._s(a.number))]),t("div",{staticClass:"full-bar"},[t("div",{staticClass:"value-bar",style:{width:e.calculateWidth(a.number)+"%",backgroundColor:a.color}})])])])})),0)])},g=[],m=(a("13d5"),a("76d6"),a("9d4a"),{name:"BarChartRows",props:{caption:{type:String,default:"caption"},data:{type:Array,required:!0,validator(e){return e.every(e=>"number"===typeof e.number&&"string"===typeof e.text&&"string"===typeof e.color)}},maxHeight:{type:Number,default:400},colsClass:{type:String,default:"col-lg-3 col-sm-12"},containerClass:{type:String,default:""}},computed:{totalSum(){return this.data.reduce((e,t)=>e+t.number,0)},rowHeight(){return Math.floor(this.maxHeight/this.data.length)}},methods:{calculateWidth(e){return e/this.totalSum*100}}}),f=m,y=(a("c405"),a("0c7c")),b=Object(y["a"])(f,v,g,!1,null,"035f8d97",null),C=b.exports,S=a("1799"),_=a("1fdb");const w="/kpis",$={getServiceRequestsStatusesServiceOverall(e,t){let a=`${w}/service_requests_statuses/overall/service?service=${e}`;return"الاجمالي"!==t&&(a+="&year="+t),c["a"].get(a)},getNodesRequestsStatusesServicePerYear(e,t){let a=`${w}/node_requests_statuses/details/service?service=${e}&year=${t}`;return c["a"].get(a)},getServiceNodesCompletionTime(e,t=null){let a=`${w}/service_request_completion_time/service/node_overall?service=${e}&year=${t}`;return c["a"].get(a)},getServiceNodesCompletionTimeMonth(e,t=null){let a=`${w}/service_request_completion_time/details/service?service=${e}&year=${t}`;return c["a"].get(a)},getNodesRequestsStatusesServicePerQuarter(e,t){let a=`${w}/node_requests_statuses/details_quarter/service?service=${e}&year=${t}`;return c["a"].get(a)},getServiceCompletionTimePerQuarter(e,t){let a=`${w}/service_request_completion_time/details_quarter/service?service=${e}&year=${t}`;return c["a"].get(a)}};var D=$,k=a("8c6f"),q={name:"Stations",components:{BarChart:k["a"],Pagination:S["a"],DataTable:_["a"],BarChartRows:C,StackedBarChart:o["a"],VueTreeselect:n.a},async mounted(){this.orgs=this.getOrgs(),this.initializeDatasetDefinitions(),await this.getNodeResuestsStatusesPerYear(),await this.getNodeRequestsStatusesOverall(),await this.getNodeRequestsStatusesPerQuarter(),await this.getServiceCompletionTimePerQuarter(),await this.getServicesPerYear()},data(){return{chartsKey:!0,datasetDefinitions:[],nodeOverallRequestData:[],chartData:{labels:[],datasets:[]},overallCompletionTimeQuarterlyData:{labels:[],datasets:[{label:"",backgroundColor:"#ff9f40",borderColor:"#ff6384",borderWidth:1,data:[]}]},serviceCompletionTimeQuarterlyData:{labels:[],datasets:[{label:"",backgroundColor:"#4bc0c0",borderColor:"#36a2eb",borderWidth:1,data:[]}]},serviceQuarterlyChartData:{labels:[],datasets:[]},quarterlyChartData:{labels:[],datasets:[]},tableData:[{}],servicesKey:!0,yearOptions:[{id:2025,label:"2025"},{id:2024,label:"2024"},{id:2023,label:"2023"},{id:2022,label:"2022"},{id:2021,label:"2021"}],selectedYear:2024,selectedOrg:"",serviceOptions:[],selectedServiceId:null,selectedServiceName:"",selectedNodeId:null,selectedNodeName:"",nodeOptions:[],ServiceNodesCompletionTimeData:{labels:[],datasets:[{label:"",borderWidth:1,data:[]}]},ServiceNodesCompletionTimeMonthData:{labels:[],datasets:[{label:"",borderWidth:1,data:[]}]},activeType:"all"}},computed:{translatedHeaders(){return[this.$t("month"),this.$t("total1"),this.$t("completed"),this.$t("drafts"),this.$t("in_progress")]}},watch:{"$i18n.locale":{immediate:!0,handler(){this.initializeDatasetDefinitions(),this.updateChartData(),this.updateTableData(),this.getNodeResuestsStatusesPerYear(),this.getNodeRequestsStatusesOverall(),this.getNodeRequestsStatusesPerQuarter(),this.getServiceCompletionTimePerQuarter(),this.getServicesPerYear()}}},methods:{initializeDatasetDefinitions(){this.datasetDefinitions=[{name:"pending_count",title:this.$t("in_progress"),backgroundColor:"#33485C"},{name:"rejected_count",title:this.$t("rejected"),backgroundColor:"red"},{name:"in_emp_correction_count",title:this.$t("correction_by_employee"),backgroundColor:"#FFE29A"},{name:"in_c_correction_count",title:this.$t("correction_by_citizen"),backgroundColor:"#FFC0CB"},{name:"draft_count",title:this.$t("drafts"),backgroundColor:"#FFD700"},{name:"completed_count",title:this.$t("completed"),backgroundColor:"#93D9D9"}]},async getNodesRequestsStatusesServicePerQuarter(){if(!this.selectedServiceId)return;let e=this.$loading.show();try{let t=await D.getNodesRequestsStatusesServicePerQuarter(this.selectedServiceId,this.selectedYear);const a=t.data.map(e=>this.$t("quarter")+" "+e.quarter);let s=[];this.datasetDefinitions.forEach(e=>{const a={label:e.title,backgroundColor:e.backgroundColor,data:t.data.map(t=>parseInt(t[e.name]||0))};s.push(a)}),this.serviceQuarterlyChartData={labels:a,datasets:s},this.chartsKey=!this.chartsKey}catch(t){console.error("Error fetching service quarterly data:",t)}finally{e.hide()}},async getServiceCompletionTimePerQuarter(){if(this.selectedServiceId){let t=this.$loading.show();try{let e=await D.getServiceCompletionTimePerQuarter(this.selectedServiceId,this.selectedYear);const a=e.data.map(e=>this.$t("quarter")+" "+e.quarter);this.serviceCompletionTimeQuarterlyData={labels:a,datasets:[{label:this.$t("averageCompletionDays"),backgroundColor:"#4bc0c0",borderColor:"#36a2eb",borderWidth:1,data:e.data.map(e=>parseInt(e.avg_days_interval))}]}}catch(e){console.error("Error fetching service completion time per quarter:",e)}finally{t.hide()}}else{let e=this.$loading.show(),t=await u.serviceCompletionTimePerQuarter(this.selectedYear);const a=t.data.map(e=>this.$t("quarter")+" "+e.quarter);this.overallCompletionTimeQuarterlyData={labels:a,datasets:[{label:this.$t("averageCompletionDays"),backgroundColor:"#ff9f40",borderColor:"#ff6384",borderWidth:1,data:t.data.map(e=>parseInt(e.avg_days_interval))}]},e.hide()}this.chartsKey=!this.chartsKey},async getNodeRequestsStatusesPerQuarter(){let e=this.$loading.show(),t=await u.nodeRequestsStatusesPerQuarter(this.selectedYear);const a=t.data.map(e=>this.$t("quarter")+" "+e.quarter);let s=[];this.datasetDefinitions.forEach(e=>{const a={label:e.title,backgroundColor:e.backgroundColor,data:t.data.map(t=>parseInt(t[e.name]))};s.push(a)}),this.quarterlyChartData={labels:a,datasets:s},this.chartsKey=!this.chartsKey,e.hide()},onYearChange(){this.getNodeResuestsStatusesPerYear(),this.getNodeRequestsStatusesOverall(),this.getNodeRequestsStatusesPerQuarter(),this.getServiceCompletionTimePerQuarter(),this.getServicesPerYear(),this.selectedServiceId&&(this.getNodesRequestsStatusesServicePerYear(),this.getNodesRequestsStatusesServicePerQuarter(),this.getServiceNodesCompletionTime(),this.getServiceNodesCompletionTimeMonth())},updateChartData(){this.chartData={labels:this.chartData.labels.map(e=>this.$t(e)),datasets:this.chartData.datasets.map(e=>({...e,label:this.$t(e.label)}))},this.chartsKey=!this.chartsKey},updateTableData(){this.tableData=this.tableData.map(e=>({...e,month:this.$t(e.month)})),this.chartsKey=!this.chartsKey},async getNodeResuestsStatusesPerYear(){let e=this.$loading.show(),t=await u.nodeRequestsStatusesPerYear(this.selectedYear),{labels:a,datasets:s}=p["a"].convertResponseArraytoStackedBarData(t.data,this.datasetDefinitions);this.chartData={labels:a.map(e=>this.$t(e)),datasets:s.map(e=>({...e,label:this.$t(e.label)}))},this.chartsKey=!this.chartsKey,e.hide()},async getNodeRequestsStatusesOverall(){let e=await u.nodeRequestsStatusesOverall(this.selectedYear),t=e.data;this.nodeOverallRequestData=[{text:this.$t("completed"),number:parseInt(t[0].completed_count),color:"#22c55e"},{text:this.$t("in_progress"),number:parseInt(t[0].pending_count),color:"#efd844"},{text:this.$t("rejected"),number:parseInt(t[0].rejected_count),color:"#ef4444"},{text:this.$t("correction_by_employee"),number:parseInt(t[0].in_emp_correction_count),color:"#f59e0b"},{text:this.$t("correction_by_citizen"),number:parseInt(t[0].in_c_correction_count),color:"#6366f1"},{text:this.$t("drafts"),number:parseInt(t[0].draft_count),color:"#6b7280"}]},async getServicesPerYear(){let e=this.$loading.show(),t=await h["a"].getServicesPerYear(this.selectedYear);this.serviceOptions=t.data.map(e=>({id:e.id,label:e.name})),e.hide()},async getServiceNodes(){let e=this.$loading.show(),t=await h["a"].getServiceNodes(this.selectedServiceId);this.nodeOptions=t.data.map(e=>({id:e.id,label:e.node_name})),e.hide()},async getNodesRequestsStatusesServicePerYear(){let e=await D.getNodesRequestsStatusesServicePerYear(this.selectedServiceId,this.selectedYear);this.tableData=e.data.map(e=>({month:e.month,all_count:e.all_count,completed_count:e.completed_count,drafts:e.draft_count,pending_count:e.pending_count})),this.chartsKey=!this.chartsKey},async getServiceNodesCompletionTime(){let e=await D.getServiceNodesCompletionTime(this.selectedServiceId,this.selectedYear);this.ServiceNodesCompletionTimeData.labels=e.data.map(e=>e.node_name),this.ServiceNodesCompletionTimeData.datasets[0].data=e.data.map(e=>e.avg_days_interval),this.chartsKey=!this.chartsKey},async getServiceNodesCompletionTimeMonth(){let e=await D.getServiceNodesCompletionTimeMonth(this.selectedServiceId,this.selectedYear);this.ServiceNodesCompletionTimeMonthData.labels=e.data.map(e=>this.$t(e.starting_month)),this.ServiceNodesCompletionTimeMonthData.datasets[0].data=e.data.map(e=>e.avg_days_interval),this.chartsKey=!this.chartsKey},onYearChange(){this.getNodeResuestsStatusesPerYear(),this.getNodeRequestsStatusesOverall(),this.getNodeRequestsStatusesPerQuarter(),this.getServicesPerYear(),this.selectedServiceId&&(this.getNodesRequestsStatusesServicePerYear(),this.getNodesRequestsStatusesServicePerQuarter(),this.getServiceCompletionTimePerQuarter(),this.getServiceNodesCompletionTime(),this.getServiceNodesCompletionTimeMonth())},onServiceChange(){this.getServiceNodes(this.selectedServiceId),this.getNodeRequestsStatusesOverall(),this.getNodesRequestsStatusesServicePerYear(),this.getNodesRequestsStatusesServicePerQuarter(),this.getServiceCompletionTimePerQuarter(),this.getServiceNodesCompletionTime(),this.getServiceNodesCompletionTimeMonth()},onNodeChange(){this.getNodeResuestsStatusesPerYear(),this.getNodeRequestsStatusesOverall()},activeItems(e){this.activeType=e},async getOrgs(){this.orgs=(await h["a"].getOrgs()).data}}},P=q,N=(a("a74a"),Object(y["a"])(P,s,r,!1,null,"60fde952",null));t["default"]=N.exports},"1fdb":function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"table-responsive table-container",style:{height:e.height}},[t("table",{staticClass:"table table-hover table-striped table-bordered align-middle shadow-sm rounded"},[t("caption",{staticClass:"text-center fw-bold text-primary py-2"},[e._v(" "+e._s(e.caption)+" ")]),t("thead",{staticClass:"text-light"},[t("tr",e._l(e.headers,(function(a,s){return t("th",{key:s,staticClass:"text-center custom-thead",attrs:{scope:"col"}},[e._v(" "+e._s(a)+" ")])})),0)]),t("tbody",e._l(e.data,(function(a,s){return t("tr",{key:s,staticClass:"text-center"},e._l(a,(function(a,s){return t("td",{key:s,staticClass:"py-2 px-3"},[e._v(" "+e._s(a)+" ")])})),0)})),0)])])},r=[],i={name:"Datatable",props:{data:{type:Array,required:!0},headers:{type:Array,required:!0},caption:{type:String,default:""},height:{type:String}}},n=i,o=(a("f2ae"),a("0c7c")),c=Object(o["a"])(n,s,r,!1,null,"66571666",null);t["a"]=c.exports},2382:function(e,t,a){"use strict";a("910d")},4754:function(e,t,a){"use strict";e.exports=function(e,t){return{value:e,done:t}}},"48d4":function(e,t,a){"use strict";var s=a("a93f");const r="/kpis/helpers",i={getYears:function(){return s["a"].get(r+"/years")},getOrgs:function(){return s["a"].get(r+"/main_orgs")},getServicesPerYear:function(e=2024){return s["a"].get(r+"/service_list?year="+e)},getServiceNodes:function(e){return s["a"].get(r+"/service_nodes/service/"+e)},getServicesWithoutPayment:function(e,t){return"الاجمالي"==t?s["a"].get(r+"/no_payment_services/org/"+e):s["a"].get(r+`/no_payment_services_year/org/${e}/${t}`)},getPaymentServices:function(e,t){return"الاجمالي"==t?s["a"].get(r+"/payment_services/org/"+e):s["a"].get(r+`/payment_services_year/org/${e}/${t}`)},getServiceMessages:function(e,t){return"الاجمالي"==t?s["a"].get(r+"/message/count?service="+e):s["a"].get(r+`/message/count?service=${e}&year=${t}`)},getOrgServicesWithPaymentByYear(e,t){return s["a"].get(r+`/service_with_payment/${t}/${e}`)},createEventAdd:function(e){return s["a"].post(r+"/events",e)},getAllEvents:function(){return s["a"].get(r+"/events")},getSpecificEvents(e,t){return s["a"].get(r+`/events?type=${e}&date=${t}`)},addFileToEvent:function(e,t){return httpClientMultiPart.post(r+"/events/"+e+"/files",t)},getEvent:function(e){return s["a"].get(r+"/events/"+e)},deleteEvent:function(e){return s["a"].delete(r+"/events/"+e)},editEvent:function(e,t){return s["a"].put(r+"/events/"+e,t)},deleteEventType:function(e){return s["a"].delete(r+"/event-types/"+e)},addEventType:function(e){return s["a"].post(r+"/event-types",e)},createEvent:function(){return s["a"].get(r+"/events/create")},createEventMinutes:function(e,t){return s["a"].post(r+"/events/"+e+"/minutes",t)},getEventMinutes:function(e){return s["a"].get(r+"/events/"+e+"/minutes")},editEventMinutes:function(e,t){return s["a"].put(r+"/events/"+e+"/minutes",t)},getQr:function(e){return s["a"].get(r+"/events/"+e+"/qr")}};t["a"]=i},6964:function(e,t,a){"use strict";var s=a("cb2d");e.exports=function(e,t,a){for(var r in t)s(e,r,t[r],a);return e}},"76d6":function(e,t,a){"use strict";a("d866")},8558:function(e,t,a){"use strict";var s=a("cfe9"),r=a("b5db"),i=a("c6b6"),n=function(e){return r.slice(0,e.length)===e};e.exports=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":s.Bun&&"string"==typeof Bun.version?"BUN":s.Deno&&"object"==typeof Deno.version?"DENO":"process"===i(s.process)?"NODE":s.window&&s.document?"BROWSER":"REST"}()},"8c6f":function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{class:e.colsClass},[t("div",{staticClass:"single-case"},[t("div",{staticClass:"content"},[t("Bar",{ref:"chart",attrs:{"chart-options":e.computedChartOptions,"chart-data":e.chartData,"chart-id":e.chartId}}),t("div",{staticClass:"divider"}),t("div",{staticClass:"tools-card-content-container"},[t("div",{staticClass:"tools-card-content"},[t("div",{staticClass:"text-center"},[t("h6",{staticClass:"text-center",style:e.captionStyle},[e._v(" "+e._s(e.caption)+" ")])])])])],1)])])},r=[],i=(a("0643"),a("4e3e"),a("7b97")),n=a("dd61"),o=a("d9fa");n["f"].register(n["p"],n["q"],n["h"],n["c"],n["e"],n["j"],o["a"]);var c={name:"BarChart",components:{Bar:i["a"]},props:{caption:{type:String,default:""},colsClass:{type:String,default:"col-lg-3 col-sm-12"},chartId:{type:String,default:"bar-chart"},datasetIdKey:{type:String,default:"label"},chartData:{type:Object,required:!0},plugins:{type:Array,default:()=>[]},type:{type:String,default:"vertical"},labelAnchor:{type:String,default:"center"},labelAlign:{type:String,default:"right"},labelOffset:{type:Number,default:9},labelColor:{type:String,default:"black"},forceDesktopView:{type:Boolean,default:!1}},data(){return{windowWidth:window.innerWidth}},computed:{isMobile(){return!this.forceDesktopView&&this.windowWidth<=768},computedChartOptions(){const e={responsive:!0,maintainAspectRatio:!1,scales:{x:{ticks:{autoSkip:!1,font:{family:"Cairo",size:this.isMobile?9:15}}},y:{ticks:{autoSkip:!1,font:{family:"Cairo",size:this.isMobile?9:15}}}},plugins:{datalabels:{anchor:this.labelAnchor,align:this.labelAlign,offset:this.labelOffset,formatter:function(e){return e},font:{size:this.isMobile?8:12},color:this.labelColor},legend:{display:!1}}};return"horizontal"===this.type?e.indexAxis="y":e.indexAxis="x",e},captionStyle(){return{fontSize:this.isMobile?"0.8rem":"1rem"}}},mounted(){this.chartData.datasets[0].backgroundColor||this.chartData.datasets.forEach(e=>{e.backgroundColor="#4A90E2"}),window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize)},methods:{handleResize(){this.windowWidth=window.innerWidth}}},l=c,d=a("0c7c"),u=Object(d["a"])(l,s,r,!1,null,null,null);t["a"]=u.exports},"910d":function(e,t,a){"use strict";var s=a("23e7"),r=a("c65b"),i=a("59ed"),n=a("825a"),o=a("46c4"),c=a("c5cc"),l=a("9bdd"),d=a("c430"),u=c((function(){var e,t,a,s=this.iterator,i=this.predicate,o=this.next;while(1){if(e=n(r(o,s)),t=this.done=!!e.done,t)return;if(a=e.value,l(s,i,[a,this.counter++],!0))return a}}));s({target:"Iterator",proto:!0,real:!0,forced:d},{filter:function(e){return n(this),i(e),new u(o(this),{predicate:e})}})},9485:function(e,t,a){"use strict";var s=a("23e7"),r=a("2266"),i=a("59ed"),n=a("825a"),o=a("46c4"),c=TypeError;s({target:"Iterator",proto:!0,real:!0},{reduce:function(e){n(this),i(e);var t=o(this),a=arguments.length<2,s=a?void 0:arguments[1],l=0;if(r(t,(function(t){a?(a=!1,s=t):s=e(s,t,l),l++}),{IS_RECORD:!0}),a)throw new c("Reduce of empty iterator with no initial value");return s}})},"9adc":function(e,t,a){"use strict";var s=a("8558");e.exports="NODE"===s},"9bdd":function(e,t,a){"use strict";var s=a("825a"),r=a("2a62");e.exports=function(e,t,a,i){try{return i?t(s(a)[0],a[1]):t(a)}catch(n){r(e,"throw",n)}}},"9d4a":function(e,t,a){"use strict";a("9485")},a2b6:function(e,t,a){"use strict";a("14d9"),a("0643"),a("2382"),a("4e3e"),a("a573");const s={convertArrofStringToArrayofInt:e=>e.map(e=>parseInt(e)),extractValues:(e,t,a)=>{const s=e.map(e=>e[t]),r=e.map(e=>e[a]);return{array1:s,array2:r}},convertAPIResponseToDataTable:(e,t=[])=>{const a=e.data.data,s=e.data.current_page,r=e.data.per_page;if(0===a.length)return{headers:[],data:[]};const i=(s-1)*r;let n=Object.keys(a[0]).map(e=>e.charAt(0).toUpperCase()+e.slice(1).replace("_"," "));n=["Index",...n],n=n.filter((e,a)=>!t.includes(a));const o=a.map((e,a)=>{const s={index:i+a+1,...e};return t.forEach(e=>{const t=Object.keys(s)[e];delete s[t]}),s});return{headers:n,data:o}},convertResponseArraytoStackedBarData:(e,t,a="month")=>{const s=e.map(e=>e[a]),r=t.map(t=>({label:t.title,data:e.map(e=>parseInt(e[t.name]||0)),backgroundColor:t.backgroundColor,borderColor:t.borderColor||t.backgroundColor,borderWidth:1}));return{labels:s,datasets:r}},getRandomColors:e=>{const t=[];for(let a=0;a<e;a++)t.push("#"+Math.floor(16777215*Math.random()).toString(16));return t},getPaginationData:(e,t=null)=>{const a=e.data.current_page,s=null!=t?t:e.data.last_page,r=e.data.per_page,i=e.data.total;return console.log("totalItems",s),{currentPage:a,totalPages:s,perPage:r,totalItems:i}}};t["a"]=s},a573:function(e,t,a){"use strict";a("ab43")},a640:function(e,t,a){"use strict";var s=a("d039");e.exports=function(e,t){var a=[][e];return!!a&&s((function(){a.call(null,t||function(){return 1},1)}))}},a74a:function(e,t,a){"use strict";a("fb36")},a93f:function(e,t,a){"use strict";var s=a("bc3a"),r=a.n(s);const i=r.a.create({baseURL:"https://kpi.ur.gov.iq/api/",timeout:3e4,headers:{"Content-Type":"application/json"}}),n=e=>{if(e.response)return Promise.reject(e);console.log("server error")},o=e=>(e.status>=200&&e.status<300&&e.data.hasOwnProperty("message"),e);i.interceptors.response.use(o,n),t["a"]=i},ab43:function(e,t,a){"use strict";var s=a("23e7"),r=a("d024"),i=a("c430");s({target:"Iterator",proto:!0,real:!0,forced:i},{map:r})},c405:function(e,t,a){"use strict";a("d4fc")},c5cc:function(e,t,a){"use strict";var s=a("c65b"),r=a("7c73"),i=a("9112"),n=a("6964"),o=a("b622"),c=a("69f3"),l=a("dc4a"),d=a("ae93").IteratorPrototype,u=a("4754"),h=a("2a62"),p=o("toStringTag"),v="IteratorHelper",g="WrapForValidIterator",m=c.set,f=function(e){var t=c.getterFor(e?g:v);return n(r(d),{next:function(){var a=t(this);if(e)return a.nextHandler();try{var s=a.done?void 0:a.nextHandler();return u(s,a.done)}catch(r){throw a.done=!0,r}},return:function(){var a=t(this),r=a.iterator;if(a.done=!0,e){var i=l(r,"return");return i?s(i,r):u(void 0,!0)}if(a.inner)try{h(a.inner.iterator,"normal")}catch(n){return h(r,"throw",n)}return r&&h(r,"normal"),u(void 0,!0)}})},y=f(!0),b=f(!1);i(b,p,"Iterator Helper"),e.exports=function(e,t){var a=function(a,s){s?(s.iterator=a.iterator,s.next=a.next):s=a,s.type=t?g:v,s.nextHandler=e,s.counter=0,s.done=!1,m(this,s)};return a.prototype=t?y:b,a}},d024:function(e,t,a){"use strict";var s=a("c65b"),r=a("59ed"),i=a("825a"),n=a("46c4"),o=a("c5cc"),c=a("9bdd"),l=o((function(){var e=this.iterator,t=i(s(this.next,e)),a=this.done=!!t.done;if(!a)return c(e,this.mapper,[t.value,this.counter++],!0)}));e.exports=function(e){return i(this),r(e),new l(n(this),{mapper:e})}},d4fc:function(e,t,a){},d58f:function(e,t,a){"use strict";var s=a("59ed"),r=a("7b0b"),i=a("44ad"),n=a("07fa"),o=TypeError,c="Reduce of empty array with no initial value",l=function(e){return function(t,a,l,d){var u=r(t),h=i(u),p=n(u);if(s(a),0===p&&l<2)throw new o(c);var v=e?p-1:0,g=e?-1:1;if(l<2)while(1){if(v in h){d=h[v],v+=g;break}if(v+=g,e?v<0:p<=v)throw new o(c)}for(;e?v>=0:p>v;v+=g)v in h&&(d=a(d,h[v],v,u));return d}};e.exports={left:l(!1),right:l(!0)}},d866:function(e,t,a){"use strict";var s=a("23e7"),r=a("2266"),i=a("59ed"),n=a("825a"),o=a("46c4");s({target:"Iterator",proto:!0,real:!0},{every:function(e){n(this),i(e);var t=o(this),a=0;return!r(t,(function(t,s){if(!e(t,a++))return s()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},d896:function(e,t,a){"use strict";a("1a32")},e013:function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{class:e.colsClass},[t("div",{staticClass:"single-case"},[t("div",{staticClass:"content"},[t("Bar",{attrs:{"chart-options":e.computedChartOptions,"chart-data":e.chartData,"chart-id":e.chartId,width:e.width,height:e.height}}),t("div",{staticClass:"divider"}),t("div",{staticClass:"tools-card-content-container"},[t("div",{staticClass:"tools-card-content"},[t("div",{staticClass:"text-center"},[t("h6",{staticClass:"text-center",style:e.captionStyle},[e._v(" "+e._s(e.caption)+" ")])])])])],1)])])},r=[],i=a("7b97"),n=a("dd61");n["f"].register(n["p"],n["q"],n["h"],n["c"],n["e"],n["j"]);var o={name:"StackedBarChart",components:{Bar:i["a"]},props:{caption:{type:String,default:"caption"},chartId:{type:String,default:"stacked-bar-chart"},colsClass:{type:String,default:"col-lg-3 col-sm-12"},datasetIdKey:{type:String,default:"label"},chartData:{type:Object,required:!0},width:{type:String,default:"100%"},height:{type:Number,default:400},stacked:{type:Boolean,default:!0},plugins:{type:Array,default:()=>[]},forceDesktopView:{type:Boolean,default:!1}},data(){return{windowWidth:window.innerWidth}},computed:{isMobile(){return!this.forceDesktopView&&this.windowWidth<=768},captionStyle(){return{fontSize:this.isMobile?"0.8rem":"1rem"}},computedChartOptions(){return{responsive:!0,maintainAspectRatio:!1,scales:{x:{stacked:this.stacked,ticks:{font:{family:"Cairo",size:this.isMobile?12:15}}},y:{stacked:this.stacked,ticks:{font:{family:"Cairo",size:this.isMobile?12:15}}}},plugins:{datalabels:{anchor:"center",align:"right",formatter:function(e){return""},font:{size:this.isMobile?10:14},color:"white"},legend:{display:!0}}}}},mounted(){window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize)},methods:{handleResize(){this.windowWidth=window.innerWidth}}},c=o,l=a("0c7c"),d=Object(l["a"])(c,s,r,!1,null,null,null);t["a"]=d.exports},ec19:function(e,t,a){},f2ae:function(e,t,a){"use strict";a("ec19")},fb36:function(e,t,a){}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ee49a92"],{"14d9":function(t,e,a){"use strict";var r=a("23e7"),n=a("7b0b"),s=a("07fa"),i=a("3a34"),o=a("3511"),c=a("d039"),l=c((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},d=l||!u();r({target:"Array",proto:!0,arity:1,forced:d},{push:function(t){var e=n(this),a=s(e),r=arguments.length;o(a+r);for(var c=0;c<r;c++)e[a]=arguments[c],a++;return i(e,a),a}})},1799:function(t,e,a){"use strict";var r=function(){var t=this,e=t._self._c;return e("nav",{attrs:{"aria-label":"Page navigation"}},[e("ul",{staticClass:"pagination justify-content-center"},[e("li",{staticClass:"page-item",class:{disabled:1===t.currentPage}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.changePage(t.currentPage-1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pagesArray,(function(a){return e("li",{key:a,staticClass:"page-item",class:{active:a===t.currentPage}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.changePage(a)}}},[t._v(t._s(a))])])})),e("li",{staticClass:"page-item",class:{disabled:t.currentPage===t.totalPages}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.changePage(t.currentPage+1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])},n=[],s=(a("14d9"),{props:{currentPage:{type:Number,required:!0},totalPages:{type:Number,required:!0}},computed:{pagesArray(){const t=[];for(let e=1;e<=this.totalPages;e++)t.push(e);return t}},methods:{changePage(t){t!==this.currentPage&&t>=1&&t<=this.totalPages&&this.$emit("page-changed",t)}}}),i=s,o=(a("d896"),a("0c7c")),c=Object(o["a"])(i,r,n,!1,null,"ea748c24",null);e["a"]=c.exports},"1a32":function(t,e,a){},"1fdb":function(t,e,a){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-responsive table-container",style:{height:t.height}},[e("table",{staticClass:"table table-hover table-striped table-bordered align-middle shadow-sm rounded"},[e("caption",{staticClass:"text-center fw-bold text-primary py-2"},[t._v(" "+t._s(t.caption)+" ")]),e("thead",{staticClass:"text-light"},[e("tr",t._l(t.headers,(function(a,r){return e("th",{key:r,staticClass:"text-center custom-thead",attrs:{scope:"col"}},[t._v(" "+t._s(a)+" ")])})),0)]),e("tbody",t._l(t.data,(function(a,r){return e("tr",{key:r,staticClass:"text-center"},t._l(a,(function(a,r){return e("td",{key:r,staticClass:"py-2 px-3"},[t._v(" "+t._s(a)+" ")])})),0)})),0)])])},n=[],s={name:"Datatable",props:{data:{type:Array,required:!0},headers:{type:Array,required:!0},caption:{type:String,default:""},height:{type:String}}},i=s,o=(a("f2ae"),a("0c7c")),c=Object(o["a"])(i,r,n,!1,null,"66571666",null);e["a"]=c.exports},2382:function(t,e,a){"use strict";a("910d")},3511:function(t,e,a){"use strict";var r=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw r("Maximum allowed index exceeded");return t}},"3a34":function(t,e,a){"use strict";var r=a("83ab"),n=a("e8b5"),s=TypeError,i=Object.getOwnPropertyDescriptor,o=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=o?function(t,e){if(n(t)&&!i(t,"length").writable)throw new s("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},4754:function(t,e,a){"use strict";t.exports=function(t,e){return{value:t,done:e}}},"5a8b":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"page-title-area"},[e("div",{staticClass:"container"},[e("div",{staticClass:"page-title-content"},[e("h2",[t._v(t._s(t.$t("Mservices")))]),e("ul",[e("li",[e("router-link",{attrs:{to:"/"}},[t._v(" "+t._s(t.$t("Home"))+" ")])],1),e("li",{staticClass:"active"},[t._v(t._s(t.$t("Mservices")))])])])])]),e("section",{staticClass:"home-case pt-5 pb-70"},[e("div",{staticClass:"container"},[e("div",{staticClass:"section-title"},[e("span",[t._v(t._s(t.$t("digitalgov")))]),e("h2",[t._v(t._s(t.$t("Mservices")))]),e("p",[t._v(t._s(t.$t("Mostdesc")))])]),e("div",[e("div",[e("DataTable",{attrs:{data:t.tableData,headers:t.tableHeaders,caption:t.$t("Mservices")}}),e("pagination",{attrs:{currentPage:t.pagination.currentPage,totalPages:t.pagination.totalPages},on:{"page-changed":t.fetchPageData}})],1)])])])])},n=[],s=a("8c6f"),i=a("1fdb"),o=a("1799"),c=a("a93f");const l="/kpis",u={getMostUsedServices:async(t=1)=>c["a"].get(`${l}/service_lists/most_used_services?page=${t}`)};var d=u,p=a("a2b6"),h={name:"Services",components:{BarChart:s["a"],DataTable:i["a"],Pagination:o["a"]},async mounted(){await this.fetchPageData(this.pagination.currentPage),this.setTableHeaders()},data(){return{tableHeaders:[],tableData:[],pagination:{currentPage:1,totalPages:1,perPage:10,totalItems:0},columnIndices:[2,1]}},methods:{updateColumnIndices(){"ar"===this.$i18n.locale?this.columnIndices=[2,3]:this.columnIndices=[1,3]},async fetchPageData(t){let e=this.$loading.show();try{this.updateColumnIndices();const e=await d.getMostUsedServices(t);let{headers:a,data:r}=p["a"].convertAPIResponseToDataTable(e.data,this.columnIndices);console.log(p["a"].convertAPIResponseToDataTable(e.data)),this.tableData=r,this.pagination=p["a"].getPaginationData(e.data,8),this.pagination.currentPage=t}catch(a){console.error("Error fetching data:",a)}e.hide()},setTableHeaders(){this.tableHeaders=["#",this.$t("servname"),this.$t("accnum")]}},watch:{"$i18n.locale":function(t){this.setTableHeaders(),this.fetchPageData(this.pagination.currentPage)}}},f=h,g=(a("fc83"),a("0c7c")),v=Object(g["a"])(f,r,n,!1,null,"477e1ca8",null);e["default"]=v.exports},6964:function(t,e,a){"use strict";var r=a("cb2d");t.exports=function(t,e,a){for(var n in e)r(t,n,e[n],a);return t}},"8c6f":function(t,e,a){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{class:t.colsClass},[e("div",{staticClass:"single-case"},[e("div",{staticClass:"content"},[e("Bar",{ref:"chart",attrs:{"chart-options":t.computedChartOptions,"chart-data":t.chartData,"chart-id":t.chartId}}),e("div",{staticClass:"divider"}),e("div",{staticClass:"tools-card-content-container"},[e("div",{staticClass:"tools-card-content"},[e("div",{staticClass:"text-center"},[e("h6",{staticClass:"text-center",style:t.captionStyle},[t._v(" "+t._s(t.caption)+" ")])])])])],1)])])},n=[],s=(a("0643"),a("4e3e"),a("7b97")),i=a("dd61"),o=a("d9fa");i["f"].register(i["p"],i["q"],i["h"],i["c"],i["e"],i["j"],o["a"]);var c={name:"BarChart",components:{Bar:s["a"]},props:{caption:{type:String,default:""},colsClass:{type:String,default:"col-lg-3 col-sm-12"},chartId:{type:String,default:"bar-chart"},datasetIdKey:{type:String,default:"label"},chartData:{type:Object,required:!0},plugins:{type:Array,default:()=>[]},type:{type:String,default:"vertical"},labelAnchor:{type:String,default:"center"},labelAlign:{type:String,default:"right"},labelOffset:{type:Number,default:9},labelColor:{type:String,default:"black"},forceDesktopView:{type:Boolean,default:!1}},data(){return{windowWidth:window.innerWidth}},computed:{isMobile(){return!this.forceDesktopView&&this.windowWidth<=768},computedChartOptions(){const t={responsive:!0,maintainAspectRatio:!1,scales:{x:{ticks:{autoSkip:!1,font:{family:"Cairo",size:this.isMobile?9:15}}},y:{ticks:{autoSkip:!1,font:{family:"Cairo",size:this.isMobile?9:15}}}},plugins:{datalabels:{anchor:this.labelAnchor,align:this.labelAlign,offset:this.labelOffset,formatter:function(t){return t},font:{size:this.isMobile?8:12},color:this.labelColor},legend:{display:!1}}};return"horizontal"===this.type?t.indexAxis="y":t.indexAxis="x",t},captionStyle(){return{fontSize:this.isMobile?"0.8rem":"1rem"}}},mounted(){this.chartData.datasets[0].backgroundColor||this.chartData.datasets.forEach(t=>{t.backgroundColor="#4A90E2"}),window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize)},methods:{handleResize(){this.windowWidth=window.innerWidth}}},l=c,u=a("0c7c"),d=Object(u["a"])(l,r,n,!1,null,null,null);e["a"]=d.exports},"910d":function(t,e,a){"use strict";var r=a("23e7"),n=a("c65b"),s=a("59ed"),i=a("825a"),o=a("46c4"),c=a("c5cc"),l=a("9bdd"),u=a("c430"),d=c((function(){var t,e,a,r=this.iterator,s=this.predicate,o=this.next;while(1){if(t=i(n(o,r)),e=this.done=!!t.done,e)return;if(a=t.value,l(r,s,[a,this.counter++],!0))return a}}));r({target:"Iterator",proto:!0,real:!0,forced:u},{filter:function(t){return i(this),s(t),new d(o(this),{predicate:t})}})},"9bdd":function(t,e,a){"use strict";var r=a("825a"),n=a("2a62");t.exports=function(t,e,a,s){try{return s?e(r(a)[0],a[1]):e(a)}catch(i){n(t,"throw",i)}}},a2b6:function(t,e,a){"use strict";a("14d9"),a("0643"),a("2382"),a("4e3e"),a("a573");const r={convertArrofStringToArrayofInt:t=>t.map(t=>parseInt(t)),extractValues:(t,e,a)=>{const r=t.map(t=>t[e]),n=t.map(t=>t[a]);return{array1:r,array2:n}},convertAPIResponseToDataTable:(t,e=[])=>{const a=t.data.data,r=t.data.current_page,n=t.data.per_page;if(0===a.length)return{headers:[],data:[]};const s=(r-1)*n;let i=Object.keys(a[0]).map(t=>t.charAt(0).toUpperCase()+t.slice(1).replace("_"," "));i=["Index",...i],i=i.filter((t,a)=>!e.includes(a));const o=a.map((t,a)=>{const r={index:s+a+1,...t};return e.forEach(t=>{const e=Object.keys(r)[t];delete r[e]}),r});return{headers:i,data:o}},convertResponseArraytoStackedBarData:(t,e,a="month")=>{const r=t.map(t=>t[a]),n=e.map(e=>({label:e.title,data:t.map(t=>parseInt(t[e.name]||0)),backgroundColor:e.backgroundColor,borderColor:e.borderColor||e.backgroundColor,borderWidth:1}));return{labels:r,datasets:n}},getRandomColors:t=>{const e=[];for(let a=0;a<t;a++)e.push("#"+Math.floor(16777215*Math.random()).toString(16));return e},getPaginationData:(t,e=null)=>{const a=t.data.current_page,r=null!=e?e:t.data.last_page,n=t.data.per_page,s=t.data.total;return console.log("totalItems",r),{currentPage:a,totalPages:r,perPage:n,totalItems:s}}};e["a"]=r},a573:function(t,e,a){"use strict";a("ab43")},a93f:function(t,e,a){"use strict";var r=a("bc3a"),n=a.n(r);const s=n.a.create({baseURL:"https://kpi.ur.gov.iq/api/",timeout:3e4,headers:{"Content-Type":"application/json"}}),i=t=>{if(t.response)return Promise.reject(t);console.log("server error")},o=t=>(t.status>=200&&t.status<300&&t.data.hasOwnProperty("message"),t);s.interceptors.response.use(o,i),e["a"]=s},ab43:function(t,e,a){"use strict";var r=a("23e7"),n=a("d024"),s=a("c430");r({target:"Iterator",proto:!0,real:!0,forced:s},{map:n})},c5cc:function(t,e,a){"use strict";var r=a("c65b"),n=a("7c73"),s=a("9112"),i=a("6964"),o=a("b622"),c=a("69f3"),l=a("dc4a"),u=a("ae93").IteratorPrototype,d=a("4754"),p=a("2a62"),h=o("toStringTag"),f="IteratorHelper",g="WrapForValidIterator",v=c.set,b=function(t){var e=c.getterFor(t?g:f);return i(n(u),{next:function(){var a=e(this);if(t)return a.nextHandler();try{var r=a.done?void 0:a.nextHandler();return d(r,a.done)}catch(n){throw a.done=!0,n}},return:function(){var a=e(this),n=a.iterator;if(a.done=!0,t){var s=l(n,"return");return s?r(s,n):d(void 0,!0)}if(a.inner)try{p(a.inner.iterator,"normal")}catch(i){return p(n,"throw",i)}return n&&p(n,"normal"),d(void 0,!0)}})},y=b(!0),m=b(!1);s(m,h,"Iterator Helper"),t.exports=function(t,e){var a=function(a,r){r?(r.iterator=a.iterator,r.next=a.next):r=a,r.type=e?g:f,r.nextHandler=t,r.counter=0,r.done=!1,v(this,r)};return a.prototype=e?y:m,a}},d024:function(t,e,a){"use strict";var r=a("c65b"),n=a("59ed"),s=a("825a"),i=a("46c4"),o=a("c5cc"),c=a("9bdd"),l=o((function(){var t=this.iterator,e=s(r(this.next,t)),a=this.done=!!e.done;if(!a)return c(t,this.mapper,[e.value,this.counter++],!0)}));t.exports=function(t){return s(this),n(t),new l(i(this),{mapper:t})}},d896:function(t,e,a){"use strict";a("1a32")},e8b5:function(t,e,a){"use strict";var r=a("c6b6");t.exports=Array.isArray||function(t){return"Array"===r(t)}},ec19:function(t,e,a){},ee0e:function(t,e,a){},f2ae:function(t,e,a){"use strict";a("ec19")},fc83:function(t,e,a){"use strict";a("ee0e")}}]);
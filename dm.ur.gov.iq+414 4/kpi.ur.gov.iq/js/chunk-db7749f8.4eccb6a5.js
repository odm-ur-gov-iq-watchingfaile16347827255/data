(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-db7749f8"],{"0b0e":function(t,a,e){},"1c4a":function(t,a,e){"use strict";var s=function(){var t=this,a=t._self._c;return a("div",{class:t.colsClass},[a("div",{staticClass:"single-case"},[a("div",{staticClass:"content"},[a("div",{staticClass:"chart-container",style:t.chartContainerStyle},[a("Bar",{ref:"chart",staticStyle:{height:"100%"},attrs:{"chart-options":t.computedChartOptions,"chart-data":t.chartData,"chart-id":t.chartId}})],1),a("div",{staticClass:"divider"}),a("div",{staticClass:"tools-card-content-container"},[a("div",{staticClass:"tools-card-content"},[a("div",{staticClass:"text-center"},[a("h6",{staticClass:"text-center",style:t.captionStyle},[t._v(" "+t._s(t.caption)+" ")])])])])])])])},i=[],r=(e("0643"),e("4e3e"),e("7b97")),n=e("dd61"),l=e("d9fa");n["f"].register(n["p"],n["q"],n["h"],n["c"],n["e"],n["j"],l["a"]);var o={name:"BarChart",components:{Bar:r["a"]},props:{caption:{type:String,default:""},colsClass:{type:String,default:"col-lg-3 col-sm-12"},chartId:{type:String,default:"bar-chart"},datasetIdKey:{type:String,default:"label"},chartData:{type:Object,required:!0},plugins:{type:Array,default:()=>[]},type:{type:String,default:"vertical"},labelAnchor:{type:String,default:"center"},labelAlign:{type:String,default:"right"},labelOffset:{type:Number,default:9},labelColor:{type:String,default:"black"},minHeight:{type:Number,default:300},heightPerLabel:{type:Number,default:20},forceDesktopView:{type:Boolean,default:!1},maxHeight:{type:Number,default:null},heightPerItem:{type:Number,default:20}},data(){return{windowWidth:window.innerWidth}},computed:{isMobile(){return!this.forceDesktopView&&this.windowWidth<=768},labelCount(){return this.chartData&&this.chartData.labels?this.chartData.labels.length:0},dynamicHeight(){if("horizontal"===this.type){const t=Math.max(this.minHeight,this.labelCount*this.heightPerItem);return this.maxHeight&&t>this.maxHeight?this.maxHeight:t}return this.minHeight},chartContainerStyle(){return{height:this.dynamicHeight+"px",position:"relative"}},computedChartOptions(){const t={responsive:!0,maintainAspectRatio:!1,scales:{x:{ticks:{autoSkip:!1,maxRotation:45,minRotation:0,font:{family:"Cairo",size:this.isMobile?9:15}}},y:{ticks:{autoSkip:!1,font:{family:"Cairo",size:this.isMobile?9:15}}}},plugins:{datalabels:{anchor:this.labelAnchor,align:this.labelAlign,offset:this.labelOffset,formatter:function(t){return t},font:{size:this.isMobile?8:12},color:this.labelColor},legend:{display:!1}}};return"horizontal"===this.type?t.indexAxis="y":t.indexAxis="x",t},captionStyle(){return{fontSize:this.isMobile?"0.8rem":"1rem"}}},mounted(){this.chartData.datasets&&this.chartData.datasets.length>0&&this.chartData.datasets.forEach(t=>{t.backgroundColor||(t.backgroundColor="#4A90E2")}),window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize)},methods:{handleResize(){this.windowWidth=window.innerWidth}}},c=o,h=(e("81bd"),e("0c7c")),d=Object(h["a"])(c,s,i,!1,null,"11b1d632",null);a["a"]=d.exports},"28f6":function(t,a,e){"use strict";var s=function(){var t=this,a=t._self._c;return a("div",{class:t.colsClass},[a("div",{staticClass:"single-case"},[a("div",{staticClass:"content"},[a("div",{staticClass:"tools-card"},[a("div",{staticClass:"tools-title"},[a("h2",[t._v(t._s(t.data))])]),a("div",{staticClass:"tools-icon"},[a("div",{class:["icon-circle",t.gradientClass]},[a("i",{class:t.iconClass})])])]),a("div",{staticClass:"divider"}),a("div",{staticClass:"tools-card-content-container"},[a("div",{staticClass:"tools-card-content"},[a("div",{staticClass:"text-center"},[a("h6",{staticClass:"text-center"},[t._v(" "+t._s(t.caption)+" ")])])])])])])])},i=[],r={name:"ToolsCard",props:{colsClass:{type:String,default:"col-lg-3 col-sm-12"},data:{type:[String,Number],required:!0},caption:{type:String,default:"عدد معاملات الخدمة (بدون مسودات)"},iconClass:{type:String,default:"fa-solid fa-file"},gradientClass:{type:String,default:"blue-gradient"}}},n=r,l=(e("f05b"),e("0c7c")),o=Object(l["a"])(n,s,i,!1,null,"9207fe64",null);a["a"]=o.exports},5463:function(t,a,e){},"81bd":function(t,a,e){"use strict";e("5463")},a919:function(t,a,e){},c9ab:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t._self._c;return a("div",[a("div",{staticClass:"page-title-area"},[a("div",{staticClass:"container"},[a("div",{staticClass:"page-title-content"},[a("h2",[t._v(t._s(t.$t("Eservices")))]),a("ul",[a("li",[a("router-link",{attrs:{to:"/"}},[t._v(t._s(t.$t("Home")))])],1),a("li",{staticClass:"active"},[t._v(t._s(t.$t("Statistics")))])])])])]),a("section",{staticClass:"home-case pt-5 pb-70"},[a("div",{staticClass:"container"},[a("div",{staticClass:"section-title"},[a("span",[t._v(t._s(t.$t("digitalgov")))]),a("h2",[t._v(t._s(t.$t("Terhabstat")))]),a("p",[t._v(" "+t._s(t.$t("terhabServiceDesc"))+" ")])]),a("div",{staticClass:"case"},[a("ul",{staticClass:"all-case"},[a("li",{staticClass:"active"},[a("span",[t._v(t._s(t.$t("All")))])]),a("li",[a("router-link",{attrs:{to:"/terhab-ndc"}},[t._v(" "+t._s(t.$t("footer10"))+" ")])],1)])]),a("div",{staticClass:"row case-list",attrs:{name:"list"}},[a("DynamicBarChart",{key:t.chartsKey,attrs:{chartData:t.terhabChartData,colsClass:"col-lg-12 col-sm-12 item",caption:t.$t("terhabVisitsPerOrg"),type:"horizontal","label-anchor":"end",labelAlign:t.labelalignment,"label-offset":"30",heightPerItem:40,minHeight:400,maxHeight:800}})],1),a("br"),a("div",{staticClass:"row case-list",attrs:{name:"list"}},[a("div",{staticClass:"col-md-12"},[a("ToolsCard",{attrs:{data:t.totalVisits,caption:t.$t("totalVisits"),iconClass:"fa-solid fa-users",gradientClass:"green-gradient",colsClass:"col-lg-12 col-sm-12"}})],1)])])])])},i=[],r=e("1c4a"),n=e("28f6"),l=e("fd61"),o={name:"Terhab",components:{DynamicBarChart:r["a"],ToolsCard:n["a"]},data(){return{chartsKey:!0,totalVisits:0,terhabChartData:{labels:[],datasets:[{label:"",borderWidth:1,data:[],backgroundColor:"#70a1ff"}]},rawData:null}},computed:{labelalignment(){return"en"===this.$i18n.locale?"left":"right"}},watch:{"$i18n.locale":{immediate:!0,handler(){this.updateChartLabels()}}},async mounted(){let t=this.$loading.show();await this.fetchTerhabStatistics(),t.hide()},methods:{async fetchTerhabStatistics(){try{const t=await l["a"].getTerhabOrgsCount();if(t.data.success){const a=t.data.data;this.rawData=a,this.totalVisits=a.total_counts,this.updateChartLabels()}else console.error("Failed to fetch data:",t.data.message)}catch(t){console.error("Error fetching data:",t)}},updateChartLabels(){if(!this.rawData)return;const t="en"===this.$i18n.locale?"terhab_names_en":"terhab_names";this.$set(this.terhabChartData,"labels",this.rawData[t]),this.$set(this.terhabChartData.datasets[0],"data",this.rawData.terhab_counts),this.$set(this.terhabChartData.datasets[0],"label",this.$t("visits")),this.chartsKey=!this.chartsKey}}},c=o,h=(e("f345"),e("0c7c")),d=Object(h["a"])(c,s,i,!1,null,"5441045c",null);a["default"]=d.exports},f05b:function(t,a,e){"use strict";e("a919")},f345:function(t,a,e){"use strict";e("0b0e")},fd61:function(t,a,e){"use strict";var s=e("bc3a"),i=e.n(s);const r=i.a.create({baseURL:"https://visitors.ur.gov.iq/api/kpi",timeout:3e4,headers:{"Content-Type":"application/json"}}),n=t=>{if(t.response)return Promise.reject(t);console.log("server error")},l=t=>(t.status>=200&&t.status<300&&t.data.hasOwnProperty("message"),t);r.interceptors.response.use(l,n);const o={async getTerhabOrgsCount(){const t="/terhab_orgs_count";return r.get(t)},async exportReport(t={}){const a="/export_report";return r.post(a,t)},async getEventOrgs(){const t="/event_org";return r.get(t)},async getEventSubOrgs(t){const a="/event_sub_org";return r.post(a,{org_id:t})}};a["a"]=o}}]);
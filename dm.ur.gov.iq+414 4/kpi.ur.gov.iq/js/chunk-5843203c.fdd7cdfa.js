(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5843203c"],{5615:function(e,t,a){"use strict";var s=a("a93f");const r="/kpis",c={getServiceRequestsStatusesServiceOverall(e,t){let a=`${r}/service_requests_statuses/overall/service?service=${e}`;return"الاجمالي"!==t&&(a+="&year="+t),s["a"].get(a)},getServiceRequestsStatusesQuarter(e,t){let a=`${r}/service_requests_statuses/details_quarter/service?service=${e}`;return"الاجمالي"!==t&&(a+="&year="+t),s["a"].get(a)},getServiceCompletionRateQuarter(e,t){let a=`${r}/service_requests_completion_rate/details_quarter/service?service=${e}`;return"الاجمالي"!==t&&(a+="&year="+t),s["a"].get(a)},getServiceRequestCountQuarter(e,t){let a=`${r}/service_requests_count/details_quarter/service?service=${e}`;return"الاجمالي"!==t&&(a+="&year="+t),s["a"].get(a)},getAllOrgs:function(){return s["a"].get(r+"/helpers/main_orgs")},getServiceMessages:function(e,t){return"الاجمالي"==t?s["a"].get(r+"/message/count?service="+e):s["a"].get(r+`/message/count?service=${e}&year=${t}`)},getServicePaymentDetailsQuarter(e,t){let a=`${r}/payment_details_rate/details_quarter/service?service=${e}`;return"الاجمالي"!==t&&(a+="&year="+t),s["a"].get(a)},getServiceCompletionRatio:function(e,t=null){let a=`${r}/service_requests_completion_rate/overall/service?service=${e}`;return"الاجمالي"!==t&&(a+="&year="+t),s["a"].get(a)},getServiceTotalPaidFees:function(e,t=null){let a=`${r}/payment_details_rate/overall/service?service=${e}`;return"الاجمالي"!==t&&(a+="&year="+t),s["a"].get(a)},getServiceCompletionTime:function(e,t=null){return s["a"].get(r+"/service_request_completion_time/overall/service?service="+e)},getServiceRequestForEachYear(e){let t=`${r}/service_requests_count/service/per_year?service=${e}`;return s["a"].get(t)},getServiceCompletionRateEachYear(e,t=null){return s["a"].get(r+"/service_requests_completion_rate/service/per_year?service="+e)},getServiceAverageCompletionDaysEachYear(e){return s["a"].get(r+"/service_request_completion_time/service/per_year?service="+e)},getServiceRequestTimeInterval(e,t=null){let a=`${r}/service_request_completion_time/requestInterval?service=${e}`;return"الاجمالي"!==t&&(a+="&year="+t),s["a"].get(a)},getServiceEffect(e,t=2024){"الاجمالي"==t&&(t=2024);let a=`${r}/equations/${e}/${t}`;return s["a"].get(a)},getServiceTotalPaidFeesquarter:function(e=null){let t=r+"/payment_details_rate/index_quarter";return"الاجمالي"!==e&&(t+="?year="+e),s["a"].get(t)},getServiceCompletionRateQuarterall:function(e=null){let t=r+"/service_requests_completion_rate/index_quarter";return"الاجمالي"!==e&&(t+="?year="+e),s["a"].get(t)},getServiceRequestsCountQuarter:function(e=null){let t=r+"/service_requests_count/index_quarter";return"الاجمالي"!==e&&(t+="?year="+e),s["a"].get(t)},getServiceStatusesQuarter:function(e=null){let t=r+"/service_requests_statuses/index_quarter";return"الاجمالي"!==e&&(t+="?year="+e),s["a"].get(t)},createEventAdd:function(e){return s["a"].post(r+"/events",e)},getAllEvents:function(){return s["a"].get(r+"/events")},getSpecificEvents(e,t){return s["a"].get(r+`/events?type=${e}&date=${t}`)},addFileToEvent:function(e,t){return httpClientMultiPart.post(r+"/events/"+e+"/files",t)},getEvent:function(e){return s["a"].get(r+"/events/"+e)},deleteEvent:function(e){return s["a"].delete(r+"/events/"+e)},editEvent:function(e,t){return s["a"].put(r+"/events/"+e,t)},deleteEventType:function(e){return s["a"].delete(r+"/event-types/"+e)},addEventType:function(e){return s["a"].post(r+"/event-types",e)},createEvent:function(){return s["a"].get(r+"/events/create")},createEventMinutes:function(e,t){return s["a"].post(r+"/events/"+e+"/minutes",t)},getEventMinutes:function(e){return s["a"].get(r+"/events/"+e+"/minutes")},editEventMinutes:function(e,t){return s["a"].put(r+"/events/"+e+"/minutes",t)},getQr:function(e){return s["a"].get(r+"/events/"+e+"/qr")},getDocumentsEffect(e){return s["a"].post(r+"/equations/dynamic_calc_by_documents",{documentsCount:e})}};t["a"]=c},7282:function(e,t,a){"use strict";var s=a("e330"),r=a("59ed");e.exports=function(e,t,a){try{return s(r(Object.getOwnPropertyDescriptor(e,t)[a]))}catch(c){}}},"7e0c":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"page-title-area"},[t("div",{staticClass:"container"},[t("div",{staticClass:"page-title-content"},[t("h2",[e._v(e._s(e.$t("Eservices")))]),t("ul",[t("li",[t("router-link",{attrs:{to:"/"}},[e._v(e._s(e.$t("Home")))])],1),t("li",{staticClass:"active"},[e._v(e._s(e.$t("verificationsys")))])])])])]),t("section",{staticClass:"home-case pt-5 pb-70"},[t("div",{staticClass:"container"},[t("div",{staticClass:"section-title"},[t("span",[e._v(e._s(e.$t("digitalgov")))]),t("h2",[e._v(e._s(e.$t("DMtitle")))]),t("p",[e._v(e._s(e.$t("DMdesc")))])]),t("div",{staticClass:"case"},[t("ul",{staticClass:"all-case"},[t("li",[t("router-link",{attrs:{to:"/dmv1"}},[e._v(" "+e._s(e.$t("v1"))+" ")])],1),t("li",[t("router-link",{attrs:{to:"/dm"}},[e._v(" "+e._s(e.$t("v2"))+" ")])],1),t("li",{staticClass:"active"},[t("span",[e._v(e._s(e.$t("combined")))])])])]),t("div",{staticClass:"row case-list"},[t("BarChart",{key:e.chartsKey,attrs:{chartData:e.DocumentsPerYear,colsClass:"col-lg-12 col-sm-12 item",caption:e.yearlyCaption,type:"horizontal","label-anchor":"center","label-offset":e.yearlyLabelOffset}})],1),t("div",{staticClass:"row case-list"},[t("ToolsCard",{attrs:{data:e.totaldocs,caption:e.$t("capdm1"),iconClass:"fa-solid fa-percent",gradientClass:"orange-gradient",colsClass:"col-lg-3 col-sm-12"}}),t("ToolsCard",{attrs:{data:e.yearlydocs,caption:e.$t("capdm2"),iconClass:"fa-regular fa-credit-card",gradientClass:"red-gradient",colsClass:"col-lg-3 col-sm-12"}}),t("ToolsCard",{attrs:{data:e.dailydocs,caption:e.$t("capdm4"),iconClass:"fa-regular fa-credit-card",gradientClass:"red-gradient",colsClass:"col-lg-3 col-sm-12"}}),t("ToolsCard",{attrs:{data:e.monthlydocs,caption:e.$t("capdm3"),iconClass:"fa-regular fa-clock",gradientClass:"green-gradient",colsClass:"col-lg-3 col-sm-12"}})],1),t("div",{staticClass:"title-content"},[t("h2",[e._v(e._s(e.$t("envtitle2")))])]),t("CardsGrid",{attrs:{smallScreenCols:2,mediumScreenCols:2,largeScreenCols:5,data:e.gridData}})],1)])])},r=[],c=(a("13d5"),a("1e70"),a("79a4"),a("c1a1"),a("8b00"),a("a4e7"),a("1e5a"),a("72c3"),a("0643"),a("4e3e"),a("a573"),a("9d4a"),a("47d2")),o=a("28f6"),n=a("14cc"),i=a("5615"),l=a("bc3a"),d=a.n(l),u={name:"DM2",components:{BarChart:c["a"],ToolsCard:o["a"],CardsGrid:n["a"]},data(){return{gridData:[{color:"#1abc9c",icon:"fa-solid fa-bus"},{color:"#3498db",icon:"fa-solid fa-copy"},{color:"#9b59b6",icon:"fa-solid fa-leaf"},{color:"#e74c3c",icon:"fa-solid fa-dumpster"},{color:"#f39c12",icon:"fa-solid fa-road"},{color:"#2ecc71",icon:"fa-solid fa-route"},{color:"#e67e22",icon:"fa-solid fa-gas-pump"},{color:"#16a085",icon:"fa-solid fa-wallet"},{color:"#2980b9",icon:"fa-solid fa-building"},{color:"#8e44ad",icon:"fa-solid fa-car"},{color:"#c0392b",icon:"fa-solid fa-car-side"},{color:"#d35400",icon:"fa-solid fa-smog"},{color:"#27ae60",icon:"fa-solid fa-cloud"},{color:"#f1c40f",icon:"fa-solid fa-file-alt"},{color:"#7f8c8d",icon:"fa-solid fa-box"},{color:"#bdc3c7",icon:"fa-solid fa-money-bill"},{color:"#34495e",icon:"fa-solid fa-water"},{color:"#2c3e50",icon:"fa-solid fa-print"},{color:"#بcf0f1",icon:"fa-solid fa-tint"},{color:"#95a5a6",icon:"fa-solid fa-pen-nib"}],chartsKey:!0,DocumentsPerYear:{labels:[],datasets:[{label:"",data:[]}]},totaldocs:"",monthlydocs:"",dailydocs:"",yearlydocs:"",apiData:[],staticData:[],combinedData:[]}},watch:{"$i18n.locale":function(e){this.updateCharts()}},computed:{yearlyLabelOffset(){return"en"===this.$i18n.locale?0:30},yearlyCaption(){return this.$t("docsyear")}},async mounted(){let e=this.$loading.show();await this.fetchAllData(),e.hide()},methods:{async fetchAllData(){await Promise.all([this.fetchApiData(),this.fetchStaticData()]),this.combineData(),this.calculateStatistics(),this.updateCharts(),await this.fetchGridData()},async fetchApiData(){try{const e=await d.a.get("https://dm.ur.gov.iq/api/Endpoint/StatisticsOrderDate",{auth:{username:"kpi",password:"85c620f3d37a779b7eb3cf66b61d683fcdb26e4dd0376b05194d6f8a62e25d48"}});e.data.success&&(this.apiData=e.data.data)}catch(e){console.error("Error fetching API statistics:",e)}},fetchStaticData(){this.staticData=[{date:"2021-11-30",documents:36},{date:"2021-12-31",documents:203},{date:"2022-01-31",documents:255},{date:"2022-02-28",documents:1292},{date:"2022-03-31",documents:16472},{date:"2022-04-30",documents:21810},{date:"2022-05-31",documents:21097},{date:"2022-06-30",documents:30282},{date:"2022-07-31",documents:21595},{date:"2022-08-31",documents:35743},{date:"2022-09-30",documents:54188},{date:"2022-10-31",documents:91361},{date:"2022-11-30",documents:120272},{date:"2022-12-31",documents:97897},{date:"2023-01-31",documents:143317},{date:"2023-02-28",documents:225610},{date:"2023-03-31",documents:219570},{date:"2023-04-30",documents:167457},{date:"2023-05-31",documents:272967},{date:"2023-06-30",documents:233311},{date:"2023-07-31",documents:250374},{date:"2023-08-31",documents:418995},{date:"2023-09-30",documents:315811},{date:"2023-10-31",documents:444018},{date:"2023-11-30",documents:481360},{date:"2023-12-31",documents:369210},{date:"2024-01-31",documents:533068},{date:"2024-02-29",documents:603161},{date:"2024-03-31",documents:631515},{date:"2024-04-30",documents:578256},{date:"2024-05-31",documents:717418},{date:"2024-06-30",documents:450784},{date:"2024-07-31",documents:677771},{date:"2024-08-31",documents:633740},{date:"2024-09-30",documents:552185},{date:"2024-10-31",documents:43919}]},combineData(){const e=new Map;this.staticData.forEach(t=>{const a=t.date;e.set(a,{date:a,documents:t.documents})}),this.apiData.forEach(t=>{const a=t.date.split("T")[0];if(e.has(a)){const s=e.get(a);s.documents+=t.documents}else e.set(a,{date:a,documents:t.documents})}),this.combinedData=Array.from(e.values())},calculateStatistics(){const e=this.staticData.reduce((e,t)=>e+t.documents,0),t=this.apiData.reduce((e,t)=>e+t.documents,0),a=e+t;this.totaldocs=a;const s=new Set;this.combinedData.forEach(e=>{const t=new Date(e.date).getFullYear();s.add(t)});const r=s.size;this.yearlydocs=Math.round(a/r),this.monthlydocs=Math.round(a/(this.combinedData.length/12)),this.dailydocs=Math.round(a/(30*this.combinedData.length))},updateCharts(){const e=this.aggregateYearlyData(this.combinedData);e.sort((e,t)=>e.year-t.year),this.DocumentsPerYear={labels:e.map(e=>e.year),datasets:[{label:this.$t("docsyear"),data:e.map(e=>e.documents),backgroundColor:"rgba(51, 153, 255, 0.6)",borderColor:"rgba(51, 153, 255, 1)",borderWidth:1}]},this.chartsKey=!this.chartsKey},aggregateYearlyData(e){const t={};return e.forEach(e=>{const a=new Date(e.date),s=a.getFullYear();t[s]=(t[s]||0)+e.documents}),Object.entries(t).map(([e,t])=>({year:e,documents:t}))},async fetchGridData(){try{const e=await i["a"].getDocumentsEffect(this.totaldocs);e.data&&(this.gridData=this.gridData.map((t,a)=>{const s=e.data[a];return s?{...t,title:s.title,content:s.content,number:s.number}:t}))}catch(e){console.error("Error fetching grid data:",e)}}}},m=u,v=(a("a6d1"),a("0c7c")),f=Object(v["a"])(m,s,r,!1,null,"34e94db8",null);t["default"]=f.exports},a6d1:function(e,t,a){"use strict";a("ec79")},a93f:function(e,t,a){"use strict";var s=a("bc3a"),r=a.n(s);const c=r.a.create({baseURL:"https://kpi.ur.gov.iq/api/",timeout:3e4,headers:{"Content-Type":"application/json"}}),o=e=>{if(e.response)return Promise.reject(e);console.log("server error")},n=e=>(e.status>=200&&e.status<300&&e.data.hasOwnProperty("message"),e);c.interceptors.response.use(n,o),t["a"]=c},ec79:function(e,t,a){}}]);
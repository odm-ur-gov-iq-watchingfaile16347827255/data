name: ğŸ“Š Data Repository CI / ÙØ­Øµ Ù…Ø³ØªÙˆØ¯Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

on:
  push:
    branches: [ "main" ]
    paths:
      - '**.md'
      - '**.html'
      - '**.yml'
      - '**.yaml'
      - '.github/workflows/**'
  pull_request:
    branches: [ "main" ]
    paths:
      - '**.md'
      - '**.html'
      - '**.yml'
      - '**.yaml'
      - '.github/workflows/**'

jobs:
  validate:
    name: ğŸ” Validate Repository / Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹
    runs-on: ubuntu-latest

    steps:
    - name: ğŸ“¥ Checkout code / ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒÙˆØ¯
      uses: actions/checkout@v4
      with:
        lfs: true
        
    - name: ğŸ” Validate markdown files / Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù…Ù„ÙØ§Øª markdown
      run: |
        echo "ğŸ” ÙØ­Øµ Ù…Ù„ÙØ§Øª Markdown..."
        echo "ğŸ” Validating markdown files..."
        
        # Check for broken markdown / ÙØ­Øµ Markdown Ø§Ù„Ù…ÙƒØ³ÙˆØ±
        find . -name "*.md" -not -path "./.git/*" | while read file; do
          echo "Checking $file"
          # Basic markdown validation can be added here
        done
        
    - name: ğŸ“‹ Check repository structure / ÙØ­Øµ Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹
      run: |
        echo "ğŸ“‹ ÙØ­Øµ Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹..."
        echo "ğŸ“‹ Checking repository structure..."
        
        # Verify essential files exist / Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
        if [ ! -f "README.md" ]; then
          echo "âš ï¸ README.md Ù…ÙÙ‚ÙˆØ¯"
          echo "âš ï¸ README.md is missing"
        fi
        
        if [ ! -f ".gitignore" ]; then
          echo "âš ï¸ .gitignore Ù…ÙÙ‚ÙˆØ¯"
          echo "âš ï¸ .gitignore is missing"
        fi
        
        if [ ! -f ".gitattributes" ]; then
          echo "âš ï¸ .gitattributes Ù…ÙÙ‚ÙˆØ¯"
          echo "âš ï¸ .gitattributes is missing"
        fi
        
        echo "âœ… ØªÙ… Ø¥ÙƒÙ…Ø§Ù„ ÙØ­Øµ Ø§Ù„Ø¨Ù†ÙŠØ©"
        echo "âœ… Structure check completed"
        
    - name: ğŸ¯ Check Git LFS files / ÙØ­Øµ Ù…Ù„ÙØ§Øª Git LFS
      run: |
        echo "ğŸ¯ ÙØ­Øµ Ù…Ù„ÙØ§Øª Git LFS..."
        echo "ğŸ¯ Checking Git LFS files..."
        
        # List LFS files / Ù‚Ø§Ø¦Ù…Ø© Ù…Ù„ÙØ§Øª LFS
        git lfs ls-files
        
        # Check LFS file integrity / ÙØ­Øµ Ø³Ù„Ø§Ù…Ø© Ù…Ù„ÙØ§Øª LFS
        git lfs fsck
        
        echo "âœ… ØªÙ… Ø¥ÙƒÙ…Ø§Ù„ ÙØ­Øµ Git LFS"
        echo "âœ… Git LFS check completed"
